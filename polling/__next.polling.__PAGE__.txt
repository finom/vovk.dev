1:"$Sreact.fragment"
2:I[55169,["/_next/static/chunks/2f545f6d145a6a33.js","/_next/static/chunks/f663ddeedb906bce.js","/_next/static/chunks/6dccb23b94b76c16.js","/_next/static/chunks/18261f32c8b1cd5d.js","/_next/static/chunks/442cfc44547bfe65.js","/_next/static/chunks/1aa8e0a9a6fe0f6f.js","/_next/static/chunks/a4f78601a5cf1eea.js","/_next/static/chunks/7a896a6378983d41.js"],"TOCProvider"]
3:I[769,["/_next/static/chunks/2f545f6d145a6a33.js","/_next/static/chunks/f663ddeedb906bce.js","/_next/static/chunks/6dccb23b94b76c16.js","/_next/static/chunks/18261f32c8b1cd5d.js","/_next/static/chunks/442cfc44547bfe65.js","/_next/static/chunks/1aa8e0a9a6fe0f6f.js","/_next/static/chunks/a4f78601a5cf1eea.js","/_next/static/chunks/7a896a6378983d41.js"],"Sidebar"]
4:I[47486,["/_next/static/chunks/2f545f6d145a6a33.js","/_next/static/chunks/f663ddeedb906bce.js","/_next/static/chunks/6dccb23b94b76c16.js","/_next/static/chunks/18261f32c8b1cd5d.js","/_next/static/chunks/442cfc44547bfe65.js","/_next/static/chunks/1aa8e0a9a6fe0f6f.js","/_next/static/chunks/a4f78601a5cf1eea.js","/_next/static/chunks/7a896a6378983d41.js"],"ClientWrapper"]
9:I[63894,["/_next/static/chunks/2f545f6d145a6a33.js","/_next/static/chunks/f663ddeedb906bce.js","/_next/static/chunks/6dccb23b94b76c16.js","/_next/static/chunks/18261f32c8b1cd5d.js","/_next/static/chunks/442cfc44547bfe65.js","/_next/static/chunks/1aa8e0a9a6fe0f6f.js","/_next/static/chunks/a4f78601a5cf1eea.js","/_next/static/chunks/7a896a6378983d41.js"],"HeadingAnchor"]
a:I[22016,["/_next/static/chunks/2f545f6d145a6a33.js","/_next/static/chunks/f663ddeedb906bce.js","/_next/static/chunks/6dccb23b94b76c16.js","/_next/static/chunks/18261f32c8b1cd5d.js","/_next/static/chunks/442cfc44547bfe65.js","/_next/static/chunks/1aa8e0a9a6fe0f6f.js","/_next/static/chunks/a4f78601a5cf1eea.js","/_next/static/chunks/7a896a6378983d41.js"],""]
b:I[318,["/_next/static/chunks/2f545f6d145a6a33.js","/_next/static/chunks/f663ddeedb906bce.js","/_next/static/chunks/6dccb23b94b76c16.js","/_next/static/chunks/18261f32c8b1cd5d.js","/_next/static/chunks/442cfc44547bfe65.js","/_next/static/chunks/1aa8e0a9a6fe0f6f.js","/_next/static/chunks/a4f78601a5cf1eea.js","/_next/static/chunks/7a896a6378983d41.js"],"PollExample"]
28:I[97367,["/_next/static/chunks/8a07e07106d6caa4.js","/_next/static/chunks/e9a04dc7022658f6.js"],"OutletBoundary"]
29:"$Sreact.suspense"
2b:I[17540,["/_next/static/chunks/2f545f6d145a6a33.js","/_next/static/chunks/f663ddeedb906bce.js","/_next/static/chunks/6dccb23b94b76c16.js","/_next/static/chunks/18261f32c8b1cd5d.js","/_next/static/chunks/442cfc44547bfe65.js","/_next/static/chunks/1aa8e0a9a6fe0f6f.js","/_next/static/chunks/a4f78601a5cf1eea.js","/_next/static/chunks/7a896a6378983d41.js"],"default"]
2e:I[83987,["/_next/static/chunks/2f545f6d145a6a33.js","/_next/static/chunks/f663ddeedb906bce.js","/_next/static/chunks/6dccb23b94b76c16.js","/_next/static/chunks/18261f32c8b1cd5d.js","/_next/static/chunks/442cfc44547bfe65.js","/_next/static/chunks/1aa8e0a9a6fe0f6f.js","/_next/static/chunks/a4f78601a5cf1eea.js","/_next/static/chunks/7a896a6378983d41.js"],"ToggleWordWrapButton"]
5:T2deb,import GithubFiles from '@/components/GithubFiles';
import { PollExample } from '../../components/vovk-examples';

TODO: deletions need to be explicit

# Realtime polling (experimental)

## The goal

- Make the UI update automatically when the data is changed by other users or third-party services
- Use only HTTP protocol (no WebSockets, no SSE) to ensure compatibility with any hosting provider

##  Introduction

In the [previous article](/realtime-ui), we covered how to use the OpenAPI Realtime API to deliver instant UI updates while the user interacts with the app. The LLM functions created with `createLLMTools` ran in the browser, where the AI performed HTTP requests to the server using RPC modules.

On this page, we explain how to use database polling to receive updates triggered by other users or third-party services (such as [MCP](/mcp)), keeping the UI in sync with the database. To ensure the app can be deployed to any hosting provider, we avoid non-HTTP protocols such as WebSockets and instead use HTTP polling powered by [JSONLines](/controller/jsonlines).

The component below demonstrates a simple polling example that receives incremental updates from the server every second (see "Network" tab at dev tools). After 10 updates, the server closes the connection, and the client reconnects automatically. We can use the same approach to receive database updates in real time, by having the server send updates whenever the database changes.

<div className="example">
<PollExample />
[View on examples.vovk.dev »](https://examples.vovk.dev/polling)
</div>

## Redis DB as event bus

While we could poll the main Postgres database for changes, that approach is inefficient. Instead, we use Redis as an event bus. Whenever the main database changes, we write a small event to Redis. Our polling service reads these events every second and relays them to clients with the app open.

Because we use [Prisma](https://www.prisma.io/) as our ORM, we rely on [Prisma Extensions](https://www.prisma.io/docs/orm/prisma-client/client-extensions) to hook into database operations and write events to Redis. This is where the `DatabaseService` mentioned in the [previous article](/realtime-ui) comes into play.

<GithubFiles paths={['src/modules/database/DatabaseService.ts']} repo="vovk-kanban-demo" cutLines={[3, [7, 13]]} highlightLines={[19, 95]} />

- The `getClient` method calls `DatabaseEventsService.beginEmitting(){:ts}` to start emitting events. `beginEmitting` runs a `setInterval` that connects to Redis and periodically checks for new events. When a new event is found, it emits it via [mitt](https://npmjs.com/package/mitt).
- `prisma.$extends` hooks into all Prisma model operations, determines whether an operation modifies data, and if so calls `await DatabaseEventsService.createChanges([change]){:ts}` to persist a change entry in Redis. The change captures creates, updates, and deletions:

```ts
export type DBChange = {
  id: string;
  entityType: EntityType;
  date: string;
  type: "create" | "update" | "delete";
};
```

The `date` field indicates when the change occurred.

- For `create` and `update` operations, it uses the `updatedAt` DB field (Important: all write operations must set this field).
- For `delete` operations, it uses the current time.

The `delete` operation also adds an `__isDeleted` property. The front end checks this property to hide the deleted entity by setting `enumerable: false` on the entity registry item (see the [previous article](/realtime-ui)).

Operations like `find...` and `count` do not trigger changes and are passed through as-is.

In addition to `beginEmitting` and `createChanges`, `DatabaseEventsService` provides a `connect` method and an `emitter` (a `mitt` instance). These are used by the polling service (`DatabasePollService`, discussed next) to be notified about new events.

<GithubFiles paths={['src/modules/database/DatabaseEventsService.ts']} repo="vovk-kanban-demo" />

## Polling controller and service

With Redis change entries and the change emitter in place, we can implement a polling endpoint that streams updates to clients in real time. The `DatabasePollController` exposes a single [JSONLines](/controller/jsonlines) endpoint, and `DatabasePollService` uses a [JSONLinesResponse](/controller/jsonlines#jsonlinesresponse) instance (received from the controller) to send data to clients. The service closes the connection safely after 30 seconds, so clients should reconnect.

<GithubFiles paths={['src/modules/database/DatabasePollService.ts', 'src/modules/database/DatabasePollController.ts']} repo="vovk-kanban-demo"  />

- When a `delete` DB change is emitted via `DatabaseEventsService.emitter`, the service sends an event with `id`, `entityType`, and `__isDeleted: true`. The front end uses `__isDeleted` to hide the entity by making it non-enumerable in the registry.
- When an `update` or `create` change is emitted, the service fetches the full entity from Postgres (since Redis stores only metadata) and sends it to clients.

## Client-side logic

On the client side (for example, in a React component), call `DatabasePollRPC.poll()` to receive a stream of database events. As with any [JSONLines](/controller/jsonlines) RPC method, it returns an async iterable that you can consume in a `for await` loop. Because the server may close the connection or a network error may occur, wrap the logic in a retry loop and avoid reconnecting on `AbortError`. Since the [fetcher](/imports#fetcher) is already [configured](/realtime-ui#fetcher), the loop body can be empty—you do not need to handle data manually.

Front-end code, besides the polling logic, also includes on/off toggle state saved to `localStorage`, so the user can enable or disable polling as needed.

```tsx
const [isPollingEnabled, setIsPollingEnabled] = useState(false);
const pollingAbortControllerRef = useRef<AbortController | null>(null);

useEffect(() => {
  const isEnabled = localStorage.getItem("isPollingEnabled");
  setIsPollingEnabled(isEnabled === "true");
}, []);

useEffect(() => {
  localStorage.setItem("isPollingEnabled", isPollingEnabled.toString());
  async function poll(retries = 0) {
    if (!isPollingEnabled) {
      pollingAbortControllerRef.current?.abort();
      return;
    }
    try {
      while (true) {
        console.log("START POLLING");
        const iterable = await DatabasePollRPC.poll();
        pollingAbortControllerRef.current = iterable.abortController;

        for await (const iteration of iterable) {
          console.log("New DB update:", iteration);
        }
      }
    } catch (error) {
      if (
        retries < 5 &&
        (error as Error & { cause?: Error }).cause?.name !== "AbortError"
      ) {
        console.error("Polling failed, retrying...", error);
        await new Promise((resolve) => setTimeout(resolve, 2000));
        return poll(retries + 1);
      }
    }
  }

  void poll();

  return () => {
    pollingAbortControllerRef.current?.abort();
  };
}, [isPollingEnabled]);
```

## Bonus: Telegram bot (unstable)

As an example of a third-party source of database changes, see the [TelegramService](https://github.com/vovk-kanban-demo/src/modules/telegram/TelegramService.ts) and the accompanying [TelegramController](https://github.com/vovk-kanban-demo/src/modules/telegram/TelegramController.ts). It accepts text or voice messages, performs voice-to-text transcription if needed using the OpenAI Whisper API, and uses the same `createLLMTools` function on the server:

```ts
const { tools } = createLLMTools({
  modules: {
    UserController,
    TaskController,
  },
});
```

The Telegram API library is implemented with [OpenAPI Mixins](/codegen) and used as a `TelegramAPI` module to call Telegram API methods.

```ts filename="vovk.config.mjs"
// @ts-check
/** @type {import('vovk').VovkConfig} */
const config = {
  // ...
  outputConfig: {
    // ...
    segments: {
      telegram: {
        openAPIMixin: {
          source: {
            url: "https://raw.githubusercontent.com/sys-001/telegram-bot-api-versions/refs/heads/main/files/openapi/yaml/v183.yaml",
            fallback: ".openapi-cache/telegram.yaml",
          },
          getModuleName: "TelegramAPI",
          getMethodName: ({ path }) => path.replace(/^\//, ""),
          errorMessageKey: "description",
        },
      },
    },
  },
};

export default config;
```

The `TelegramService` class handles interaction with the Telegram API and generates AI responses using the Vercel AI SDK.

```ts filename="src/modules/telegram/TelegramService.ts"
import OpenAI from "openai";
import { TelegramAPI } from "vovk-client";

const openai = new OpenAI();

export default class TelegramService {
  static get apiRoot() {
    const TELEGRAM_BOT_TOKEN = process.env.TELEGRAM_BOT_TOKEN;
    if (!TELEGRAM_BOT_TOKEN) {
      throw new Error("Missing TELEGRAM_BOT_TOKEN environment variable");
    }
    return `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}`;
  }

  // ...

  private static async generateAIResponse(
    chatId: number,
    userMessage: string,
    systemPrompt: string,
  ): Promise<{ botResponse: string; messages: ModelMessage[] }> {
    // Get chat history
    const history = await this.getChatHistory(chatId);
    const messages = [
      ...this.formatHistoryForVercelAI(history),
      { role: "user", content: userMessage } as const,
    ];
    const { tools } = createLLMTools({
      modules: {
        UserController,
        TaskController,
      },
    });
  
    // Generate a response using Vercel AI SDK
    const { text } = await generateText({
      model: vercelOpenAI("gpt-5"),
      system: systemPrompt,
      messages,
      stopWhen: stepCountIs(16),
      tools: {
        ...Object.fromEntries(
          tools.map(({ name, execute, description, parameters }) => [
            name,
            tool<KnownAny, KnownAny>({
              execute,
              description,
              inputSchema: jsonSchema(parameters as KnownAny),
            }),
          ]),
        ),
      },
    });

    const botResponse = text || "I couldn't generate a response.";

    // Add user message to history
    await this.addToHistory(chatId, "user", userMessage);
    // Add assistant response to history
    await this.addToHistory(chatId, "assistant", botResponse);

    messages.push({
      role: "assistant",
      content: botResponse,
    });

    return { botResponse, messages };
  }

  private static async sendTextMessage(
    chatId: number,
    text: string,
  ): Promise<void> {
    await TelegramAPI.sendMessage({
      body: {
        chat_id: chatId,
        text: text,
        parse_mode: "html",
      },
      apiRoot: this.apiRoot,
    });
  }

  private static async sendVoiceMessage(
    chatId: number,
    text: string,
  ): Promise<void> {
    try {
      // Generate speech from text using OpenAI TTS
      const speechResponse = await openai.audio.speech.create({
        model: "tts-1",
        voice: "alloy",
        input: text,
        response_format: "opus",
      });

      // Convert the response to a Buffer
      const voiceBuffer = Buffer.from(await speechResponse.arrayBuffer());

      const formData = new FormData();
      formData.append("chat_id", String(chatId));
      formData.append(
        "voice",
        new Blob([voiceBuffer], { type: "audio/ogg" }),
        "voice.ogg",
      );

      // Send the voice message
      await TelegramAPI.sendVoice({
        body: formData,
        apiRoot: this.apiRoot,
      });
    } catch (error) {
      console.error("Error generating voice message:", error);
      // Fallback to text message if voice generation fails
      await this.sendTextMessage(chatId, text);
    }
  }

  // ...
}
```0:{"buildId":"7Xr9x1Gu3-1qJABMkjxJM","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width)","children":["$","$L2",null,{"value":[{"value":"The goal","id":"the-goal","depth":2},{"value":"Introduction","id":"introduction","depth":2},{"value":"Redis DB as event bus","id":"redis-db-as-event-bus","depth":2},{"value":"Polling controller and service","id":"polling-controller-and-service","depth":2},{"value":"Client-side logic","id":"client-side-logic","depth":2},{"value":"Bonus: Telegram bot (unstable)","id":"bonus-telegram-bot-unstable","depth":2}],"children":[["$","$L3",null,{}],["$","$L4",null,{"metadata":{"title":"Realtime polling (experimental)","filePath":"src/app/polling/page.mdx","timestamp":1761940944000},"sourceCode":"$5","children":["$L6","$L7"]}]]}]}],null,"$L8"]}],"loading":null,"isPartial":false}
6:["$","div",null,{"id":"nextra-skip-nav"}]
7:["$","main",null,{"data-pagefind-body":true,"children":[["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"TODO: deletions need to be explicit"}],"\n",["$","h1",null,{"className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-bold x:mt-2 x:text-4xl","children":["Realtime polling (experimental)","$undefined"]}],"\n",["$","h2",null,{"id":"the-goal","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["The goal",["$","$L9",null,{"id":"the-goal"}]]}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Make the UI update automatically when the data is changed by other users or third-party services"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Use only HTTP protocol (no WebSockets, no SSE) to ensure compatibility with any hosting provider"}],"\n"]}],"\n",["$","h2",null,{"id":"introduction","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Introduction",["$","$L9",null,{"id":"introduction"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["In the ",["$","$La",null,{"href":"/realtime-ui","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"previous article"}],", we covered how to use the OpenAPI Realtime API to deliver instant UI updates while the user interacts with the app. The LLM functions created with ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"createLLMTools"}]," ran in the browser, where the AI performed HTTP requests to the server using RPC modules."]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["On this page, we explain how to use database polling to receive updates triggered by other users or third-party services (such as ",["$","$La",null,{"href":"/mcp","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"MCP"}],"), keeping the UI in sync with the database. To ensure the app can be deployed to any hosting provider, we avoid non-HTTP protocols such as WebSockets and instead use HTTP polling powered by ",["$","$La",null,{"href":"/controller/jsonlines","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"JSONLines"}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"The component below demonstrates a simple polling example that receives incremental updates from the server every second (see “Network” tab at dev tools). After 10 updates, the server closes the connection, and the client reconnects automatically. We can use the same approach to receive database updates in real time, by having the server send updates whenever the database changes."}],"\n",["$","div",null,{"className":"example","children":[["$","$Lb",null,{}],["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["$","a",null,{"href":"https://examples.vovk.dev/polling","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["View on examples.vovk.dev »",[" ","$Lc"]]}]}]]}],"\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27"]}]
8:["$","$L28",null,{"children":["$","$29",null,{"name":"Next.MetadataOutlet","children":"$@2a"}]}]
c:["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]
d:["$","h2",null,{"id":"redis-db-as-event-bus","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Redis DB as event bus",["$","$L9",null,{"id":"redis-db-as-event-bus"}]]}]
e:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"While we could poll the main Postgres database for changes, that approach is inefficient. Instead, we use Redis as an event bus. Whenever the main database changes, we write a small event to Redis. Our polling service reads these events every second and relays them to clients with the app open."}]
f:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Because we use ",["$","a",null,{"href":"https://www.prisma.io/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["Prisma",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," as our ORM, we rely on ",["$","a",null,{"href":"https://www.prisma.io/docs/orm/prisma-client/client-extensions","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["Prisma Extensions",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," to hook into database operations and write events to Redis. This is where the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabaseService"}]," mentioned in the ",["$","$La",null,{"href":"/realtime-ui","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"previous article"}]," comes into play."]}]
2c:Td76,import { PrismaClient } from "../../../prisma/generated/client";
import { PrismaNeon } from "@prisma/adapter-neon";
import { neonConfig } from "@neondatabase/serverless";
import DatabaseEventsService, { type DBChange } from "./DatabaseEventsService";
import type { BaseEntity } from "@/types";

if (!process.env.VERCEL_ENV) {
  neonConfig.wsProxy = (host) => `${host}:5433/v1`;
  neonConfig.useSecureWebSocket = false;
  neonConfig.pipelineTLS = false;
  neonConfig.pipelineConnect = false;
}

export default class DatabaseService {
  static get prisma() {
    return (this.#prisma ??= this.getClient());
  }
  static #prisma: ReturnType<typeof DatabaseService.getClient> | null = null;

  private static getClient() {
    const prisma = new PrismaClient({
      adapter: new PrismaNeon({
        connectionString: `${process.env.DATABASE_URL}`,
      }),
    });

    DatabaseEventsService.beginEmitting();

    return prisma.$extends({
      name: "events",
      query: {
        $allModels: {
          async $allOperations({ model, operation, args, query }) {
            const allowedOperations = [
              "create",
              "update",
              "delete",
              "findMany",
              "findUnique",
              "findFirst",
              "count",
            ] as const;
            type AllowedOperation = (typeof allowedOperations)[number];
            if (!allowedOperations.includes(operation as AllowedOperation)) {
              throw new Error(
                `Unsupported database operation "${operation}" on model "${model}"`,
              );
            }
            const result = (await query(args)) as BaseEntity | BaseEntity[];

            const now = new Date().toISOString();
            let change: DBChange | null = null;

            const makeChange = (
              entity: BaseEntity,
              type: DBChange["type"],
            ) => ({
              id: entity.id,
              entityType: entity.entityType,
              date:
                type === "delete"
                  ? now
                  : entity.updatedAt
                    ? new Date(entity.updatedAt).toISOString()
                    : now,
              type,
            });

            switch (operation as AllowedOperation) {
              case "create":
                if ("entityType" in result)
                  change = makeChange(result, "create");
                break;

              case "update":
                if ("entityType" in result)
                  change = makeChange(result, "update");
                break;

              case "delete":
                if ("entityType" in result) {
                  change = makeChange(result, "delete");
                  // Automatically add __isDeleted flag to deletion results
                  Object.assign(result, { __isDeleted: true });
                }
                break;

              case "findMany":
              case "findUnique":
              case "findFirst":
              case "count":
                // no events
                break;

              default:
                console.warn(
                  `Unhandled Prisma operation: ${operation} for model: ${model}`,
                );
                break;
            }

            if (change) {
              await DatabaseEventsService.createChanges([change]);
            }

            return result;
          },
        },
      },
    });
  }
}
10:["$","div",null,{"className":"bg-code rounded-lg mt-4","id":"_S_1_","children":[["$","$L2b",null,{"githubFiles":[{"path":"src/modules/database/DatabaseService.ts","content":"$2c"}],"owner":"finom","repo":"vovk-kanban-demo","ghRef":"main","id":"_S_1_"}],["$L2d"]]}]
11:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":["The ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"getClient"}]," method calls ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"DatabaseEventsService."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"beginEmitting"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}]]}]}]," to start emitting events. ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"beginEmitting"}]," runs a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"setInterval"}]," that connects to Redis and periodically checks for new events. When a new event is found, it emits it via ",["$","a",null,{"href":"https://npmjs.com/package/mitt","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["mitt",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"prisma.$extends"}]," hooks into all Prisma model operations, determines whether an operation modifies data, and if so calls ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" DatabaseEventsService."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"createChanges"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"([change])"}]]}]}]," to persist a change entry in Redis. The change captures creates, updates, and deletions:"]}],"\n"]}]
12:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L2e",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"export"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" type"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" DBChange"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"  id"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" string"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"  entityType"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" EntityType"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"  date"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" string"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"  type"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"create\""}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" |"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"update\""}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" |"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"delete\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"};"}]}]]}]]}]]}]
13:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["The ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"date"}]," field indicates when the change occurred."]}]
14:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":["For ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"create"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"update"}]," operations, it uses the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"updatedAt"}]," DB field (Important: all write operations must set this field)."]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":["For ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"delete"}]," operations, it uses the current time."]}],"\n"]}]
15:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["The ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"delete"}]," operation also adds an ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"__isDeleted"}]," property. The front end checks this property to hide the deleted entity by setting ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"enumerable: false"}]," on the entity registry item (see the ",["$","$La",null,{"href":"/realtime-ui","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"previous article"}],")."]}]
16:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Operations like ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"find..."}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"count"}]," do not trigger changes and are passed through as-is."]}]
17:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["In addition to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"beginEmitting"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"createChanges"}],", ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabaseEventsService"}]," provides a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"connect"}]," method and an ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"emitter"}]," (a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"mitt"}]," instance). These are used by the polling service (",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabasePollService"}],", discussed next) to be notified about new events."]}]
2f:T7c6,import { EntityType } from "../../../prisma/generated/client";
import mitt from "mitt";
import { createClient } from "redis";

export type DBChange = {
  id: string;
  entityType: EntityType;
  date: string;
  type: "create" | "update" | "delete";
};

export default class DatabaseEventsService {
  public static readonly DB_KEY = "db_updates";

  private static readonly INTERVAL = 1_000;
  private static lastTimestamp = Date.now();

  private static redisClient = createClient({
    url: process.env.REDIS_URL,
  });

  public static emitter = mitt<{
    [DatabaseEventsService.DB_KEY]: DBChange[];
  }>();

  // ensure Redis is connected
  private static async connect() {
    if (!this.redisClient.isOpen) {
      await this.redisClient.connect();
      this.redisClient.on("error", (err) => {
        console.error("Redis Client Error", err);
      });
    }
  }

  // push one update into our ZSET, with score = timestamp
  public static async createChanges(changes: DBChange[]) {
    if (changes.length === 0) return;

    await this.connect();

    // build array of { score, value } objects
    const entries = changes.map(({ id, entityType, type, date }) => ({
      score: Date.now(),
      value: JSON.stringify({ id, entityType, date, type }),
    }));

    // one multi(): batch ZADD + EXPIRE
    await this.redisClient
      .multi()
      .zAdd(this.DB_KEY, entries)
      .expire(this.DB_KEY, (this.INTERVAL * 60) / 1000)
      .exec();
  }

  public static beginEmitting() {
    setInterval(async () => {
      await this.connect();

      const now = Date.now();

      // get everything with score ∈ (lastTimestamp, now]
      const raw = await this.redisClient.zRangeByScore(
        this.DB_KEY,
        this.lastTimestamp + 1,
        now,
      );

      this.lastTimestamp = now;

      if (raw.length > 0) {
        const updates = raw.map((s) => JSON.parse(s) as DBChange);
        this.emitter.emit(this.DB_KEY, updates);
      }
    }, this.INTERVAL);
  }
}
18:["$","div",null,{"className":"bg-code rounded-lg mt-4","id":"_S_2_","children":[["$","$L2b",null,{"githubFiles":[{"path":"src/modules/database/DatabaseEventsService.ts","content":"$2f"}],"owner":"finom","repo":"vovk-kanban-demo","ghRef":"main","id":"_S_2_"}],[["$","div","0",{"className":"h-full github-tab-content ","id":"tab-_S_2_-0","children":[["$","div",null,{"className":"border dark:!border-gray-800 text-sm","children":[["$","div",null,{"data-theme":"dark","className":"hidden dark:block","children":[["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":"$L30"}]]}],"$L31"]}]," ","$L32"]}],"$L33"]}]]]}]
19:["$","h2",null,{"id":"polling-controller-and-service","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Polling controller and service",["$","$L9",null,{"id":"polling-controller-and-service"}]]}]
1a:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["With Redis change entries and the change emitter in place, we can implement a polling endpoint that streams updates to clients in real time. The ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabasePollController"}]," exposes a single ",["$","$La",null,{"href":"/controller/jsonlines","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"JSONLines"}]," endpoint, and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabasePollService"}]," uses a ",["$","$La",null,{"href":"/controller/jsonlines#jsonlinesresponse","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"JSONLinesResponse"}]," instance (received from the controller) to send data to clients. The service closes the connection safely after 30 seconds, so clients should reconnect."]}]
34:T8d3,import { JSONLinesResponse, type VovkIteration } from "vovk";
import { forEach, groupBy } from "lodash";
import type DatabasePollController from "./DatabasePollController";
import DatabaseEventsService, { type DBChange } from "./DatabaseEventsService";
import DatabaseService from "./DatabaseService";

export default class PollService {
  static poll(
    resp: JSONLinesResponse<VovkIteration<typeof DatabasePollController.poll>>,
  ) {
    setTimeout(resp.close, 30_000);

    let asOldAs = new Date();
    // 10 minutes ago; TODO: use latest update date from registry
    asOldAs.setMinutes(asOldAs.getMinutes() - 10);

    DatabaseEventsService.emitter.on(
      DatabaseEventsService.DB_KEY,
      (changes) => {
        const deleted = changes.filter((change) => change.type === "delete");
        const createdOrUpdated = changes.filter(
          (change) => change.type === "create" || change.type === "update",
        );

        for (const deletedEntity of deleted) {
          resp.send({
            id: deletedEntity.id,
            entityType: deletedEntity.entityType,
            __isDeleted: true,
          });
        }
        // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]
        forEach(groupBy(createdOrUpdated, "entityType"), (changes) => {
          const maxDateItem = changes.reduce(
            (max, change) => {
              const changeDate = new Date(change.date);
              return changeDate.getTime() > new Date(max.date).getTime()
                ? change
                : max;
            },
            { date: new Date(0) } as unknown as DBChange,
          );

          if (new Date(maxDateItem.date).getTime() > asOldAs.getTime()) {
            void DatabaseService.prisma[maxDateItem.entityType as "user"]
              .findMany({
                where: {
                  updatedAt: {
                    gt: asOldAs,
                  },
                },
              })
              .then((entities) => {
                for (const entity of entities) {
                  resp.send(entity);
                }
              });
            asOldAs = new Date(maxDateItem.date);
          }
        });
      },
    );
  }
}
1b:["$","div",null,{"className":"bg-code rounded-lg mt-4","id":"_S_3_","children":[["$","$L2b",null,{"githubFiles":[{"path":"src/modules/database/DatabasePollService.ts","content":"$34"},{"path":"src/modules/database/DatabasePollController.ts","content":"import { EntityType } from \"../../../prisma/generated/client\";\nimport { get, JSONLinesResponse, prefix, type VovkIteration } from \"vovk\";\nimport { z } from \"zod\";\nimport DatabasePollService from \"./DatabasePollService\";\nimport { TaskSchema, UserSchema } from \"../../../prisma/generated/schemas\";\nimport { withZod } from \"@/lib/withZod\";\nimport { sessionGuard } from \"@/decorators/sessionGuard\";\n\n@prefix(\"poll\")\nexport default class DatabasePollController {\n  @get()\n  @sessionGuard()\n  static poll = withZod({\n    preferTransformed: false,\n    iteration: z.union([\n      z.object({\n        id: z.uuid(),\n        entityType: z.enum(EntityType),\n        __isDeleted: z.boolean().optional(),\n      }),\n      UserSchema,\n      TaskSchema,\n    ]),\n    async handle(req) {\n      const response = new JSONLinesResponse<\n        VovkIteration<typeof DatabasePollController.poll>\n      >(req);\n\n      void DatabasePollService.poll(response);\n\n      return response;\n    },\n  });\n}\n"}],"owner":"finom","repo":"vovk-kanban-demo","ghRef":"main","id":"_S_3_"}],["$L35","$L36"]]}]
1c:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":["When a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"delete"}]," DB change is emitted via ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabaseEventsService.emitter"}],", the service sends an event with ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"id"}],", ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"entityType"}],", and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"__isDeleted: true"}],". The front end uses ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"__isDeleted"}]," to hide the entity by making it non-enumerable in the registry."]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":["When an ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"update"}]," or ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"create"}]," change is emitted, the service fetches the full entity from Postgres (since Redis stores only metadata) and sends it to clients."]}],"\n"]}]
1d:["$","h2",null,{"id":"client-side-logic","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Client-side logic",["$","$L9",null,{"id":"client-side-logic"}]]}]
1e:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["On the client side (for example, in a React component), call ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabasePollRPC.poll()"}]," to receive a stream of database events. As with any ",["$","$La",null,{"href":"/controller/jsonlines","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"JSONLines"}]," RPC method, it returns an async iterable that you can consume in a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"for await"}]," loop. Because the server may close the connection or a network error may occur, wrap the logic in a retry loop and avoid reconnecting on ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"AbortError"}],". Since the ",["$","$La",null,{"href":"/imports#fetcher","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"fetcher"}]," is already ",["$","$La",null,{"href":"/realtime-ui#fetcher","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"configured"}],", the loop body can be empty—you do not need to handle data manually."]}]
1f:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Front-end code, besides the polling logic, also includes on/off toggle state saved to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"localStorage"}],", so the user can enable or disable polling as needed."]}]
20:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L2e",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"const"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ["}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"isPollingEnabled"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"setIsPollingEnabled"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"] "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" useState"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"false"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" pollingAbortControllerRef"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" useRef"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"AbortController"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" |"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" null"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":">("}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"null"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"useEffect"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(() "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" isEnabled"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" localStorage."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"getItem"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"isPollingEnabled\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}],"\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c"]}]]}]]}]
21:["$","h2",null,{"id":"bonus-telegram-bot-unstable","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Bonus: Telegram bot (unstable)",["$","$L9",null,{"id":"bonus-telegram-bot-unstable"}]]}]
22:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["As an example of a third-party source of database changes, see the ",["$","a",null,{"href":"https://github.com/vovk-kanban-demo/src/modules/telegram/TelegramService.ts","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["TelegramService",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," and the accompanying ",["$","a",null,{"href":"https://github.com/vovk-kanban-demo/src/modules/telegram/TelegramController.ts","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["TelegramController",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],". It accepts text or voice messages, performs voice-to-text transcription if needed using the OpenAI Whisper API, and uses the same ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"createLLMTools"}]," function on the server:"]}]
23:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L2e",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"const"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" { "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"tools"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" } "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" createLLMTools"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"({"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  modules: {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    UserController,"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    TaskController,"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  },"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"});"}]}]]}]]}]]}]
24:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["The Telegram API library is implemented with ",["$","$La",null,{"href":"/codegen","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"OpenAPI Mixins"}]," and used as a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"TelegramAPI"}]," module to call Telegram API methods."]}]
25:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":[["$","div",null,{"className":"x:px-4 x:text-xs x:text-gray-700 x:dark:text-gray-200 x:bg-gray-100 x:dark:bg-neutral-900 x:flex x:items-center x:h-12 x:gap-2 x:rounded-t-md x:border x:border-gray-300 x:dark:border-neutral-700 x:contrast-more:border-gray-900 x:contrast-more:dark:border-gray-50 x:border-b-0","children":[["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","className":"x:max-w-6 x:shrink-0","children":["$","path",null,{"d":"M0 2.66667V21.3333C0 22.8067 1.19333 24 2.66667 24H21.3333C22.8067 24 24 22.8067 24 21.3333V2.66667C24 1.19333 22.8067 0 21.3333 0H2.66667C1.19333 0 0 1.19333 0 2.66667ZM14.2213 12.6013H11.3973V21.3333H9.12133V12.6013H6.356V10.6667H14.2213V12.6013ZM14.664 20.8347V18.5C14.664 18.5 15.9387 19.4613 17.4693 19.4613C19 19.4613 18.94 18.4613 18.94 18.324C18.94 16.872 14.6053 16.872 14.6053 13.656C14.6053 9.28133 20.9213 11.008 20.9213 11.008L20.8427 13.0867C20.8427 13.0867 19.784 12.38 18.5867 12.38C17.3907 12.38 16.9587 12.9493 16.9587 13.5573C16.9587 15.1267 21.3333 14.9693 21.3333 18.128C21.3333 22.992 14.664 20.8347 14.664 20.8347Z"}]}],["$","span",null,{"className":"x:truncate","children":"vovk.config.mjs"}],false]}],["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-b-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-14","children":[["$","$L2e",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// @ts-check"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"/** "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"@type"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" {import('vovk').VovkConfig}"}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":" */"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" config"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"  // ..."}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  outputConfig: {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    segments: {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      telegram: {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        openAPIMixin: {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          source: {"}]}],"\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69"]}]]}]]}]
26:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["The ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"TelegramService"}]," class handles interaction with the Telegram API and generates AI responses using the Vercel AI SDK."]}]
27:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":[["$","div",null,{"className":"x:px-4 x:text-xs x:text-gray-700 x:dark:text-gray-200 x:bg-gray-100 x:dark:bg-neutral-900 x:flex x:items-center x:h-12 x:gap-2 x:rounded-t-md x:border x:border-gray-300 x:dark:border-neutral-700 x:contrast-more:border-gray-900 x:contrast-more:dark:border-gray-50 x:border-b-0","children":[["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","className":"x:max-w-6 x:shrink-0","children":["$","path",null,{"d":"M0 2.66667V21.3333C0 22.8067 1.19333 24 2.66667 24H21.3333C22.8067 24 24 22.8067 24 21.3333V2.66667C24 1.19333 22.8067 0 21.3333 0H2.66667C1.19333 0 0 1.19333 0 2.66667ZM14.2213 12.6013H11.3973V21.3333H9.12133V12.6013H6.356V10.6667H14.2213V12.6013ZM14.664 20.8347V18.5C14.664 18.5 15.9387 19.4613 17.4693 19.4613C19 19.4613 18.94 18.4613 18.94 18.324C18.94 16.872 14.6053 16.872 14.6053 13.656C14.6053 9.28133 20.9213 11.008 20.9213 11.008L20.8427 13.0867C20.8427 13.0867 19.784 12.38 18.5867 12.38C17.3907 12.38 16.9587 12.9493 16.9587 13.5573C16.9587 15.1267 21.3333 14.9693 21.3333 18.128C21.3333 22.992 14.664 20.8347 14.664 20.8347Z"}]}],["$","span",null,{"className":"x:truncate","children":"src/modules/telegram/TelegramService.ts"}],false]}],["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-b-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-14","children":[["$","$L2e",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"import"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" OpenAI "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"from"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"openai\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"import"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" { TelegramAPI } "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"from"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"vovk-client\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" openai"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" new"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" OpenAI"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"export"}],"$L6a","$L6b","$L6c","$L6d"]}],"\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79","\n","$L7a","\n","$L7b","\n","$L7c","\n","$L7d","\n","$L7e","\n","$L7f","\n","$L80","\n","$L81","\n","$L82","\n","$L83","\n","$L84","\n","$L85","\n","$L86","\n","$L87","\n","$L88","\n","$L89","\n","$L8a","\n","$L8b","\n","$L8c","\n","$L8d","\n","$L8e","\n","$L8f","\n","$L90","\n","$L91","\n","$L92","\n","$L93","\n","$L94","\n","$L95","\n","$L96","\n","$L97","\n","$L98","\n","$L99","\n","$L9a","\n","$L9b","\n","$L9c","\n","$L9d","\n","$L9e","\n","$L9f","\n","$La0","\n","$La1","\n","$La2","\n","$La3","\n","$La4","\n","$La5","\n","$La6","\n","$La7","\n","$La8","\n","$La9","\n","$Laa","\n","$Lab","\n","$Lac","\n","$Lad","\n","$Lae","\n","$Laf","\n","$Lb0","\n","$Lb1","\n","$Lb2","\n","$Lb3","\n","$Lb4","\n","$Lb5","\n","$Lb6","\n","$Lb7","\n","$Lb8","\n","$Lb9","\n","$Lba","\n","$Lbb","\n","$Lbc","\n","$Lbd","\n","$Lbe","\n","$Lbf","\n","$Lc0","\n","$Lc1","\n","$Lc2","\n","$Lc3","\n","$Lc4","\n","$Lc5","\n","$Lc6","\n","$Lc7","\n","$Lc8","\n","$Lc9","\n","$Lca","\n","$Lcb","\n","$Lcc","\n","$Lcd","\n","$Lce","\n","$Lcf","\n","$Ld0","\n","$Ld1","\n","$Ld2","\n","$Ld3","\n","$Ld4","\n","$Ld5","\n","$Ld6","\n","$Ld7","\n","$Ld8","\n","$Ld9","\n","$Lda","\n","$Ldb","\n","$Ldc","\n","$Ldd","\n","$Lde","\n","$Ldf","\n","$Le0"]}]]}]]}]
2a:null
2d:["$","div","0",{"className":"h-full github-tab-content ","id":"tab-_S_1_-0","children":[["$","div",null,{"className":"border dark:!border-gray-800 text-sm","children":[["$","div",null,{"data-theme":"dark","className":"hidden dark:block","children":[["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"3ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { PrismaClient } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"3ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { PrismaNeon } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/adapter-neon\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"3ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseEventsService, { "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"type"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" DBChange } "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseEventsService\""}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"3ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import type"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { BaseEntity } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/types\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"3ch"},"children":5}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"3ch"},"children":6}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabaseService {"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"3ch"},"children":7}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static get "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"prisma"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"3ch"},"children":8}],["$Le1","$Le2","$Le3","$Le4","$Le5","$Le6","$Le7","$Le8","$Le9"],"$Lea"]}]}],"$Leb","$Lec","$Led","$Lee","$Lef","$Lf0","$Lf1","$Lf2","$Lf3","$Lf4","$Lf5","$Lf6","$Lf7","$Lf8","$Lf9","$Lfa","$Lfb","$Lfc","$Lfd","$Lfe","$Lff","$L100","$L101","$L102","$L103","$L104","$L105","$L106","$L107","$L108","$L109","$L10a","$L10b","$L10c","$L10d","$L10e","$L10f","$L110","$L111","$L112","$L113","$L114","$L115","$L116","$L117","$L118","$L119","$L11a","$L11b","$L11c","$L11d","$L11e","$L11f","$L120","$L121","$L122","$L123","$L124","$L125","$L126","$L127","$L128","$L129","$L12a","$L12b","$L12c","$L12d","$L12e","$L12f","$L130","$L131","$L132","$L133","$L134","$L135","$L136","$L137","$L138","$L139","$L13a","$L13b","$L13c","$L13d","$L13e","$L13f","$L140","$L141","$L142","$L143","$L144","$L145","$L146","$L147","$L148","$L149","$L14a"]}]}]]}],"$L14b"]}]," ","$L14c"]}],"$L14d"]}]
30:["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" mitt "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"mitt\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { createClient } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"redis\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export type "}],["$","span","1",{"style":{"color":"#FFA657"},"children":"DBChange "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  id"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"string"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  entityType"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"EntityType"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  date"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"string"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  type"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"create\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"update\" "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"};"}]],["$","br",null,{}]]}]}],["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabaseEventsService {"}]],["$","br",null,{}]]}]}],["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],["$L14e","$L14f","$L150","$L151","$L152"],"$L153"]}]}],"$L154","$L155","$L156","$L157","$L158","$L159","$L15a","$L15b","$L15c","$L15d","$L15e","$L15f","$L160","$L161","$L162","$L163","$L164","$L165","$L166","$L167","$L168","$L169","$L16a","$L16b","$L16c","$L16d","$L16e","$L16f","$L170","$L171","$L172","$L173","$L174","$L175","$L176","$L177","$L178","$L179","$L17a","$L17b","$L17c","$L17d","$L17e","$L17f","$L180","$L181","$L182","$L183","$L184","$L185","$L186","$L187","$L188","$L189","$L18a","$L18b","$L18c","$L18d","$L18e","$L18f","$L190","$L191","$L192","$L193"]}]
31:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" mitt "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"mitt\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { createClient } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"redis\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export type "}],["$","span","1",{"style":{"color":"#953800"},"children":"DBChange "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#953800"},"children":"  id"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"string"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#953800"},"children":"  entityType"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"EntityType"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#953800"},"children":"  date"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"string"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#953800"},"children":"  type"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],"$L194","$L195","$L196","$L197","$L198","$L199"],"$L19a"]}]}],"$L19b","$L19c","$L19d","$L19e","$L19f","$L1a0","$L1a1","$L1a2","$L1a3","$L1a4","$L1a5","$L1a6","$L1a7","$L1a8","$L1a9","$L1aa","$L1ab","$L1ac","$L1ad","$L1ae","$L1af","$L1b0","$L1b1","$L1b2","$L1b3","$L1b4","$L1b5","$L1b6","$L1b7","$L1b8","$L1b9","$L1ba","$L1bb","$L1bc","$L1bd","$L1be","$L1bf","$L1c0","$L1c1","$L1c2","$L1c3","$L1c4","$L1c5","$L1c6","$L1c7","$L1c8","$L1c9","$L1ca","$L1cb","$L1cc","$L1cd","$L1ce","$L1cf","$L1d0","$L1d1","$L1d2","$L1d3","$L1d4","$L1d5","$L1d6","$L1d7","$L1d8","$L1d9","$L1da","$L1db","$L1dc","$L1dd","$L1de"]}]}]]}]
32:["$","div",null,{"data-theme":"light","className":"dark:hidden","children":[["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" mitt "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"mitt\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { createClient } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"redis\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export type "}],["$","span","1",{"style":{"color":"#FFA657"},"children":"DBChange "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  id"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"string"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  entityType"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"EntityType"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  date"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"string"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  type"}],"$L1df","$L1e0","$L1e1","$L1e2","$L1e3","$L1e4","$L1e5"],"$L1e6"]}]}],"$L1e7","$L1e8","$L1e9","$L1ea","$L1eb","$L1ec","$L1ed","$L1ee","$L1ef","$L1f0","$L1f1","$L1f2","$L1f3","$L1f4","$L1f5","$L1f6","$L1f7","$L1f8","$L1f9","$L1fa","$L1fb","$L1fc","$L1fd","$L1fe","$L1ff","$L200","$L201","$L202","$L203","$L204","$L205","$L206","$L207","$L208","$L209","$L20a","$L20b","$L20c","$L20d","$L20e","$L20f","$L210","$L211","$L212","$L213","$L214","$L215","$L216","$L217","$L218","$L219","$L21a","$L21b","$L21c","$L21d","$L21e","$L21f","$L220","$L221","$L222","$L223","$L224","$L225","$L226","$L227","$L228","$L229","$L22a"]}]}]]}],"$L22b"]}]
33:["$","$La",null,{"href":"https://github.com/finom/vovk-kanban-demo/blob/main/src/modules/database/DatabaseEventsService.ts","target":"_blank","rel":"noopener noreferrer","className":"block mt-2 x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["View ","DatabaseEventsService.ts"," file on GitHub",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"1.7","viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]}]
35:["$","div","0",{"className":"h-full github-tab-content ","id":"tab-_S_3_-0","children":[["$","div",null,{"className":"border dark:!border-gray-800 text-sm","children":[["$","div",null,{"data-theme":"dark","className":"hidden dark:block","children":[["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { JSONLinesResponse, "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"type"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" VovkIteration } "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"\"vovk\""}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { forEach, groupBy } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"lodash\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import type"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollController "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabasePollController\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseEventsService, { "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"type"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" DBChange } "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseEventsService\""}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseService "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],"$L22c"],"$L22d"]}]}],"$L22e","$L22f","$L230","$L231","$L232","$L233","$L234","$L235","$L236","$L237","$L238","$L239","$L23a","$L23b","$L23c","$L23d","$L23e","$L23f","$L240","$L241","$L242","$L243","$L244","$L245","$L246","$L247","$L248","$L249","$L24a","$L24b","$L24c","$L24d","$L24e","$L24f","$L250","$L251","$L252","$L253","$L254","$L255","$L256","$L257","$L258","$L259","$L25a","$L25b","$L25c","$L25d","$L25e","$L25f","$L260","$L261","$L262","$L263","$L264","$L265","$L266"]}]}]]}],"$L267"]}]," ","$L268"]}],"$L269"]}]
36:["$","div","1",{"className":"h-full github-tab-content hidden","id":"tab-_S_3_-1","children":[["$","div",null,{"className":"border dark:!border-gray-800 text-sm","children":[["$","div",null,{"data-theme":"dark","className":"hidden dark:block","children":[["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { get, JSONLinesResponse, prefix, "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"type"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" VovkIteration } "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"\"vovk\""}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { z } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"zod\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollService "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabasePollService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { TaskSchema, UserSchema } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/schemas\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { withZod } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/lib/withZod\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":["$L26a",["$L26b","$L26c","$L26d","$L26e","$L26f"],"$L270"]}]}],"$L271","$L272","$L273","$L274","$L275","$L276","$L277","$L278","$L279","$L27a","$L27b","$L27c","$L27d","$L27e","$L27f","$L280","$L281","$L282","$L283","$L284","$L285","$L286","$L287","$L288","$L289","$L28a","$L28b"]}]}]]}],"$L28c"]}]," ","$L28d"]}],"$L28e"]}]
37:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"  setIsPollingEnabled"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(isEnabled "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"==="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"true\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}]
38:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}, []);"}]}]
39:["$","span",null,{"children":" "}]
3a:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"useEffect"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(() "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}]
3b:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  localStorage."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"setItem"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"isPollingEnabled\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", isPollingEnabled."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"toString"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"());"}]]}]
3c:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  async"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" function"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" poll"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"retries"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 0"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}]
3d:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    if"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"!"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"isPollingEnabled) {"}]]}]
3e:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      pollingAbortControllerRef.current?."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"abort"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}]
3f:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      return"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}]
40:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    }"}]}]
41:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    try"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}]
42:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      while"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ("}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"true"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}]
43:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        console."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"log"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"START POLLING\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}]
44:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"        const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" iterable"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" DatabasePollRPC."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"poll"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}]
45:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        pollingAbortControllerRef.current "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" iterable.abortController;"}]]}]
46:["$","span",null,{"children":" "}]
47:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"        for"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" iteration"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" of"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" iterable) {"}]]}]
48:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          console."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"log"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"New DB update:\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", iteration);"}]]}]
49:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        }"}]}]
4a:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      }"}]}]
4b:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    } "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"catch"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" (error) {"}]]}]
4c:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      if"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ("}]]}]
4d:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        retries "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 5"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" &&"}]]}]
4e:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        (error "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"as"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Error"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" &"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" { "}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"cause"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"?:"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Error"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" }).cause?.name "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"!=="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"AbortError\""}]]}]
4f:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      ) {"}]}]
50:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        console."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"error"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"Polling failed, retrying...\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", error);"}]]}]
51:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"        await"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" new"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" Promise"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(("}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"resolve"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" setTimeout"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(resolve, "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"2000"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"));"}]]}]
52:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"        return"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" poll"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(retries "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"+"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 1"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}]
53:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      }"}]}]
54:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    }"}]}]
55:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  }"}]}]
56:["$","span",null,{"children":" "}]
57:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  void"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" poll"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}]
58:["$","span",null,{"children":" "}]
59:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  return"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" () "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}]
5a:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    pollingAbortControllerRef.current?."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"abort"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}]
5b:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  };"}]}]
5c:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}, [isPollingEnabled]);"}]}]
5d:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            url: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"https://raw.githubusercontent.com/sys-001/telegram-bot-api-versions/refs/heads/main/files/openapi/yaml/v183.yaml\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
5e:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            fallback: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\".openapi-cache/telegram.yaml\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
5f:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          },"}]}]
60:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          getModuleName: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"TelegramAPI\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
61:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"          getMethodName"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": ({ "}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"path"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" }) "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" path."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"replace"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"/"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"^"}],["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-light-font-weight":"bold","--shiki-dark":"#85E89D","--shiki-dark-font-weight":"bold"},"children":"\\/"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"/"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"),"}]]}]
62:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          errorMessageKey: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"description\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
63:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        },"}]}]
64:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      },"}]}]
65:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    },"}]}]
66:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  },"}]}]
67:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"};"}]}]
68:["$","span",null,{"children":" "}]
69:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"export"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" default"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" config;"}]]}]
6a:["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" default"}]
6b:["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" class"}]
6c:["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" TelegramService"}]
6d:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]
6e:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  static"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" get"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" apiRoot"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"() {"}]]}]
6f:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" TELEGRAM_BOT_TOKEN"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" process.env."}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"TELEGRAM_BOT_TOKEN"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}]
70:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    if"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"!"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"TELEGRAM_BOT_TOKEN"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}]
71:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      throw"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" new"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Error"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"Missing TELEGRAM_BOT_TOKEN environment variable\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}]
72:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    }"}]}]
73:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    return"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" `https://api.telegram.org/bot${"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"TELEGRAM_BOT_TOKEN"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"}`"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}]
74:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  }"}]}]
75:["$","span",null,{"children":" "}]
76:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"  // ..."}]}]
77:["$","span",null,{"children":" "}]
78:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  private"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" static"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" async"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" generateAIResponse"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}]]}]
79:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    chatId"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" number"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
7a:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    userMessage"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" string"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
7b:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    systemPrompt"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" string"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
7c:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  )"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Promise"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<{ "}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"botResponse"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" string"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"; "}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"messages"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" ModelMessage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"[] }> {"}]]}]
7d:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    // Get chat history"}]}]
7e:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" history"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" await"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" this"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"getChatHistory"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(chatId);"}]]}]
7f:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" messages"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ["}]]}]
80:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      ..."}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"this"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"formatHistoryForVercelAI"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(history),"}]]}]
81:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      { role: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"user\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", content: userMessage } "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"as"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" const"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
82:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    ];"}]}]
83:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    const"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" { "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"tools"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" } "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" createLLMTools"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"({"}]]}]
84:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      modules: {"}]}]
85:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        UserController,"}]}]
86:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        TaskController,"}]}]
87:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      },"}]}]
88:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    });"}]}]
89:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  "}]}]
8a:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    // Generate a response using Vercel AI SDK"}]}]
8b:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    const"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" { "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"text"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" } "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" await"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" generateText"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"({"}]]}]
8c:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      model: "}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"vercelOpenAI"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"gpt-5\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"),"}]]}]
8d:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      system: systemPrompt,"}]}]
8e:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      messages,"}]}]
8f:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      stopWhen: "}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"stepCountIs"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"16"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"),"}]]}]
90:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      tools: {"}]}]
91:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"        ..."}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"Object."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"fromEntries"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}]]}]
92:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          tools."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"map"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(({ "}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"name"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"execute"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"description"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"parameters"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" }) "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ["}]]}]
93:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            name,"}]}]
94:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"            tool"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"KnownAny"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"KnownAny"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":">({"}]]}]
95:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"              execute,"}]}]
96:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"              description,"}]}]
97:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"              inputSchema: "}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"jsonSchema"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(parameters "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"as"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" KnownAny"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"),"}]]}]
98:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            }),"}]}]
99:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          ]),"}]}]
9a:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        ),"}]}]
9b:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      },"}]}]
9c:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    });"}]}]
9d:["$","span",null,{"children":" "}]
9e:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" botResponse"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" text "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"||"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"I couldn't generate a response.\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}]
9f:["$","span",null,{"children":" "}]
a0:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    // Add user message to history"}]}]
a1:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    await"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" this"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"addToHistory"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(chatId, "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"user\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", userMessage);"}]]}]
a2:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    // Add assistant response to history"}]}]
a3:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    await"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" this"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"addToHistory"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(chatId, "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"assistant\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", botResponse);"}]]}]
a4:["$","span",null,{"children":" "}]
a5:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    messages."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"push"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"({"}]]}]
a6:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      role: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"assistant\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
a7:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      content: botResponse,"}]}]
a8:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    });"}]}]
a9:["$","span",null,{"children":" "}]
aa:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    return"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" { botResponse, messages };"}]]}]
ab:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  }"}]}]
ac:["$","span",null,{"children":" "}]
ad:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  private"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" static"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" async"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" sendTextMessage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}]]}]
ae:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    chatId"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" number"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
af:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    text"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" string"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
b0:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  )"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Promise"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"void"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"> {"}]]}]
b1:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" TelegramAPI."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"sendMessage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"({"}]]}]
b2:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      body: {"}]}]
b3:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        chat_id: chatId,"}]}]
b4:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        text: text,"}]}]
b5:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        parse_mode: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"html\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
b6:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      },"}]}]
b7:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      apiRoot: "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"this"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":".apiRoot,"}]]}]
b8:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    });"}]}]
b9:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  }"}]}]
ba:["$","span",null,{"children":" "}]
bb:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  private"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" static"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" async"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" sendVoiceMessage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}]]}]
bc:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    chatId"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" number"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
bd:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    text"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" string"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
be:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  )"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Promise"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"void"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"> {"}]]}]
bf:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    try"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}]
c0:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"      // Generate speech from text using OpenAI TTS"}]}]
c1:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" speechResponse"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" openai.audio.speech."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"create"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"({"}]]}]
c2:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        model: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"tts-1\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
c3:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        voice: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"alloy\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
c4:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        input: text,"}]}]
c5:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        response_format: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"opus\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
c6:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      });"}]}]
c7:["$","span",null,{"children":" "}]
c8:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"      // Convert the response to a Buffer"}]}]
c9:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" voiceBuffer"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" Buffer."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"from"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" speechResponse."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"arrayBuffer"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"());"}]]}]
ca:["$","span",null,{"children":" "}]
cb:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" formData"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" new"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" FormData"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}]
cc:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      formData."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"append"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"chat_id\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"String"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(chatId));"}]]}]
cd:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      formData."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"append"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}]]}]
ce:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"        \"voice\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
cf:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"        new"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Blob"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"([voiceBuffer], { type: "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"audio/ogg\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" }),"}]]}]
d0:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"        \"voice.ogg\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
d1:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      );"}]}]
d2:["$","span",null,{"children":" "}]
d3:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"      // Send the voice message"}]}]
d4:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" TelegramAPI."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"sendVoice"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"({"}]]}]
d5:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        body: formData,"}]}]
d6:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        apiRoot: "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"this"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":".apiRoot,"}]]}]
d7:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      });"}]}]
d8:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    } "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"catch"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" (error) {"}]]}]
d9:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      console."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"error"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"Error generating voice message:\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", error);"}]]}]
da:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"      // Fallback to text message if voice generation fails"}]}]
db:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      await"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" this"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"sendTextMessage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(chatId, text);"}]]}]
dc:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    }"}]}]
dd:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  }"}]}]
de:["$","span",null,{"children":" "}]
df:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"  // ..."}]}]
e0:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}"}]}]
e1:["$","span","0",{"style":{"color":"#FF7B72"},"children":"    return"}]
e2:["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}]
e3:["$","span","2",{"style":{"color":"#79C0FF"},"children":"this"}]
e4:["$","span","3",{"style":{"color":"#C9D1D9"},"children":".#prisma "}]
e5:["$","span","4",{"style":{"color":"#FF7B72"},"children":"??= "}]
e6:["$","span","5",{"style":{"color":"#79C0FF"},"children":"this"}]
e7:["$","span","6",{"style":{"color":"#C9D1D9"},"children":"."}]
e8:["$","span","7",{"style":{"color":"#D2A8FF"},"children":"getClient"}]
e9:["$","span","8",{"style":{"color":"#C9D1D9"},"children":"());"}]
ea:["$","br",null,{}]
eb:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"3ch"},"children":9}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
ec:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"3ch"},"children":10}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" #prisma"}],["$","span","2",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","3",{"style":{"color":"#FFA657"},"children":" ReturnType<"}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"typeof "}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"DatabaseService"}],["$","span","6",{"style":{"color":"#FFA657"},"children":"."}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"getClient"}],["$","span","8",{"style":{"color":"#FFA657"},"children":"> "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","10",{"style":{"color":"#79C0FF"},"children":"null "}],["$","span","11",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","12",{"style":{"color":"#79C0FF"},"children":"null"}],["$","span","13",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
ed:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"3ch"},"children":11}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
ee:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"3ch"},"children":12}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"getClient"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
ef:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"3ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"prisma "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"PrismaClient"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
f0:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"3ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      adapter: "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"PrismaNeon"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
f1:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"3ch"},"children":15}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        connectionString: "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"`${"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"process"}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"."}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"env"}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"."}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"DATABASE_URL"}],["$","span","7",{"style":{"color":"#A5D6FF"},"children":"}`"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
f2:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"3ch"},"children":16}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }),"}]],["$","br",null,{}]]}]}]
f3:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"3ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
f4:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"3ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
f5:["$","span","18",{"className":"block dark:bg-[#d1edff33] bg-[#d1edff80]","children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"3ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    DatabaseEventsService."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"beginEmitting"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]]}]
f6:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"3ch"},"children":20}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
f7:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"3ch"},"children":21}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" prisma."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"$$extends"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
f8:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"3ch"},"children":22}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      name: "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"events\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
f9:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"3ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      query: {"}]],["$","br",null,{}]]}]}]
fa:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"3ch"},"children":24}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        $allModels: {"}]],["$","br",null,{}]]}]}]
fb:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"3ch"},"children":25}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"$$allOperations"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({ "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"model"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","5",{"style":{"color":"#FFA657"},"children":"operation"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","7",{"style":{"color":"#FFA657"},"children":"args"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","9",{"style":{"color":"#FFA657"},"children":"query"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":" }) {"}]],["$","br",null,{}]]}]}]
fc:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"3ch"},"children":26}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"allowedOperations "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ["}]],["$","br",null,{}]]}]}]
fd:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"3ch"},"children":27}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"create\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
fe:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"3ch"},"children":28}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"update\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
ff:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"3ch"},"children":29}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"delete\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
100:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"3ch"},"children":30}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"findMany\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
101:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"3ch"},"children":31}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"findUnique\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
102:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"3ch"},"children":32}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"findFirst\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
103:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"3ch"},"children":33}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"count\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
104:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"3ch"},"children":34}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ] "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"as const"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
105:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"3ch"},"children":35}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            type "}],["$","span","1",{"style":{"color":"#FFA657"},"children":"AllowedOperation "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"typeof"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" allowedOperations)["}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"number"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"];"}]],["$","br",null,{}]]}]}]
106:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"3ch"},"children":36}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"allowedOperations."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"includes"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(operation "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","7",{"style":{"color":"#FFA657"},"children":"AllowedOperation"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":")) {"}]],["$","br",null,{}]]}]}]
107:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"3ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              throw new "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"Error"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
108:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"3ch"},"children":38}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"                `Unsupported database operation \"${"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"operation"}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"}\" on model \"${"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"model"}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"}\"`"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
109:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"3ch"},"children":39}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              );"}]],["$","br",null,{}]]}]}]
10a:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"3ch"},"children":40}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
10b:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"3ch"},"children":41}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"result "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"await "}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"query"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"(args)) "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","8",{"style":{"color":"#FFA657"},"children":"BaseEntity "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","10",{"style":{"color":"#FFA657"},"children":"BaseEntity"}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":"[];"}]],["$","br",null,{}]]}]}]
10c:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"3ch"},"children":42}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
10d:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"3ch"},"children":43}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"now "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"()."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"toISOString"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
10e:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"3ch"},"children":44}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            let"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" change"}],["$","span","2",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"DBChange "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"null "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"null"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
10f:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"3ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
110:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"3ch"},"children":46}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"makeChange "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}]],["$","br",null,{}]]}]}]
111:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"3ch"},"children":47}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"              entity"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"BaseEntity"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
112:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"3ch"},"children":48}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"              type"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"["}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"type\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"],"}]],["$","br",null,{}]]}]}]
113:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"3ch"},"children":49}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ) "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":" ({"}]],["$","br",null,{}]]}]}]
114:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"3ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              id: entity.id,"}]],["$","br",null,{}]]}]}]
115:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"3ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              entityType: entity.entityType,"}]],["$","br",null,{}]]}]}]
116:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"3ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              date:"}]],["$","br",null,{}]]}]}]
117:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"3ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                type "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}]],["$","br",null,{}]]}]}]
118:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"3ch"},"children":54}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                  ?"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" now"}]],["$","br",null,{}]]}]}]
119:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"3ch"},"children":55}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                  :"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" entity.updatedAt"}]],["$","br",null,{}]]}]}]
11a:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"3ch"},"children":56}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                    ? new "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(entity.updatedAt)."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"toISOString"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
11b:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"3ch"},"children":57}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                    :"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" now,"}]],["$","br",null,{}]]}]}]
11c:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"3ch"},"children":58}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              type,"}]],["$","br",null,{}]]}]}]
11d:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"3ch"},"children":59}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            });"}]],["$","br",null,{}]]}]}]
11e:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"3ch"},"children":60}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
11f:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"3ch"},"children":61}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            switch"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (operation "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"AllowedOperation"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}]
120:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"3ch"},"children":62}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"create\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
121:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"3ch"},"children":63}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"in"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" result)"}]],["$","br",null,{}]]}]}]
122:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"3ch"},"children":64}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  change "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"create\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
123:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"3ch"},"children":65}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
124:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"3ch"},"children":66}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
125:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"3ch"},"children":67}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
126:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"3ch"},"children":68}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"in"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" result)"}]],["$","br",null,{}]]}]}]
127:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"3ch"},"children":69}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  change "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
128:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"3ch"},"children":70}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
129:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"3ch"},"children":71}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
12a:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"3ch"},"children":72}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
12b:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"3ch"},"children":73}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"in"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" result) {"}]],["$","br",null,{}]]}]}]
12c:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"3ch"},"children":74}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  change "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
12d:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"3ch"},"children":75}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"                  // Automatically add __isDeleted flag to deletion results"}]],["$","br",null,{}]]}]}]
12e:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"3ch"},"children":76}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  Object."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"assign"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(result, { __isDeleted: "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"true"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" });"}]],["$","br",null,{}]]}]}]
12f:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"3ch"},"children":77}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                }"}]],["$","br",null,{}]]}]}]
130:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"3ch"},"children":78}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
131:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"3ch"},"children":79}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
132:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"3ch"},"children":80}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"findMany\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
133:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"3ch"},"children":81}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"findUnique\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
134:["$","div","81",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":82,"style":{"width":"3ch"},"children":82}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"findFirst\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
135:["$","div","82",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":83,"style":{"width":"3ch"},"children":83}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"count\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
136:["$","div","83",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":84,"style":{"width":"3ch"},"children":84}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"                // no events"}]],["$","br",null,{}]]}]}]
137:["$","div","84",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":85,"style":{"width":"3ch"},"children":85}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
138:["$","div","85",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":86,"style":{"width":"3ch"},"children":86}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
139:["$","div","86",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":87,"style":{"width":"3ch"},"children":87}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              default"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
13a:["$","div","87",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":88,"style":{"width":"3ch"},"children":88}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                console."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"warn"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
13b:["$","div","88",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":89,"style":{"width":"3ch"},"children":89}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"                  `Unhandled Prisma operation: ${"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"operation"}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"} for model: ${"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"model"}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"}`"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
13c:["$","div","89",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":90,"style":{"width":"3ch"},"children":90}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                );"}]],["$","br",null,{}]]}]}]
13d:["$","div","90",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":91,"style":{"width":"3ch"},"children":91}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
13e:["$","div","91",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":92,"style":{"width":"3ch"},"children":92}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
13f:["$","div","92",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":93,"style":{"width":"3ch"},"children":93}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
140:["$","div","93",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":94,"style":{"width":"3ch"},"children":94}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (change) {"}]],["$","br",null,{}]]}]}]
141:["$","span","94",{"className":"block dark:bg-[#d1edff33] bg-[#d1edff80]","children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":95,"style":{"width":"3ch"},"children":95}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              await"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseEventsService."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"createChanges"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"([change]);"}]],["$","br",null,{}]]}]}]]}]
142:["$","div","95",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":96,"style":{"width":"3ch"},"children":96}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
143:["$","div","96",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":97,"style":{"width":"3ch"},"children":97}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
144:["$","div","97",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":98,"style":{"width":"3ch"},"children":98}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" result;"}]],["$","br",null,{}]]}]}]
145:["$","div","98",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":99,"style":{"width":"3ch"},"children":99}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          },"}]],["$","br",null,{}]]}]}]
146:["$","div","99",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":100,"style":{"width":"3ch"},"children":100}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        },"}]],["$","br",null,{}]]}]}]
147:["$","div","100",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":101,"style":{"width":"3ch"},"children":101}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      },"}]],["$","br",null,{}]]}]}]
148:["$","div","101",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":102,"style":{"width":"3ch"},"children":102}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
149:["$","div","102",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":103,"style":{"width":"3ch"},"children":103}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
14a:["$","div","103",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":104,"style":{"width":"3ch"},"children":104}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
14b:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"3ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { PrismaClient } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"3ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { PrismaNeon } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/adapter-neon\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"3ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseEventsService, { "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"type"}],["$","span","3",{"style":{"color":"#24292F"},"children":" DBChange } "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","5",{"style":{"color":"#0A3069"},"children":"\"./DatabaseEventsService\""}],["$","span","6",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"3ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import type"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { BaseEntity } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/types\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"3ch"},"children":5}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"3ch"},"children":6}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabaseService {"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"3ch"},"children":7}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static get "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"prisma"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"3ch"},"children":8}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","3",{"style":{"color":"#24292F"},"children":".#prisma "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"??= "}],"$L28f","$L290","$L291","$L292"],"$L293"]}]}],"$L294","$L295","$L296","$L297","$L298","$L299","$L29a","$L29b","$L29c","$L29d","$L29e","$L29f","$L2a0","$L2a1","$L2a2","$L2a3","$L2a4","$L2a5","$L2a6","$L2a7","$L2a8","$L2a9","$L2aa","$L2ab","$L2ac","$L2ad","$L2ae","$L2af","$L2b0","$L2b1","$L2b2","$L2b3","$L2b4","$L2b5","$L2b6","$L2b7","$L2b8","$L2b9","$L2ba","$L2bb","$L2bc","$L2bd","$L2be","$L2bf","$L2c0","$L2c1","$L2c2","$L2c3","$L2c4","$L2c5","$L2c6","$L2c7","$L2c8","$L2c9","$L2ca","$L2cb","$L2cc","$L2cd","$L2ce","$L2cf","$L2d0","$L2d1","$L2d2","$L2d3","$L2d4","$L2d5","$L2d6","$L2d7","$L2d8","$L2d9","$L2da","$L2db","$L2dc","$L2dd","$L2de","$L2df","$L2e0","$L2e1","$L2e2","$L2e3","$L2e4","$L2e5","$L2e6","$L2e7","$L2e8","$L2e9","$L2ea","$L2eb","$L2ec","$L2ed","$L2ee","$L2ef","$L2f0","$L2f1","$L2f2","$L2f3"]}]}]]}]
14c:["$","div",null,{"data-theme":"light","className":"dark:hidden","children":[["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"3ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { PrismaClient } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"3ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { PrismaNeon } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/adapter-neon\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"3ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseEventsService, { "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"type"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" DBChange } "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseEventsService\""}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"3ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import type"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { BaseEntity } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/types\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"3ch"},"children":5}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"3ch"},"children":6}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabaseService {"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"3ch"},"children":7}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static get "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"prisma"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"3ch"},"children":8}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"this"}],"$L2f4","$L2f5","$L2f6","$L2f7","$L2f8","$L2f9"],"$L2fa"]}]}],"$L2fb","$L2fc","$L2fd","$L2fe","$L2ff","$L300","$L301","$L302","$L303","$L304","$L305","$L306","$L307","$L308","$L309","$L30a","$L30b","$L30c","$L30d","$L30e","$L30f","$L310","$L311","$L312","$L313","$L314","$L315","$L316","$L317","$L318","$L319","$L31a","$L31b","$L31c","$L31d","$L31e","$L31f","$L320","$L321","$L322","$L323","$L324","$L325","$L326","$L327","$L328","$L329","$L32a","$L32b","$L32c","$L32d","$L32e","$L32f","$L330","$L331","$L332","$L333","$L334","$L335","$L336","$L337","$L338","$L339","$L33a","$L33b","$L33c","$L33d","$L33e","$L33f","$L340","$L341","$L342","$L343","$L344","$L345","$L346","$L347","$L348","$L349","$L34a","$L34b","$L34c","$L34d","$L34e","$L34f","$L350","$L351","$L352","$L353","$L354","$L355","$L356","$L357","$L358","$L359","$L35a"]}]}]]}],"$L35b"]}]
14d:["$","$La",null,{"href":"https://github.com/finom/vovk-kanban-demo/blob/main/src/modules/database/DatabaseService.ts","target":"_blank","rel":"noopener noreferrer","className":"block mt-2 x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["View ","DatabaseService.ts"," file on GitHub",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"1.7","viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]}]
14e:["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static readonly"}]
14f:["$","span","1",{"style":{"color":"#FFA657"},"children":" DB_KEY "}]
150:["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}]
151:["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"db_updates\""}]
152:["$","span","4",{"style":{"color":"#FFA657"},"children":";"}]
153:["$","br",null,{}]
154:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
155:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" INTERVAL "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"1_000"}],["$","span","4",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
156:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"Date"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","6",{"style":{"color":"#FFA657"},"children":"();"}]],["$","br",null,{}]]}]}]
157:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
158:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" redisClient "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"createClient"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"({"}]],["$","br",null,{}]]}]}]
159:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    url: process.env."}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"REDIS_URL"}],["$","span","2",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
15a:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  });"}]],["$","br",null,{}]]}]}]
15b:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
15c:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" emitter "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"mitt"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"<{"}]],["$","br",null,{}]]}]}]
15d:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"    ["}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"DatabaseEventsService"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"."}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"]"}],["$","span","5",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","6",{"style":{"color":"#FFA657"},"children":" DBChange[];"}]],["$","br",null,{}]]}]}]
15e:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  }>();"}]],["$","br",null,{}]]}]}]
15f:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
160:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // ensure Redis is connected"}]],["$","br",null,{}]]}]}]
161:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
162:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":".redisClient.isOpen) {"}]],["$","br",null,{}]]}]}]
163:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
164:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"      this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"on"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"error\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"err"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
165:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        console."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"error"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"Redis Client Error\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", err);"}]],["$","br",null,{}]]}]}]
166:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      });"}]],["$","br",null,{}]]}]}]
167:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }"}]],["$","br",null,{}]]}]}]
168:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
169:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
16a:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // push one update into our ZSET, with score = timestamp"}]],["$","br",null,{}]]}]}]
16b:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"createChanges"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"(changes"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","4",{"style":{"color":"#FFA657"},"children":" DBChange[]) "}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
16c:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (changes."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"return"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
16d:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
16e:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
16f:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
170:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // build array of { score, value } objects"}]],["$","br",null,{}]]}]}]
171:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"entries "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"map"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(({ "}],["$","span","6",{"style":{"color":"#FFA657"},"children":"id"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","8",{"style":{"color":"#FFA657"},"children":"entityType"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","10",{"style":{"color":"#FFA657"},"children":"type"}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","12",{"style":{"color":"#FFA657"},"children":"date"}],["$","span","13",{"style":{"color":"#C9D1D9"},"children":" }) "}],["$","span","14",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":" ({"}]],["$","br",null,{}]]}]}]
172:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      score: Date."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
173:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      value: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"JSON"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"stringify"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({ id, entityType, date, type }),"}]],["$","br",null,{}]]}]}]
174:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }));"}]],["$","br",null,{}]]}]}]
175:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
176:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // one multi(): batch ZADD + EXPIRE"}]],["$","br",null,{}]]}]}]
177:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":".redisClient"}]],["$","br",null,{}]]}]}]
178:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"multi"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
179:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"zAdd"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", entries)"}]],["$","br",null,{}]]}]}]
17a:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"expire"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","9",{"style":{"color":"#79C0FF"},"children":"INTERVAL "}],["$","span","10",{"style":{"color":"#FF7B72"},"children":"* "}],["$","span","11",{"style":{"color":"#79C0FF"},"children":"60"}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","13",{"style":{"color":"#FF7B72"},"children":"/ "}],["$","span","14",{"style":{"color":"#79C0FF"},"children":"1000"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":")"}]],["$","br",null,{}]]}]}]
17b:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"exec"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
17c:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
17d:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
17e:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"beginEmitting"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
17f:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"    setInterval"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"async"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" () "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
180:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
181:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
182:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"now "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" Date."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
183:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
184:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"      // get everything with score ∈ (lastTimestamp, now]"}]],["$","br",null,{}]]}]}]
185:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"raw "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= await "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"zRangeByScore"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
186:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
187:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"+ "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"1"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
188:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        now,"}]],["$","br",null,{}]]}]}]
189:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      );"}]],["$","br",null,{}]]}]}]
18a:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
18b:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"      this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" now;"}]],["$","br",null,{}]]}]}]
18c:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
18d:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (raw."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"> "}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}]
18e:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"updates "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" raw."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"map"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"s"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=> "}],["$","span","9",{"style":{"color":"#79C0FF"},"children":"JSON"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","11",{"style":{"color":"#D2A8FF"},"children":"parse"}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":"(s) "}],["$","span","13",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","14",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
18f:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".emitter."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"emit"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":", updates);"}]],["$","br",null,{}]]}]}]
190:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }"}]],["$","br",null,{}]]}]}]
191:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }, "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"INTERVAL"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
192:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
193:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
194:["$","span","2",{"style":{"color":"#0A3069"},"children":"\"create\" "}]
195:["$","span","3",{"style":{"color":"#CF222E"},"children":"| "}]
196:["$","span","4",{"style":{"color":"#0A3069"},"children":"\"update\" "}]
197:["$","span","5",{"style":{"color":"#CF222E"},"children":"| "}]
198:["$","span","6",{"style":{"color":"#0A3069"},"children":"\"delete\""}]
199:["$","span","7",{"style":{"color":"#24292F"},"children":";"}]
19a:["$","br",null,{}]
19b:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#24292F"},"children":"};"}]],["$","br",null,{}]]}]}]
19c:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
19d:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabaseEventsService {"}]],["$","br",null,{}]]}]}]
19e:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static readonly"}],["$","span","1",{"style":{"color":"#953800"},"children":" DB_KEY "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
19f:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
1a0:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#953800"},"children":" INTERVAL "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"1_000"}],["$","span","4",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
1a1:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static"}],["$","span","1",{"style":{"color":"#953800"},"children":" lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#24292F"},"children":"Date"}],["$","span","4",{"style":{"color":"#953800"},"children":"."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","6",{"style":{"color":"#953800"},"children":"();"}]],["$","br",null,{}]]}]}]
1a2:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
1a3:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static"}],["$","span","1",{"style":{"color":"#953800"},"children":" redisClient "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"createClient"}],["$","span","4",{"style":{"color":"#953800"},"children":"({"}]],["$","br",null,{}]]}]}]
1a4:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    url: process.env."}],["$","span","1",{"style":{"color":"#0550AE"},"children":"REDIS_URL"}],["$","span","2",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
1a5:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#953800"},"children":"  });"}]],["$","br",null,{}]]}]}]
1a6:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
1a7:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static"}],["$","span","1",{"style":{"color":"#953800"},"children":" emitter "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"mitt"}],["$","span","4",{"style":{"color":"#953800"},"children":"<{"}]],["$","br",null,{}]]}]}]
1a8:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#953800"},"children":"    ["}],["$","span","1",{"style":{"color":"#24292F"},"children":"DatabaseEventsService"}],["$","span","2",{"style":{"color":"#953800"},"children":"."}],["$","span","3",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","4",{"style":{"color":"#953800"},"children":"]"}],["$","span","5",{"style":{"color":"#CF222E"},"children":":"}],["$","span","6",{"style":{"color":"#953800"},"children":" DBChange[];"}]],["$","br",null,{}]]}]}]
1a9:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#953800"},"children":"  }>();"}]],["$","br",null,{}]]}]}]
1aa:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
1ab:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // ensure Redis is connected"}]],["$","br",null,{}]]}]}]
1ac:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
1ad:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":".redisClient.isOpen) {"}]],["$","br",null,{}]]}]}]
1ae:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
1af:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"      this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"on"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"error\""}],["$","span","5",{"style":{"color":"#24292F"},"children":", ("}],["$","span","6",{"style":{"color":"#953800"},"children":"err"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
1b0:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        console."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"error"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"Redis Client Error\""}],["$","span","4",{"style":{"color":"#24292F"},"children":", err);"}]],["$","br",null,{}]]}]}]
1b1:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      });"}]],["$","br",null,{}]]}]}]
1b2:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }"}]],["$","br",null,{}]]}]}]
1b3:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
1b4:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
1b5:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // push one update into our ZSET, with score = timestamp"}]],["$","br",null,{}]]}]}]
1b6:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"createChanges"}],["$","span","2",{"style":{"color":"#953800"},"children":"(changes"}],["$","span","3",{"style":{"color":"#CF222E"},"children":":"}],["$","span","4",{"style":{"color":"#953800"},"children":" DBChange[]) "}],["$","span","5",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
1b7:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (changes."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"return"}],["$","span","7",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
1b8:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1b9:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
1ba:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1bb:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // build array of { score, value } objects"}]],["$","br",null,{}]]}]}]
1bc:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"entries "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"map"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(({ "}],["$","span","6",{"style":{"color":"#953800"},"children":"id"}],["$","span","7",{"style":{"color":"#24292F"},"children":", "}],["$","span","8",{"style":{"color":"#953800"},"children":"entityType"}],["$","span","9",{"style":{"color":"#24292F"},"children":", "}],["$","span","10",{"style":{"color":"#953800"},"children":"type"}],["$","span","11",{"style":{"color":"#24292F"},"children":", "}],["$","span","12",{"style":{"color":"#953800"},"children":"date"}],["$","span","13",{"style":{"color":"#24292F"},"children":" }) "}],["$","span","14",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","15",{"style":{"color":"#24292F"},"children":" ({"}]],["$","br",null,{}]]}]}]
1bd:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      score: Date."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
1be:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      value: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"JSON"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"stringify"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({ id, entityType, date, type }),"}]],["$","br",null,{}]]}]}]
1bf:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }));"}]],["$","br",null,{}]]}]}]
1c0:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1c1:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // one multi(): batch ZADD + EXPIRE"}]],["$","br",null,{}]]}]}]
1c2:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":".redisClient"}]],["$","br",null,{}]]}]}]
1c3:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"multi"}],["$","span","2",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
1c4:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"zAdd"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":"."}],["$","span","5",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#24292F"},"children":", entries)"}]],["$","br",null,{}]]}]}]
1c5:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"expire"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":"."}],["$","span","5",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#24292F"},"children":", ("}],["$","span","7",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","8",{"style":{"color":"#24292F"},"children":"."}],["$","span","9",{"style":{"color":"#0550AE"},"children":"INTERVAL "}],["$","span","10",{"style":{"color":"#CF222E"},"children":"* "}],["$","span","11",{"style":{"color":"#0550AE"},"children":"60"}],["$","span","12",{"style":{"color":"#24292F"},"children":") "}],["$","span","13",{"style":{"color":"#CF222E"},"children":"/ "}],["$","span","14",{"style":{"color":"#0550AE"},"children":"1000"}],["$","span","15",{"style":{"color":"#24292F"},"children":")"}]],["$","br",null,{}]]}]}]
1c6:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"exec"}],["$","span","2",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
1c7:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
1c8:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
1c9:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"beginEmitting"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
1ca:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"    setInterval"}],["$","span","1",{"style":{"color":"#24292F"},"children":"("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"async"}],["$","span","3",{"style":{"color":"#24292F"},"children":" () "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","5",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
1cb:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
1cc:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1cd:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"now "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" Date."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","5",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
1ce:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1cf:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"      // get everything with score ∈ (lastTimestamp, now]"}]],["$","br",null,{}]]}]}]
1d0:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"raw "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= await "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"zRangeByScore"}],["$","span","6",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
1d1:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":"."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","3",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
1d2:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"+ "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"1"}],["$","span","4",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
1d3:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        now,"}]],["$","br",null,{}]]}]}]
1d4:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      );"}]],["$","br",null,{}]]}]}]
1d5:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1d6:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"      this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" now;"}]],["$","br",null,{}]]}]}]
1d7:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1d8:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (raw."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"> "}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") {"}]],["$","br",null,{}]]}]}]
1d9:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"updates "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" raw."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"map"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(("}],["$","span","6",{"style":{"color":"#953800"},"children":"s"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=> "}],["$","span","9",{"style":{"color":"#0550AE"},"children":"JSON"}],["$","span","10",{"style":{"color":"#24292F"},"children":"."}],["$","span","11",{"style":{"color":"#8250DF"},"children":"parse"}],["$","span","12",{"style":{"color":"#24292F"},"children":"(s) "}],["$","span","13",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","14",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","15",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
1da:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".emitter."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"emit"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","5",{"style":{"color":"#24292F"},"children":"."}],["$","span","6",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","7",{"style":{"color":"#24292F"},"children":", updates);"}]],["$","br",null,{}]]}]}]
1db:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }"}]],["$","br",null,{}]]}]}]
1dc:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }, "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#0550AE"},"children":"INTERVAL"}],["$","span","4",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
1dd:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
1de:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
1df:["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}]
1e0:["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"create\" "}]
1e1:["$","span","3",{"style":{"color":"#FF7B72"},"children":"| "}]
1e2:["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"update\" "}]
1e3:["$","span","5",{"style":{"color":"#FF7B72"},"children":"| "}]
1e4:["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}]
1e5:["$","span","7",{"style":{"color":"#C9D1D9"},"children":";"}]
1e6:["$","br",null,{}]
1e7:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"};"}]],["$","br",null,{}]]}]}]
1e8:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1e9:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabaseEventsService {"}]],["$","br",null,{}]]}]}]
1ea:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static readonly"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DB_KEY "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
1eb:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
1ec:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" INTERVAL "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"1_000"}],["$","span","4",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
1ed:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"Date"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","6",{"style":{"color":"#FFA657"},"children":"();"}]],["$","br",null,{}]]}]}]
1ee:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
1ef:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" redisClient "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"createClient"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"({"}]],["$","br",null,{}]]}]}]
1f0:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    url: process.env."}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"REDIS_URL"}],["$","span","2",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
1f1:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  });"}]],["$","br",null,{}]]}]}]
1f2:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
1f3:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" emitter "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"mitt"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"<{"}]],["$","br",null,{}]]}]}]
1f4:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"    ["}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"DatabaseEventsService"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"."}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"]"}],["$","span","5",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","6",{"style":{"color":"#FFA657"},"children":" DBChange[];"}]],["$","br",null,{}]]}]}]
1f5:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  }>();"}]],["$","br",null,{}]]}]}]
1f6:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
1f7:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // ensure Redis is connected"}]],["$","br",null,{}]]}]}]
1f8:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
1f9:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":".redisClient.isOpen) {"}]],["$","br",null,{}]]}]}]
1fa:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
1fb:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"      this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"on"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"error\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"err"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
1fc:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        console."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"error"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"Redis Client Error\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", err);"}]],["$","br",null,{}]]}]}]
1fd:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      });"}]],["$","br",null,{}]]}]}]
1fe:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }"}]],["$","br",null,{}]]}]}]
1ff:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
200:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
201:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // push one update into our ZSET, with score = timestamp"}]],["$","br",null,{}]]}]}]
202:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"createChanges"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"(changes"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","4",{"style":{"color":"#FFA657"},"children":" DBChange[]) "}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
203:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (changes."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"return"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
204:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
205:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
206:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
207:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // build array of { score, value } objects"}]],["$","br",null,{}]]}]}]
208:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"entries "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"map"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(({ "}],["$","span","6",{"style":{"color":"#FFA657"},"children":"id"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","8",{"style":{"color":"#FFA657"},"children":"entityType"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","10",{"style":{"color":"#FFA657"},"children":"type"}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","12",{"style":{"color":"#FFA657"},"children":"date"}],["$","span","13",{"style":{"color":"#C9D1D9"},"children":" }) "}],["$","span","14",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":" ({"}]],["$","br",null,{}]]}]}]
209:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      score: Date."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
20a:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      value: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"JSON"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"stringify"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({ id, entityType, date, type }),"}]],["$","br",null,{}]]}]}]
20b:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }));"}]],["$","br",null,{}]]}]}]
20c:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
20d:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // one multi(): batch ZADD + EXPIRE"}]],["$","br",null,{}]]}]}]
20e:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":".redisClient"}]],["$","br",null,{}]]}]}]
20f:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"multi"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
210:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"zAdd"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", entries)"}]],["$","br",null,{}]]}]}]
211:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"expire"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","9",{"style":{"color":"#79C0FF"},"children":"INTERVAL "}],["$","span","10",{"style":{"color":"#FF7B72"},"children":"* "}],["$","span","11",{"style":{"color":"#79C0FF"},"children":"60"}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","13",{"style":{"color":"#FF7B72"},"children":"/ "}],["$","span","14",{"style":{"color":"#79C0FF"},"children":"1000"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":")"}]],["$","br",null,{}]]}]}]
212:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"exec"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
213:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
214:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
215:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"beginEmitting"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
216:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"    setInterval"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"async"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" () "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
217:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
218:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
219:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"now "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" Date."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
21a:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
21b:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"      // get everything with score ∈ (lastTimestamp, now]"}]],["$","br",null,{}]]}]}]
21c:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"raw "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= await "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"zRangeByScore"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
21d:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
21e:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"+ "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"1"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
21f:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        now,"}]],["$","br",null,{}]]}]}]
220:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      );"}]],["$","br",null,{}]]}]}]
221:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
222:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"      this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" now;"}]],["$","br",null,{}]]}]}]
223:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
224:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (raw."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"> "}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}]
225:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"updates "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" raw."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"map"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"s"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=> "}],["$","span","9",{"style":{"color":"#79C0FF"},"children":"JSON"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","11",{"style":{"color":"#D2A8FF"},"children":"parse"}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":"(s) "}],["$","span","13",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","14",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
226:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".emitter."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"emit"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":", updates);"}]],["$","br",null,{}]]}]}]
227:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }"}]],["$","br",null,{}]]}]}]
228:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }, "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"INTERVAL"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
229:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
22a:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
22b:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" mitt "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"mitt\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { createClient } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"redis\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export type "}],["$","span","1",{"style":{"color":"#953800"},"children":"DBChange "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#953800"},"children":"  id"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"string"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#953800"},"children":"  entityType"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"EntityType"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#953800"},"children":"  date"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"string"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#953800"},"children":"  type"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],"$L35c","$L35d","$L35e","$L35f","$L360","$L361"],"$L362"]}]}],"$L363","$L364","$L365","$L366","$L367","$L368","$L369","$L36a","$L36b","$L36c","$L36d","$L36e","$L36f","$L370","$L371","$L372","$L373","$L374","$L375","$L376","$L377","$L378","$L379","$L37a","$L37b","$L37c","$L37d","$L37e","$L37f","$L380","$L381","$L382","$L383","$L384","$L385","$L386","$L387","$L388","$L389","$L38a","$L38b","$L38c","$L38d","$L38e","$L38f","$L390","$L391","$L392","$L393","$L394","$L395","$L396","$L397","$L398","$L399","$L39a","$L39b","$L39c","$L39d","$L39e","$L39f","$L3a0","$L3a1","$L3a2","$L3a3","$L3a4","$L3a5","$L3a6"]}]}]]}]
22c:["$","span","1",{"style":{"color":"#FFA657"},"children":" PollService {"}]
22d:["$","br",null,{}]
22e:["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"poll"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"("}]],["$","br",null,{}]]}]}]
22f:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"    resp"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","2",{"style":{"color":"#FFA657"},"children":" JSONLinesResponse<VovkIteration<"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"typeof "}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"DatabasePollController"}],["$","span","5",{"style":{"color":"#FFA657"},"children":"."}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"poll"}],["$","span","7",{"style":{"color":"#FFA657"},"children":">>,"}]],["$","br",null,{}]]}]}]
230:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  ) "}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
231:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"    setTimeout"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"(resp.close, "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"30_000"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
232:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
233:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    let"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" asOldAs "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
234:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // 10 minutes ago; TODO: use latest update date from registry"}]],["$","br",null,{}]]}]}]
235:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    asOldAs."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"setMinutes"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(asOldAs."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"getMinutes"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"- "}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"10"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
236:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
237:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    DatabaseEventsService.emitter."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"on"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
238:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      DatabaseEventsService."}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
239:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"changes"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
23a:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"deleted "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"filter"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","10",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","11",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
23b:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"createdOrUpdated "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"filter"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
23c:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"create\" "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"||"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","10",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
23d:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        );"}]],["$","br",null,{}]]}]}]
23e:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
23f:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        for"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"const "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"deletedEntity "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"of"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" deleted) {"}]],["$","br",null,{}]]}]}]
240:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          resp."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"send"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
241:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            id: deletedEntity.id,"}]],["$","br",null,{}]]}]}]
242:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            entityType: deletedEntity.entityType,"}]],["$","br",null,{}]]}]}]
243:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            __isDeleted: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"true"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
244:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          });"}]],["$","br",null,{}]]}]}]
245:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        }"}]],["$","br",null,{}]]}]}]
246:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"        // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]"}]],["$","br",null,{}]]}]}]
247:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"        forEach"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"groupBy"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(createdOrUpdated, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"entityType\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"), ("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"changes"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
248:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"maxDateItem "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"reduce"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
249:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"max"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
24a:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"changeDate "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(change.date);"}]],["$","br",null,{}]]}]}]
24b:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" changeDate."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"> new "}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"(max.date)."}],["$","span","7",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
24c:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                ?"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" change"}]],["$","br",null,{}]]}]}]
24d:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                :"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" max;"}]],["$","br",null,{}]]}]}]
24e:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            },"}]],["$","br",null,{}]]}]}]
24f:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            { date: "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") } "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"unknown "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","9",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
250:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          );"}]],["$","br",null,{}]]}]}]
251:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
252:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(maxDateItem.date)."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":">"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" asOldAs."}],["$","span","9",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":"()) {"}]],["$","br",null,{}]]}]}]
253:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            void"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseService.prisma[maxDateItem.entityType "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"user\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"]"}]],["$","br",null,{}]]}]}]
254:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"findMany"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
255:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                where: {"}]],["$","br",null,{}]]}]}]
256:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  updatedAt: {"}]],["$","br",null,{}]]}]}]
257:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                    gt: asOldAs,"}]],["$","br",null,{}]]}]}]
258:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  },"}]],["$","br",null,{}]]}]}]
259:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                },"}]],["$","br",null,{}]]}]}]
25a:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              })"}]],["$","br",null,{}]]}]}]
25b:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"then"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","3",{"style":{"color":"#FFA657"},"children":"entities"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
25c:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                for"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"const "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"entity "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"of"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" entities) {"}]],["$","br",null,{}]]}]}]
25d:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  resp."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"send"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(entity);"}]],["$","br",null,{}]]}]}]
25e:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                }"}]],["$","br",null,{}]]}]}]
25f:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              });"}]],["$","br",null,{}]]}]}]
260:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            asOldAs "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(maxDateItem.date);"}]],["$","br",null,{}]]}]}]
261:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          }"}]],["$","br",null,{}]]}]}]
262:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        });"}]],["$","br",null,{}]]}]}]
263:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      },"}]],["$","br",null,{}]]}]}]
264:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    );"}]],["$","br",null,{}]]}]}]
265:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
266:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
267:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { JSONLinesResponse, "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"type"}],["$","span","3",{"style":{"color":"#24292F"},"children":" VovkIteration } "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","5",{"style":{"color":"#0A3069"},"children":"\"vovk\""}],["$","span","6",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { forEach, groupBy } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"lodash\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import type"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollController "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabasePollController\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseEventsService, { "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"type"}],["$","span","3",{"style":{"color":"#24292F"},"children":" DBChange } "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","5",{"style":{"color":"#0A3069"},"children":"\"./DatabaseEventsService\""}],["$","span","6",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseService "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabaseService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" PollService {"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static "}],"$L3a7","$L3a8"],"$L3a9"]}]}],"$L3aa","$L3ab","$L3ac","$L3ad","$L3ae","$L3af","$L3b0","$L3b1","$L3b2","$L3b3","$L3b4","$L3b5","$L3b6","$L3b7","$L3b8","$L3b9","$L3ba","$L3bb","$L3bc","$L3bd","$L3be","$L3bf","$L3c0","$L3c1","$L3c2","$L3c3","$L3c4","$L3c5","$L3c6","$L3c7","$L3c8","$L3c9","$L3ca","$L3cb","$L3cc","$L3cd","$L3ce","$L3cf","$L3d0","$L3d1","$L3d2","$L3d3","$L3d4","$L3d5","$L3d6","$L3d7","$L3d8","$L3d9","$L3da","$L3db","$L3dc","$L3dd","$L3de","$L3df","$L3e0","$L3e1"]}]}]]}]
268:["$","div",null,{"data-theme":"light","className":"dark:hidden","children":[["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { JSONLinesResponse, "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"type"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" VovkIteration } "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"\"vovk\""}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { forEach, groupBy } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"lodash\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import type"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollController "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabasePollController\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseEventsService, { "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"type"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" DBChange } "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseEventsService\""}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseService "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" PollService {"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],["$L3e2","$L3e3","$L3e4"],"$L3e5"]}]}],"$L3e6","$L3e7","$L3e8","$L3e9","$L3ea","$L3eb","$L3ec","$L3ed","$L3ee","$L3ef","$L3f0","$L3f1","$L3f2","$L3f3","$L3f4","$L3f5","$L3f6","$L3f7","$L3f8","$L3f9","$L3fa","$L3fb","$L3fc","$L3fd","$L3fe","$L3ff","$L400","$L401","$L402","$L403","$L404","$L405","$L406","$L407","$L408","$L409","$L40a","$L40b","$L40c","$L40d","$L40e","$L40f","$L410","$L411","$L412","$L413","$L414","$L415","$L416","$L417","$L418","$L419","$L41a","$L41b","$L41c","$L41d"]}]}]]}],"$L41e"]}]
269:["$","$La",null,{"href":"https://github.com/finom/vovk-kanban-demo/blob/main/src/modules/database/DatabasePollService.ts","target":"_blank","rel":"noopener noreferrer","className":"block mt-2 x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["View ","DatabasePollService.ts"," file on GitHub",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"1.7","viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]}]
26a:["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}]
26b:["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}]
26c:["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { sessionGuard } "}]
26d:["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}]
26e:["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/decorators/sessionGuard\""}]
26f:["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]
270:["$","br",null,{}]
271:["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
272:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"@"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"prefix"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"poll\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":")"}]],["$","br",null,{}]]}]}]
273:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabasePollController {"}]],["$","br",null,{}]]}]}]
274:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  @"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"get"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"()"}]],["$","br",null,{}]]}]}]
275:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  @"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"sessionGuard"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"()"}]],["$","br",null,{}]]}]}]
276:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" poll "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"withZod"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"({"}]],["$","br",null,{}]]}]}]
277:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    preferTransformed: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"false"}],["$","span","2",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
278:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    iteration: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"union"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(["}]],["$","br",null,{}]]}]}]
279:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"object"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
27a:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        id: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"uuid"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
27b:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        entityType: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"enum"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(EntityType),"}]],["$","br",null,{}]]}]}]
27c:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        __isDeleted: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"boolean"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"()."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"optional"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
27d:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }),"}]],["$","br",null,{}]]}]}]
27e:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      UserSchema,"}]],["$","br",null,{}]]}]}]
27f:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      TaskSchema,"}]],["$","br",null,{}]]}]}]
280:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    ])"}],["$","span","1",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
281:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"handle"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"(req) "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
282:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"response "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" JSONLinesResponse"}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"<"}]],["$","br",null,{}]]}]}]
283:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        VovkIteration"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"<typeof"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":" DatabasePollController.poll"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":">"}]],["$","br",null,{}]]}]}]
284:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      >"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"(req);"}]],["$","br",null,{}]]}]}]
285:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
286:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      void"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollService."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"poll"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(response);"}]],["$","br",null,{}]]}]}]
287:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
288:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" response;"}]],["$","br",null,{}]]}]}]
289:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }"}],["$","span","1",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
28a:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  });"}]],["$","br",null,{}]]}]}]
28b:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
28c:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { get, JSONLinesResponse, prefix, "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"type"}],["$","span","3",{"style":{"color":"#24292F"},"children":" VovkIteration } "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","5",{"style":{"color":"#0A3069"},"children":"\"vovk\""}],["$","span","6",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { z } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"zod\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollService "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabasePollService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { TaskSchema, UserSchema } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/schemas\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { withZod } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/lib/withZod\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { sessionGuard } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],"$L41f","$L420"],"$L421"]}]}],"$L422","$L423","$L424","$L425","$L426","$L427","$L428","$L429","$L42a","$L42b","$L42c","$L42d","$L42e","$L42f","$L430","$L431","$L432","$L433","$L434","$L435","$L436","$L437","$L438","$L439","$L43a","$L43b","$L43c"]}]}]]}]
28d:["$","div",null,{"data-theme":"light","className":"dark:hidden","children":[["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { get, JSONLinesResponse, prefix, "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"type"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" VovkIteration } "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"\"vovk\""}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { z } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"zod\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollService "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabasePollService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { TaskSchema, UserSchema } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/schemas\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { withZod } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/lib/withZod\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { sessionGuard } "}],"$L43d","$L43e","$L43f"],"$L440"]}]}],"$L441","$L442","$L443","$L444","$L445","$L446","$L447","$L448","$L449","$L44a","$L44b","$L44c","$L44d","$L44e","$L44f","$L450","$L451","$L452","$L453","$L454","$L455","$L456","$L457","$L458","$L459","$L45a","$L45b"]}]}]]}],"$L45c"]}]
28e:["$","$La",null,{"href":"https://github.com/finom/vovk-kanban-demo/blob/main/src/modules/database/DatabasePollController.ts","target":"_blank","rel":"noopener noreferrer","className":"block mt-2 x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["View ","DatabasePollController.ts"," file on GitHub",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":"1.7","viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]}]
28f:["$","span","5",{"style":{"color":"#0550AE"},"children":"this"}]
290:["$","span","6",{"style":{"color":"#24292F"},"children":"."}]
291:["$","span","7",{"style":{"color":"#8250DF"},"children":"getClient"}]
292:["$","span","8",{"style":{"color":"#24292F"},"children":"());"}]
293:["$","br",null,{}]
294:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"3ch"},"children":9}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
295:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"3ch"},"children":10}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static"}],["$","span","1",{"style":{"color":"#953800"},"children":" #prisma"}],["$","span","2",{"style":{"color":"#CF222E"},"children":":"}],["$","span","3",{"style":{"color":"#953800"},"children":" ReturnType<"}],["$","span","4",{"style":{"color":"#CF222E"},"children":"typeof "}],["$","span","5",{"style":{"color":"#24292F"},"children":"DatabaseService"}],["$","span","6",{"style":{"color":"#953800"},"children":"."}],["$","span","7",{"style":{"color":"#24292F"},"children":"getClient"}],["$","span","8",{"style":{"color":"#953800"},"children":"> "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"| "}],["$","span","10",{"style":{"color":"#0550AE"},"children":"null "}],["$","span","11",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","12",{"style":{"color":"#0550AE"},"children":"null"}],["$","span","13",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
296:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"3ch"},"children":11}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
297:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"3ch"},"children":12}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"getClient"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
298:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"3ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"prisma "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"PrismaClient"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
299:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"3ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      adapter: "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"PrismaNeon"}],["$","span","3",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
29a:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"3ch"},"children":15}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        connectionString: "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"`${"}],["$","span","2",{"style":{"color":"#24292F"},"children":"process"}],["$","span","3",{"style":{"color":"#0A3069"},"children":"."}],["$","span","4",{"style":{"color":"#24292F"},"children":"env"}],["$","span","5",{"style":{"color":"#0A3069"},"children":"."}],["$","span","6",{"style":{"color":"#0550AE"},"children":"DATABASE_URL"}],["$","span","7",{"style":{"color":"#0A3069"},"children":"}`"}],["$","span","8",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
29b:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"3ch"},"children":16}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }),"}]],["$","br",null,{}]]}]}]
29c:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"3ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
29d:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"3ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
29e:["$","span","18",{"className":"block dark:bg-[#d1edff33] bg-[#d1edff80]","children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"3ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    DatabaseEventsService."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"beginEmitting"}],["$","span","2",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]]}]
29f:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"3ch"},"children":20}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2a0:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"3ch"},"children":21}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" prisma."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"$$extends"}],["$","span","3",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
2a1:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"3ch"},"children":22}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      name: "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"events\""}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2a2:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"3ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      query: {"}]],["$","br",null,{}]]}]}]
2a3:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"3ch"},"children":24}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        $allModels: {"}]],["$","br",null,{}]]}]}]
2a4:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"3ch"},"children":25}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"$$allOperations"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({ "}],["$","span","3",{"style":{"color":"#953800"},"children":"model"}],["$","span","4",{"style":{"color":"#24292F"},"children":", "}],["$","span","5",{"style":{"color":"#953800"},"children":"operation"}],["$","span","6",{"style":{"color":"#24292F"},"children":", "}],["$","span","7",{"style":{"color":"#953800"},"children":"args"}],["$","span","8",{"style":{"color":"#24292F"},"children":", "}],["$","span","9",{"style":{"color":"#953800"},"children":"query"}],["$","span","10",{"style":{"color":"#24292F"},"children":" }) {"}]],["$","br",null,{}]]}]}]
2a5:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"3ch"},"children":26}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"allowedOperations "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ["}]],["$","br",null,{}]]}]}]
2a6:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"3ch"},"children":27}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"create\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2a7:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"3ch"},"children":28}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"update\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2a8:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"3ch"},"children":29}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"delete\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2a9:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"3ch"},"children":30}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"findMany\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2aa:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"3ch"},"children":31}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"findUnique\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2ab:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"3ch"},"children":32}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"findFirst\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2ac:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"3ch"},"children":33}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"count\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2ad:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"3ch"},"children":34}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ] "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"as const"}],["$","span","2",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2ae:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"3ch"},"children":35}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            type "}],["$","span","1",{"style":{"color":"#953800"},"children":"AllowedOperation "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}],["$","span","4",{"style":{"color":"#CF222E"},"children":"typeof"}],["$","span","5",{"style":{"color":"#24292F"},"children":" allowedOperations)["}],["$","span","6",{"style":{"color":"#0550AE"},"children":"number"}],["$","span","7",{"style":{"color":"#24292F"},"children":"];"}]],["$","br",null,{}]]}]}]
2af:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"3ch"},"children":36}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#24292F"},"children":"allowedOperations."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"includes"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(operation "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","7",{"style":{"color":"#953800"},"children":"AllowedOperation"}],["$","span","8",{"style":{"color":"#24292F"},"children":")) {"}]],["$","br",null,{}]]}]}]
2b0:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"3ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              throw new "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"Error"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
2b1:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"3ch"},"children":38}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"                `Unsupported database operation \"${"}],["$","span","1",{"style":{"color":"#24292F"},"children":"operation"}],["$","span","2",{"style":{"color":"#0A3069"},"children":"}\" on model \"${"}],["$","span","3",{"style":{"color":"#24292F"},"children":"model"}],["$","span","4",{"style":{"color":"#0A3069"},"children":"}\"`"}],["$","span","5",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2b2:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"3ch"},"children":39}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              );"}]],["$","br",null,{}]]}]}]
2b3:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"3ch"},"children":40}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
2b4:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"3ch"},"children":41}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"result "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}],["$","span","4",{"style":{"color":"#CF222E"},"children":"await "}],["$","span","5",{"style":{"color":"#8250DF"},"children":"query"}],["$","span","6",{"style":{"color":"#24292F"},"children":"(args)) "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","8",{"style":{"color":"#953800"},"children":"BaseEntity "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"| "}],["$","span","10",{"style":{"color":"#953800"},"children":"BaseEntity"}],["$","span","11",{"style":{"color":"#24292F"},"children":"[];"}]],["$","br",null,{}]]}]}]
2b5:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"3ch"},"children":42}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2b6:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"3ch"},"children":43}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"now "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"()."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"toISOString"}],["$","span","6",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
2b7:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"3ch"},"children":44}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            let"}],["$","span","1",{"style":{"color":"#24292F"},"children":" change"}],["$","span","2",{"style":{"color":"#CF222E"},"children":": "}],["$","span","3",{"style":{"color":"#953800"},"children":"DBChange "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"| "}],["$","span","5",{"style":{"color":"#0550AE"},"children":"null "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","7",{"style":{"color":"#0550AE"},"children":"null"}],["$","span","8",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2b8:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"3ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2b9:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"3ch"},"children":46}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"makeChange "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}]],["$","br",null,{}]]}]}]
2ba:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"3ch"},"children":47}],[["$","span","0",{"style":{"color":"#953800"},"children":"              entity"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"BaseEntity"}],["$","span","3",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2bb:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"3ch"},"children":48}],[["$","span","0",{"style":{"color":"#953800"},"children":"              type"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"["}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"type\""}],["$","span","5",{"style":{"color":"#24292F"},"children":"],"}]],["$","br",null,{}]]}]}]
2bc:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"3ch"},"children":49}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ) "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","2",{"style":{"color":"#24292F"},"children":" ({"}]],["$","br",null,{}]]}]}]
2bd:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"3ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              id: entity.id,"}]],["$","br",null,{}]]}]}]
2be:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"3ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              entityType: entity.entityType,"}]],["$","br",null,{}]]}]}]
2bf:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"3ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              date:"}]],["$","br",null,{}]]}]}]
2c0:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"3ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                type "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"delete\""}]],["$","br",null,{}]]}]}]
2c1:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"3ch"},"children":54}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                  ?"}],["$","span","1",{"style":{"color":"#24292F"},"children":" now"}]],["$","br",null,{}]]}]}]
2c2:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"3ch"},"children":55}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                  :"}],["$","span","1",{"style":{"color":"#24292F"},"children":" entity.updatedAt"}]],["$","br",null,{}]]}]}]
2c3:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"3ch"},"children":56}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                    ? new "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(entity.updatedAt)."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"toISOString"}],["$","span","4",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
2c4:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"3ch"},"children":57}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                    :"}],["$","span","1",{"style":{"color":"#24292F"},"children":" now,"}]],["$","br",null,{}]]}]}]
2c5:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"3ch"},"children":58}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              type,"}]],["$","br",null,{}]]}]}]
2c6:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"3ch"},"children":59}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            });"}]],["$","br",null,{}]]}]}]
2c7:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"3ch"},"children":60}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2c8:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"3ch"},"children":61}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            switch"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (operation "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","3",{"style":{"color":"#953800"},"children":"AllowedOperation"}],["$","span","4",{"style":{"color":"#24292F"},"children":") {"}]],["$","br",null,{}]]}]}]
2c9:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"3ch"},"children":62}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"create\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2ca:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"3ch"},"children":63}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"in"}],["$","span","4",{"style":{"color":"#24292F"},"children":" result)"}]],["$","br",null,{}]]}]}]
2cb:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"3ch"},"children":64}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  change "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"create\""}],["$","span","5",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
2cc:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"3ch"},"children":65}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2cd:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"3ch"},"children":66}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2ce:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"3ch"},"children":67}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2cf:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"3ch"},"children":68}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"in"}],["$","span","4",{"style":{"color":"#24292F"},"children":" result)"}]],["$","br",null,{}]]}]}]
2d0:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"3ch"},"children":69}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  change "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","5",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
2d1:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"3ch"},"children":70}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2d2:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"3ch"},"children":71}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2d3:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"3ch"},"children":72}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2d4:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"3ch"},"children":73}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"in"}],["$","span","4",{"style":{"color":"#24292F"},"children":" result) {"}]],["$","br",null,{}]]}]}]
2d5:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"3ch"},"children":74}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  change "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","5",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
2d6:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"3ch"},"children":75}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"                  // Automatically add __isDeleted flag to deletion results"}]],["$","br",null,{}]]}]}]
2d7:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"3ch"},"children":76}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  Object."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"assign"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(result, { __isDeleted: "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"true"}],["$","span","4",{"style":{"color":"#24292F"},"children":" });"}]],["$","br",null,{}]]}]}]
2d8:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"3ch"},"children":77}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                }"}]],["$","br",null,{}]]}]}]
2d9:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"3ch"},"children":78}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2da:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"3ch"},"children":79}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2db:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"3ch"},"children":80}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"findMany\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2dc:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"3ch"},"children":81}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"findUnique\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2dd:["$","div","81",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":82,"style":{"width":"3ch"},"children":82}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"findFirst\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2de:["$","div","82",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":83,"style":{"width":"3ch"},"children":83}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"count\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2df:["$","div","83",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":84,"style":{"width":"3ch"},"children":84}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"                // no events"}]],["$","br",null,{}]]}]}]
2e0:["$","div","84",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":85,"style":{"width":"3ch"},"children":85}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2e1:["$","div","85",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":86,"style":{"width":"3ch"},"children":86}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2e2:["$","div","86",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":87,"style":{"width":"3ch"},"children":87}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              default"}],["$","span","1",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2e3:["$","div","87",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":88,"style":{"width":"3ch"},"children":88}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                console."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"warn"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
2e4:["$","div","88",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":89,"style":{"width":"3ch"},"children":89}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"                  `Unhandled Prisma operation: ${"}],["$","span","1",{"style":{"color":"#24292F"},"children":"operation"}],["$","span","2",{"style":{"color":"#0A3069"},"children":"} for model: ${"}],["$","span","3",{"style":{"color":"#24292F"},"children":"model"}],["$","span","4",{"style":{"color":"#0A3069"},"children":"}`"}],["$","span","5",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2e5:["$","div","89",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":90,"style":{"width":"3ch"},"children":90}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                );"}]],["$","br",null,{}]]}]}]
2e6:["$","div","90",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":91,"style":{"width":"3ch"},"children":91}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2e7:["$","div","91",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":92,"style":{"width":"3ch"},"children":92}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
2e8:["$","div","92",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":93,"style":{"width":"3ch"},"children":93}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2e9:["$","div","93",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":94,"style":{"width":"3ch"},"children":94}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (change) {"}]],["$","br",null,{}]]}]}]
2ea:["$","span","94",{"className":"block dark:bg-[#d1edff33] bg-[#d1edff80]","children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":95,"style":{"width":"3ch"},"children":95}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              await"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseEventsService."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"createChanges"}],["$","span","3",{"style":{"color":"#24292F"},"children":"([change]);"}]],["$","br",null,{}]]}]}]]}]
2eb:["$","div","95",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":96,"style":{"width":"3ch"},"children":96}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
2ec:["$","div","96",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":97,"style":{"width":"3ch"},"children":97}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2ed:["$","div","97",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":98,"style":{"width":"3ch"},"children":98}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" result;"}]],["$","br",null,{}]]}]}]
2ee:["$","div","98",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":99,"style":{"width":"3ch"},"children":99}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          },"}]],["$","br",null,{}]]}]}]
2ef:["$","div","99",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":100,"style":{"width":"3ch"},"children":100}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        },"}]],["$","br",null,{}]]}]}]
2f0:["$","div","100",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":101,"style":{"width":"3ch"},"children":101}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      },"}]],["$","br",null,{}]]}]}]
2f1:["$","div","101",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":102,"style":{"width":"3ch"},"children":102}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
2f2:["$","div","102",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":103,"style":{"width":"3ch"},"children":103}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
2f3:["$","div","103",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":104,"style":{"width":"3ch"},"children":104}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
2f4:["$","span","3",{"style":{"color":"#C9D1D9"},"children":".#prisma "}]
2f5:["$","span","4",{"style":{"color":"#FF7B72"},"children":"??= "}]
2f6:["$","span","5",{"style":{"color":"#79C0FF"},"children":"this"}]
2f7:["$","span","6",{"style":{"color":"#C9D1D9"},"children":"."}]
2f8:["$","span","7",{"style":{"color":"#D2A8FF"},"children":"getClient"}]
2f9:["$","span","8",{"style":{"color":"#C9D1D9"},"children":"());"}]
2fa:["$","br",null,{}]
2fb:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"3ch"},"children":9}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
2fc:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"3ch"},"children":10}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" #prisma"}],["$","span","2",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","3",{"style":{"color":"#FFA657"},"children":" ReturnType<"}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"typeof "}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"DatabaseService"}],["$","span","6",{"style":{"color":"#FFA657"},"children":"."}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"getClient"}],["$","span","8",{"style":{"color":"#FFA657"},"children":"> "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","10",{"style":{"color":"#79C0FF"},"children":"null "}],["$","span","11",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","12",{"style":{"color":"#79C0FF"},"children":"null"}],["$","span","13",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
2fd:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"3ch"},"children":11}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
2fe:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"3ch"},"children":12}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"getClient"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
2ff:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"3ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"prisma "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"PrismaClient"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
300:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"3ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      adapter: "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"PrismaNeon"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
301:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"3ch"},"children":15}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        connectionString: "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"`${"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"process"}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"."}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"env"}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"."}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"DATABASE_URL"}],["$","span","7",{"style":{"color":"#A5D6FF"},"children":"}`"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
302:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"3ch"},"children":16}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }),"}]],["$","br",null,{}]]}]}]
303:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"3ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
304:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"3ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
305:["$","span","18",{"className":"block dark:bg-[#d1edff33] bg-[#d1edff80]","children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"3ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    DatabaseEventsService."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"beginEmitting"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]]}]
306:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"3ch"},"children":20}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
307:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"3ch"},"children":21}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" prisma."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"$$extends"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
308:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"3ch"},"children":22}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      name: "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"events\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
309:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"3ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      query: {"}]],["$","br",null,{}]]}]}]
30a:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"3ch"},"children":24}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        $allModels: {"}]],["$","br",null,{}]]}]}]
30b:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"3ch"},"children":25}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"$$allOperations"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({ "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"model"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","5",{"style":{"color":"#FFA657"},"children":"operation"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","7",{"style":{"color":"#FFA657"},"children":"args"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","9",{"style":{"color":"#FFA657"},"children":"query"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":" }) {"}]],["$","br",null,{}]]}]}]
30c:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"3ch"},"children":26}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"allowedOperations "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ["}]],["$","br",null,{}]]}]}]
30d:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"3ch"},"children":27}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"create\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
30e:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"3ch"},"children":28}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"update\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
30f:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"3ch"},"children":29}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"delete\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
310:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"3ch"},"children":30}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"findMany\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
311:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"3ch"},"children":31}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"findUnique\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
312:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"3ch"},"children":32}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"findFirst\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
313:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"3ch"},"children":33}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"              \"count\""}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
314:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"3ch"},"children":34}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ] "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"as const"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
315:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"3ch"},"children":35}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            type "}],["$","span","1",{"style":{"color":"#FFA657"},"children":"AllowedOperation "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"typeof"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" allowedOperations)["}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"number"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"];"}]],["$","br",null,{}]]}]}]
316:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"3ch"},"children":36}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"allowedOperations."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"includes"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(operation "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","7",{"style":{"color":"#FFA657"},"children":"AllowedOperation"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":")) {"}]],["$","br",null,{}]]}]}]
317:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"3ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              throw new "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"Error"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
318:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"3ch"},"children":38}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"                `Unsupported database operation \"${"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"operation"}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"}\" on model \"${"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"model"}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"}\"`"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
319:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"3ch"},"children":39}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              );"}]],["$","br",null,{}]]}]}]
31a:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"3ch"},"children":40}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
31b:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"3ch"},"children":41}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"result "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"await "}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"query"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"(args)) "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","8",{"style":{"color":"#FFA657"},"children":"BaseEntity "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","10",{"style":{"color":"#FFA657"},"children":"BaseEntity"}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":"[];"}]],["$","br",null,{}]]}]}]
31c:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"3ch"},"children":42}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
31d:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"3ch"},"children":43}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"now "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"()."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"toISOString"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
31e:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"3ch"},"children":44}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            let"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" change"}],["$","span","2",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"DBChange "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"null "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"null"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
31f:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"3ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
320:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"3ch"},"children":46}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"makeChange "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}]],["$","br",null,{}]]}]}]
321:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"3ch"},"children":47}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"              entity"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"BaseEntity"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
322:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"3ch"},"children":48}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"              type"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"["}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"type\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"],"}]],["$","br",null,{}]]}]}]
323:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"3ch"},"children":49}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ) "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":" ({"}]],["$","br",null,{}]]}]}]
324:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"3ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              id: entity.id,"}]],["$","br",null,{}]]}]}]
325:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"3ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              entityType: entity.entityType,"}]],["$","br",null,{}]]}]}]
326:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"3ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              date:"}]],["$","br",null,{}]]}]}]
327:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"3ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                type "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}]],["$","br",null,{}]]}]}]
328:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"3ch"},"children":54}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                  ?"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" now"}]],["$","br",null,{}]]}]}]
329:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"3ch"},"children":55}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                  :"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" entity.updatedAt"}]],["$","br",null,{}]]}]}]
32a:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"3ch"},"children":56}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                    ? new "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(entity.updatedAt)."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"toISOString"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
32b:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"3ch"},"children":57}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                    :"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" now,"}]],["$","br",null,{}]]}]}]
32c:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"3ch"},"children":58}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              type,"}]],["$","br",null,{}]]}]}]
32d:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"3ch"},"children":59}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            });"}]],["$","br",null,{}]]}]}]
32e:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"3ch"},"children":60}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
32f:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"3ch"},"children":61}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            switch"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (operation "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"AllowedOperation"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}]
330:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"3ch"},"children":62}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"create\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
331:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"3ch"},"children":63}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"in"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" result)"}]],["$","br",null,{}]]}]}]
332:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"3ch"},"children":64}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  change "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"create\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
333:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"3ch"},"children":65}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
334:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"3ch"},"children":66}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
335:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"3ch"},"children":67}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
336:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"3ch"},"children":68}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"in"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" result)"}]],["$","br",null,{}]]}]}]
337:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"3ch"},"children":69}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  change "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
338:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"3ch"},"children":70}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
339:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"3ch"},"children":71}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
33a:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"3ch"},"children":72}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
33b:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"3ch"},"children":73}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"in"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" result) {"}]],["$","br",null,{}]]}]}]
33c:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"3ch"},"children":74}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  change "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
33d:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"3ch"},"children":75}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"                  // Automatically add __isDeleted flag to deletion results"}]],["$","br",null,{}]]}]}]
33e:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"3ch"},"children":76}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  Object."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"assign"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(result, { __isDeleted: "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"true"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" });"}]],["$","br",null,{}]]}]}]
33f:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"3ch"},"children":77}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                }"}]],["$","br",null,{}]]}]}]
340:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"3ch"},"children":78}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
341:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"3ch"},"children":79}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
342:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"3ch"},"children":80}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"findMany\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
343:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"3ch"},"children":81}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"findUnique\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
344:["$","div","81",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":82,"style":{"width":"3ch"},"children":82}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"findFirst\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
345:["$","div","82",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":83,"style":{"width":"3ch"},"children":83}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"count\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
346:["$","div","83",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":84,"style":{"width":"3ch"},"children":84}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"                // no events"}]],["$","br",null,{}]]}]}]
347:["$","div","84",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":85,"style":{"width":"3ch"},"children":85}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
348:["$","div","85",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":86,"style":{"width":"3ch"},"children":86}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
349:["$","div","86",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":87,"style":{"width":"3ch"},"children":87}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              default"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
34a:["$","div","87",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":88,"style":{"width":"3ch"},"children":88}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                console."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"warn"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
34b:["$","div","88",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":89,"style":{"width":"3ch"},"children":89}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"                  `Unhandled Prisma operation: ${"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"operation"}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"} for model: ${"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"model"}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"}`"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
34c:["$","div","89",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":90,"style":{"width":"3ch"},"children":90}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                );"}]],["$","br",null,{}]]}]}]
34d:["$","div","90",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":91,"style":{"width":"3ch"},"children":91}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
34e:["$","div","91",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":92,"style":{"width":"3ch"},"children":92}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
34f:["$","div","92",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":93,"style":{"width":"3ch"},"children":93}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
350:["$","div","93",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":94,"style":{"width":"3ch"},"children":94}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (change) {"}]],["$","br",null,{}]]}]}]
351:["$","span","94",{"className":"block dark:bg-[#d1edff33] bg-[#d1edff80]","children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":95,"style":{"width":"3ch"},"children":95}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              await"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseEventsService."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"createChanges"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"([change]);"}]],["$","br",null,{}]]}]}]]}]
352:["$","div","95",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":96,"style":{"width":"3ch"},"children":96}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
353:["$","div","96",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":97,"style":{"width":"3ch"},"children":97}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
354:["$","div","97",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":98,"style":{"width":"3ch"},"children":98}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" result;"}]],["$","br",null,{}]]}]}]
355:["$","div","98",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":99,"style":{"width":"3ch"},"children":99}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          },"}]],["$","br",null,{}]]}]}]
356:["$","div","99",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":100,"style":{"width":"3ch"},"children":100}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        },"}]],["$","br",null,{}]]}]}]
357:["$","div","100",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":101,"style":{"width":"3ch"},"children":101}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      },"}]],["$","br",null,{}]]}]}]
358:["$","div","101",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":102,"style":{"width":"3ch"},"children":102}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
359:["$","div","102",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":103,"style":{"width":"3ch"},"children":103}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
35a:["$","div","103",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":104,"style":{"width":"3ch"},"children":104}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
35b:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"3ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { PrismaClient } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"3ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { PrismaNeon } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/adapter-neon\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"3ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseEventsService, { "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"type"}],["$","span","3",{"style":{"color":"#24292F"},"children":" DBChange } "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","5",{"style":{"color":"#0A3069"},"children":"\"./DatabaseEventsService\""}],["$","span","6",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"3ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import type"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { BaseEntity } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/types\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"3ch"},"children":5}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"3ch"},"children":6}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabaseService {"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"3ch"},"children":7}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static get "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"prisma"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"3ch"},"children":8}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","3",{"style":{"color":"#24292F"},"children":".#prisma "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"??= "}],"$L45d","$L45e","$L45f","$L460"],"$L461"]}]}],"$L462","$L463","$L464","$L465","$L466","$L467","$L468","$L469","$L46a","$L46b","$L46c","$L46d","$L46e","$L46f","$L470","$L471","$L472","$L473","$L474","$L475","$L476","$L477","$L478","$L479","$L47a","$L47b","$L47c","$L47d","$L47e","$L47f","$L480","$L481","$L482","$L483","$L484","$L485","$L486","$L487","$L488","$L489","$L48a","$L48b","$L48c","$L48d","$L48e","$L48f","$L490","$L491","$L492","$L493","$L494","$L495","$L496","$L497","$L498","$L499","$L49a","$L49b","$L49c","$L49d","$L49e","$L49f","$L4a0","$L4a1","$L4a2","$L4a3","$L4a4","$L4a5","$L4a6","$L4a7","$L4a8","$L4a9","$L4aa","$L4ab","$L4ac","$L4ad","$L4ae","$L4af","$L4b0","$L4b1","$L4b2","$L4b3","$L4b4","$L4b5","$L4b6","$L4b7","$L4b8","$L4b9","$L4ba","$L4bb","$L4bc","$L4bd","$L4be","$L4bf","$L4c0","$L4c1"]}]}]]}]
35c:["$","span","2",{"style":{"color":"#0A3069"},"children":"\"create\" "}]
35d:["$","span","3",{"style":{"color":"#CF222E"},"children":"| "}]
35e:["$","span","4",{"style":{"color":"#0A3069"},"children":"\"update\" "}]
35f:["$","span","5",{"style":{"color":"#CF222E"},"children":"| "}]
360:["$","span","6",{"style":{"color":"#0A3069"},"children":"\"delete\""}]
361:["$","span","7",{"style":{"color":"#24292F"},"children":";"}]
362:["$","br",null,{}]
363:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#24292F"},"children":"};"}]],["$","br",null,{}]]}]}]
364:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
365:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabaseEventsService {"}]],["$","br",null,{}]]}]}]
366:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static readonly"}],["$","span","1",{"style":{"color":"#953800"},"children":" DB_KEY "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
367:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
368:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#953800"},"children":" INTERVAL "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"1_000"}],["$","span","4",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
369:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static"}],["$","span","1",{"style":{"color":"#953800"},"children":" lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#24292F"},"children":"Date"}],["$","span","4",{"style":{"color":"#953800"},"children":"."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","6",{"style":{"color":"#953800"},"children":"();"}]],["$","br",null,{}]]}]}]
36a:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
36b:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static"}],["$","span","1",{"style":{"color":"#953800"},"children":" redisClient "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"createClient"}],["$","span","4",{"style":{"color":"#953800"},"children":"({"}]],["$","br",null,{}]]}]}]
36c:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    url: process.env."}],["$","span","1",{"style":{"color":"#0550AE"},"children":"REDIS_URL"}],["$","span","2",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
36d:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#953800"},"children":"  });"}]],["$","br",null,{}]]}]}]
36e:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
36f:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static"}],["$","span","1",{"style":{"color":"#953800"},"children":" emitter "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"mitt"}],["$","span","4",{"style":{"color":"#953800"},"children":"<{"}]],["$","br",null,{}]]}]}]
370:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#953800"},"children":"    ["}],["$","span","1",{"style":{"color":"#24292F"},"children":"DatabaseEventsService"}],["$","span","2",{"style":{"color":"#953800"},"children":"."}],["$","span","3",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","4",{"style":{"color":"#953800"},"children":"]"}],["$","span","5",{"style":{"color":"#CF222E"},"children":":"}],["$","span","6",{"style":{"color":"#953800"},"children":" DBChange[];"}]],["$","br",null,{}]]}]}]
371:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#953800"},"children":"  }>();"}]],["$","br",null,{}]]}]}]
372:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
373:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // ensure Redis is connected"}]],["$","br",null,{}]]}]}]
374:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
375:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":".redisClient.isOpen) {"}]],["$","br",null,{}]]}]}]
376:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
377:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"      this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"on"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"error\""}],["$","span","5",{"style":{"color":"#24292F"},"children":", ("}],["$","span","6",{"style":{"color":"#953800"},"children":"err"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
378:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        console."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"error"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"Redis Client Error\""}],["$","span","4",{"style":{"color":"#24292F"},"children":", err);"}]],["$","br",null,{}]]}]}]
379:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      });"}]],["$","br",null,{}]]}]}]
37a:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }"}]],["$","br",null,{}]]}]}]
37b:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
37c:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
37d:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // push one update into our ZSET, with score = timestamp"}]],["$","br",null,{}]]}]}]
37e:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"createChanges"}],["$","span","2",{"style":{"color":"#953800"},"children":"(changes"}],["$","span","3",{"style":{"color":"#CF222E"},"children":":"}],["$","span","4",{"style":{"color":"#953800"},"children":" DBChange[]) "}],["$","span","5",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
37f:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (changes."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"return"}],["$","span","7",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
380:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
381:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
382:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
383:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // build array of { score, value } objects"}]],["$","br",null,{}]]}]}]
384:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"entries "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"map"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(({ "}],["$","span","6",{"style":{"color":"#953800"},"children":"id"}],["$","span","7",{"style":{"color":"#24292F"},"children":", "}],["$","span","8",{"style":{"color":"#953800"},"children":"entityType"}],["$","span","9",{"style":{"color":"#24292F"},"children":", "}],["$","span","10",{"style":{"color":"#953800"},"children":"type"}],["$","span","11",{"style":{"color":"#24292F"},"children":", "}],["$","span","12",{"style":{"color":"#953800"},"children":"date"}],["$","span","13",{"style":{"color":"#24292F"},"children":" }) "}],["$","span","14",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","15",{"style":{"color":"#24292F"},"children":" ({"}]],["$","br",null,{}]]}]}]
385:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      score: Date."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
386:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      value: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"JSON"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"stringify"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({ id, entityType, date, type }),"}]],["$","br",null,{}]]}]}]
387:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }));"}]],["$","br",null,{}]]}]}]
388:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
389:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // one multi(): batch ZADD + EXPIRE"}]],["$","br",null,{}]]}]}]
38a:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":".redisClient"}]],["$","br",null,{}]]}]}]
38b:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"multi"}],["$","span","2",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
38c:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"zAdd"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":"."}],["$","span","5",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#24292F"},"children":", entries)"}]],["$","br",null,{}]]}]}]
38d:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"expire"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":"."}],["$","span","5",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#24292F"},"children":", ("}],["$","span","7",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","8",{"style":{"color":"#24292F"},"children":"."}],["$","span","9",{"style":{"color":"#0550AE"},"children":"INTERVAL "}],["$","span","10",{"style":{"color":"#CF222E"},"children":"* "}],["$","span","11",{"style":{"color":"#0550AE"},"children":"60"}],["$","span","12",{"style":{"color":"#24292F"},"children":") "}],["$","span","13",{"style":{"color":"#CF222E"},"children":"/ "}],["$","span","14",{"style":{"color":"#0550AE"},"children":"1000"}],["$","span","15",{"style":{"color":"#24292F"},"children":")"}]],["$","br",null,{}]]}]}]
38e:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"exec"}],["$","span","2",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
38f:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
390:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
391:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"beginEmitting"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
392:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"    setInterval"}],["$","span","1",{"style":{"color":"#24292F"},"children":"("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"async"}],["$","span","3",{"style":{"color":"#24292F"},"children":" () "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","5",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
393:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
394:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
395:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"now "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" Date."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","5",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
396:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
397:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"      // get everything with score ∈ (lastTimestamp, now]"}]],["$","br",null,{}]]}]}]
398:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"raw "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= await "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"zRangeByScore"}],["$","span","6",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
399:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":"."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","3",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
39a:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"+ "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"1"}],["$","span","4",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
39b:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        now,"}]],["$","br",null,{}]]}]}]
39c:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      );"}]],["$","br",null,{}]]}]}]
39d:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
39e:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"      this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" now;"}]],["$","br",null,{}]]}]}]
39f:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3a0:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (raw."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"> "}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") {"}]],["$","br",null,{}]]}]}]
3a1:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"updates "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" raw."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"map"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(("}],["$","span","6",{"style":{"color":"#953800"},"children":"s"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=> "}],["$","span","9",{"style":{"color":"#0550AE"},"children":"JSON"}],["$","span","10",{"style":{"color":"#24292F"},"children":"."}],["$","span","11",{"style":{"color":"#8250DF"},"children":"parse"}],["$","span","12",{"style":{"color":"#24292F"},"children":"(s) "}],["$","span","13",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","14",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","15",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
3a2:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".emitter."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"emit"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","5",{"style":{"color":"#24292F"},"children":"."}],["$","span","6",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","7",{"style":{"color":"#24292F"},"children":", updates);"}]],["$","br",null,{}]]}]}]
3a3:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }"}]],["$","br",null,{}]]}]}]
3a4:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }, "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#0550AE"},"children":"INTERVAL"}],["$","span","4",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
3a5:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
3a6:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
3a7:["$","span","1",{"style":{"color":"#8250DF"},"children":"poll"}]
3a8:["$","span","2",{"style":{"color":"#953800"},"children":"("}]
3a9:["$","br",null,{}]
3aa:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#953800"},"children":"    resp"}],["$","span","1",{"style":{"color":"#CF222E"},"children":":"}],["$","span","2",{"style":{"color":"#953800"},"children":" JSONLinesResponse<VovkIteration<"}],["$","span","3",{"style":{"color":"#CF222E"},"children":"typeof "}],["$","span","4",{"style":{"color":"#24292F"},"children":"DatabasePollController"}],["$","span","5",{"style":{"color":"#953800"},"children":"."}],["$","span","6",{"style":{"color":"#24292F"},"children":"poll"}],["$","span","7",{"style":{"color":"#953800"},"children":">>,"}]],["$","br",null,{}]]}]}]
3ab:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#953800"},"children":"  ) "}],["$","span","1",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
3ac:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"    setTimeout"}],["$","span","1",{"style":{"color":"#24292F"},"children":"(resp.close, "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"30_000"}],["$","span","3",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
3ad:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3ae:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    let"}],["$","span","1",{"style":{"color":"#24292F"},"children":" asOldAs "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
3af:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // 10 minutes ago; TODO: use latest update date from registry"}]],["$","br",null,{}]]}]}]
3b0:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    asOldAs."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"setMinutes"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(asOldAs."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"getMinutes"}],["$","span","4",{"style":{"color":"#24292F"},"children":"() "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"- "}],["$","span","6",{"style":{"color":"#0550AE"},"children":"10"}],["$","span","7",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
3b1:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3b2:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    DatabaseEventsService.emitter."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"on"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
3b3:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      DatabaseEventsService."}],["$","span","1",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
3b4:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ("}],["$","span","1",{"style":{"color":"#953800"},"children":"changes"}],["$","span","2",{"style":{"color":"#24292F"},"children":") "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","4",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
3b5:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"deleted "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"filter"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(("}],["$","span","6",{"style":{"color":"#953800"},"children":"change"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","10",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","11",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","12",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
3b6:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"createdOrUpdated "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"filter"}],["$","span","5",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
3b7:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          ("}],["$","span","1",{"style":{"color":"#953800"},"children":"change"}],["$","span","2",{"style":{"color":"#24292F"},"children":") "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","4",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"create\" "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"||"}],["$","span","8",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","10",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","11",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
3b8:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        );"}]],["$","br",null,{}]]}]}]
3b9:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3ba:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        for"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"const "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"deletedEntity "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"of"}],["$","span","5",{"style":{"color":"#24292F"},"children":" deleted) {"}]],["$","br",null,{}]]}]}]
3bb:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          resp."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"send"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
3bc:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            id: deletedEntity.id,"}]],["$","br",null,{}]]}]}]
3bd:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            entityType: deletedEntity.entityType,"}]],["$","br",null,{}]]}]}]
3be:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            __isDeleted: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"true"}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
3bf:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          });"}]],["$","br",null,{}]]}]}]
3c0:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        }"}]],["$","br",null,{}]]}]}]
3c1:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"        // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]"}]],["$","br",null,{}]]}]}]
3c2:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"        forEach"}],["$","span","1",{"style":{"color":"#24292F"},"children":"("}],["$","span","2",{"style":{"color":"#8250DF"},"children":"groupBy"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(createdOrUpdated, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"entityType\""}],["$","span","5",{"style":{"color":"#24292F"},"children":"), ("}],["$","span","6",{"style":{"color":"#953800"},"children":"changes"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
3c3:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"maxDateItem "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"reduce"}],["$","span","5",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
3c4:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ("}],["$","span","1",{"style":{"color":"#953800"},"children":"max"}],["$","span","2",{"style":{"color":"#24292F"},"children":", "}],["$","span","3",{"style":{"color":"#953800"},"children":"change"}],["$","span","4",{"style":{"color":"#24292F"},"children":") "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","6",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
3c5:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"changeDate "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(change.date);"}]],["$","br",null,{}]]}]}]
3c6:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" changeDate."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","3",{"style":{"color":"#24292F"},"children":"() "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"> new "}],["$","span","5",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","6",{"style":{"color":"#24292F"},"children":"(max.date)."}],["$","span","7",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","8",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
3c7:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                ?"}],["$","span","1",{"style":{"color":"#24292F"},"children":" change"}]],["$","br",null,{}]]}]}]
3c8:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                :"}],["$","span","1",{"style":{"color":"#24292F"},"children":" max;"}]],["$","br",null,{}]]}]}]
3c9:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            },"}]],["$","br",null,{}]]}]}]
3ca:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            { date: "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") } "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","7",{"style":{"color":"#0550AE"},"children":"unknown "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","9",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","10",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
3cb:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          );"}]],["$","br",null,{}]]}]}]
3cc:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3cd:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(maxDateItem.date)."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","6",{"style":{"color":"#24292F"},"children":"() "}],["$","span","7",{"style":{"color":"#CF222E"},"children":">"}],["$","span","8",{"style":{"color":"#24292F"},"children":" asOldAs."}],["$","span","9",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","10",{"style":{"color":"#24292F"},"children":"()) {"}]],["$","br",null,{}]]}]}]
3ce:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            void"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseService.prisma[maxDateItem.entityType "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"user\""}],["$","span","4",{"style":{"color":"#24292F"},"children":"]"}]],["$","br",null,{}]]}]}]
3cf:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"findMany"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
3d0:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                where: {"}]],["$","br",null,{}]]}]}]
3d1:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  updatedAt: {"}]],["$","br",null,{}]]}]}]
3d2:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                    gt: asOldAs,"}]],["$","br",null,{}]]}]}]
3d3:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  },"}]],["$","br",null,{}]]}]}]
3d4:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                },"}]],["$","br",null,{}]]}]}]
3d5:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              })"}]],["$","br",null,{}]]}]}]
3d6:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"then"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(("}],["$","span","3",{"style":{"color":"#953800"},"children":"entities"}],["$","span","4",{"style":{"color":"#24292F"},"children":") "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","6",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
3d7:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                for"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"const "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"entity "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"of"}],["$","span","5",{"style":{"color":"#24292F"},"children":" entities) {"}]],["$","br",null,{}]]}]}]
3d8:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  resp."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"send"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(entity);"}]],["$","br",null,{}]]}]}]
3d9:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                }"}]],["$","br",null,{}]]}]}]
3da:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              });"}]],["$","br",null,{}]]}]}]
3db:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            asOldAs "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(maxDateItem.date);"}]],["$","br",null,{}]]}]}]
3dc:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          }"}]],["$","br",null,{}]]}]}]
3dd:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        });"}]],["$","br",null,{}]]}]}]
3de:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      },"}]],["$","br",null,{}]]}]}]
3df:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    );"}]],["$","br",null,{}]]}]}]
3e0:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
3e1:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
3e2:["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static "}]
3e3:["$","span","1",{"style":{"color":"#D2A8FF"},"children":"poll"}]
3e4:["$","span","2",{"style":{"color":"#FFA657"},"children":"("}]
3e5:["$","br",null,{}]
3e6:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"    resp"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","2",{"style":{"color":"#FFA657"},"children":" JSONLinesResponse<VovkIteration<"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"typeof "}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"DatabasePollController"}],["$","span","5",{"style":{"color":"#FFA657"},"children":"."}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"poll"}],["$","span","7",{"style":{"color":"#FFA657"},"children":">>,"}]],["$","br",null,{}]]}]}]
3e7:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  ) "}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
3e8:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"    setTimeout"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"(resp.close, "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"30_000"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
3e9:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3ea:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    let"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" asOldAs "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
3eb:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // 10 minutes ago; TODO: use latest update date from registry"}]],["$","br",null,{}]]}]}]
3ec:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    asOldAs."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"setMinutes"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(asOldAs."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"getMinutes"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"- "}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"10"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
3ed:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3ee:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    DatabaseEventsService.emitter."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"on"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
3ef:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      DatabaseEventsService."}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
3f0:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"changes"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
3f1:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"deleted "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"filter"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","10",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","11",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
3f2:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"createdOrUpdated "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"filter"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
3f3:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"create\" "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"||"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","10",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
3f4:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        );"}]],["$","br",null,{}]]}]}]
3f5:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3f6:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        for"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"const "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"deletedEntity "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"of"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" deleted) {"}]],["$","br",null,{}]]}]}]
3f7:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          resp."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"send"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
3f8:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            id: deletedEntity.id,"}]],["$","br",null,{}]]}]}]
3f9:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            entityType: deletedEntity.entityType,"}]],["$","br",null,{}]]}]}]
3fa:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            __isDeleted: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"true"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
3fb:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          });"}]],["$","br",null,{}]]}]}]
3fc:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        }"}]],["$","br",null,{}]]}]}]
3fd:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"        // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]"}]],["$","br",null,{}]]}]}]
3fe:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"        forEach"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"groupBy"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(createdOrUpdated, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"entityType\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"), ("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"changes"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
3ff:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"maxDateItem "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"reduce"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
400:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"max"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
401:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"changeDate "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(change.date);"}]],["$","br",null,{}]]}]}]
402:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" changeDate."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"> new "}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"(max.date)."}],["$","span","7",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
403:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                ?"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" change"}]],["$","br",null,{}]]}]}]
404:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                :"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" max;"}]],["$","br",null,{}]]}]}]
405:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            },"}]],["$","br",null,{}]]}]}]
406:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            { date: "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") } "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"unknown "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","9",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
407:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          );"}]],["$","br",null,{}]]}]}]
408:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
409:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(maxDateItem.date)."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":">"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" asOldAs."}],["$","span","9",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":"()) {"}]],["$","br",null,{}]]}]}]
40a:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            void"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseService.prisma[maxDateItem.entityType "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"user\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"]"}]],["$","br",null,{}]]}]}]
40b:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"findMany"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
40c:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                where: {"}]],["$","br",null,{}]]}]}]
40d:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  updatedAt: {"}]],["$","br",null,{}]]}]}]
40e:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                    gt: asOldAs,"}]],["$","br",null,{}]]}]}]
40f:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  },"}]],["$","br",null,{}]]}]}]
410:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                },"}]],["$","br",null,{}]]}]}]
411:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              })"}]],["$","br",null,{}]]}]}]
412:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"then"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","3",{"style":{"color":"#FFA657"},"children":"entities"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
413:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                for"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"const "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"entity "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"of"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" entities) {"}]],["$","br",null,{}]]}]}]
414:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  resp."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"send"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(entity);"}]],["$","br",null,{}]]}]}]
415:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                }"}]],["$","br",null,{}]]}]}]
416:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              });"}]],["$","br",null,{}]]}]}]
417:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            asOldAs "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(maxDateItem.date);"}]],["$","br",null,{}]]}]}]
418:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          }"}]],["$","br",null,{}]]}]}]
419:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        });"}]],["$","br",null,{}]]}]}]
41a:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      },"}]],["$","br",null,{}]]}]}]
41b:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    );"}]],["$","br",null,{}]]}]}]
41c:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
41d:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
41e:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { JSONLinesResponse, "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"type"}],["$","span","3",{"style":{"color":"#24292F"},"children":" VovkIteration } "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","5",{"style":{"color":"#0A3069"},"children":"\"vovk\""}],["$","span","6",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { forEach, groupBy } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"lodash\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import type"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollController "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabasePollController\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseEventsService, { "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"type"}],["$","span","3",{"style":{"color":"#24292F"},"children":" DBChange } "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","5",{"style":{"color":"#0A3069"},"children":"\"./DatabaseEventsService\""}],["$","span","6",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseService "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabaseService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" PollService {"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static "}],"$L4c2","$L4c3"],"$L4c4"]}]}],"$L4c5","$L4c6","$L4c7","$L4c8","$L4c9","$L4ca","$L4cb","$L4cc","$L4cd","$L4ce","$L4cf","$L4d0","$L4d1","$L4d2","$L4d3","$L4d4","$L4d5","$L4d6","$L4d7","$L4d8","$L4d9","$L4da","$L4db","$L4dc","$L4dd","$L4de","$L4df","$L4e0","$L4e1","$L4e2","$L4e3","$L4e4","$L4e5","$L4e6","$L4e7","$L4e8","$L4e9","$L4ea","$L4eb","$L4ec","$L4ed","$L4ee","$L4ef","$L4f0","$L4f1","$L4f2","$L4f3","$L4f4","$L4f5","$L4f6","$L4f7","$L4f8","$L4f9","$L4fa","$L4fb","$L4fc"]}]}]]}]
41f:["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/decorators/sessionGuard\""}]
420:["$","span","4",{"style":{"color":"#24292F"},"children":";"}]
421:["$","br",null,{}]
422:["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
423:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#24292F"},"children":"@"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"prefix"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"poll\""}],["$","span","4",{"style":{"color":"#24292F"},"children":")"}]],["$","br",null,{}]]}]}]
424:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabasePollController {"}]],["$","br",null,{}]]}]}]
425:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#953800"},"children":"  @"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"get"}],["$","span","2",{"style":{"color":"#953800"},"children":"()"}]],["$","br",null,{}]]}]}]
426:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#953800"},"children":"  @"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"sessionGuard"}],["$","span","2",{"style":{"color":"#953800"},"children":"()"}]],["$","br",null,{}]]}]}]
427:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static"}],["$","span","1",{"style":{"color":"#953800"},"children":" poll "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"withZod"}],["$","span","4",{"style":{"color":"#953800"},"children":"({"}]],["$","br",null,{}]]}]}]
428:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    preferTransformed: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"false"}],["$","span","2",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
429:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    iteration: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"union"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(["}]],["$","br",null,{}]]}]}]
42a:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"object"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
42b:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        id: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"uuid"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
42c:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        entityType: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"enum"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(EntityType),"}]],["$","br",null,{}]]}]}]
42d:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        __isDeleted: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"boolean"}],["$","span","2",{"style":{"color":"#24292F"},"children":"()."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"optional"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
42e:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }),"}]],["$","br",null,{}]]}]}]
42f:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      UserSchema,"}]],["$","br",null,{}]]}]}]
430:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      TaskSchema,"}]],["$","br",null,{}]]}]}]
431:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    ])"}],["$","span","1",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
432:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"handle"}],["$","span","2",{"style":{"color":"#953800"},"children":"(req) "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
433:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"response "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new"}],["$","span","3",{"style":{"color":"#24292F"},"children":" JSONLinesResponse"}],["$","span","4",{"style":{"color":"#CF222E"},"children":"<"}]],["$","br",null,{}]]}]}]
434:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        VovkIteration"}],["$","span","1",{"style":{"color":"#CF222E"},"children":"<typeof"}],["$","span","2",{"style":{"color":"#24292F"},"children":" DatabasePollController.poll"}],["$","span","3",{"style":{"color":"#CF222E"},"children":">"}]],["$","br",null,{}]]}]}]
435:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      >"}],["$","span","1",{"style":{"color":"#24292F"},"children":"(req);"}]],["$","br",null,{}]]}]}]
436:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
437:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      void"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollService."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"poll"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(response);"}]],["$","br",null,{}]]}]}]
438:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
439:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" response;"}]],["$","br",null,{}]]}]}]
43a:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }"}],["$","span","1",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
43b:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#953800"},"children":"  });"}]],["$","br",null,{}]]}]}]
43c:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
43d:["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}]
43e:["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/decorators/sessionGuard\""}]
43f:["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]
440:["$","br",null,{}]
441:["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
442:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"@"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"prefix"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"poll\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":")"}]],["$","br",null,{}]]}]}]
443:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabasePollController {"}]],["$","br",null,{}]]}]}]
444:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  @"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"get"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"()"}]],["$","br",null,{}]]}]}]
445:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  @"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"sessionGuard"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"()"}]],["$","br",null,{}]]}]}]
446:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" poll "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"withZod"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"({"}]],["$","br",null,{}]]}]}]
447:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    preferTransformed: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"false"}],["$","span","2",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
448:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    iteration: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"union"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(["}]],["$","br",null,{}]]}]}]
449:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"object"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
44a:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        id: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"uuid"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
44b:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        entityType: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"enum"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(EntityType),"}]],["$","br",null,{}]]}]}]
44c:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        __isDeleted: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"boolean"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"()."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"optional"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
44d:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }),"}]],["$","br",null,{}]]}]}]
44e:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      UserSchema,"}]],["$","br",null,{}]]}]}]
44f:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      TaskSchema,"}]],["$","br",null,{}]]}]}]
450:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    ])"}],["$","span","1",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
451:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"handle"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"(req) "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
452:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"response "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" JSONLinesResponse"}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"<"}]],["$","br",null,{}]]}]}]
453:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        VovkIteration"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"<typeof"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":" DatabasePollController.poll"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":">"}]],["$","br",null,{}]]}]}]
454:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      >"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"(req);"}]],["$","br",null,{}]]}]}]
455:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
456:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      void"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollService."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"poll"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(response);"}]],["$","br",null,{}]]}]}]
457:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
458:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" response;"}]],["$","br",null,{}]]}]}]
459:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }"}],["$","span","1",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
45a:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  });"}]],["$","br",null,{}]]}]}]
45b:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
45c:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { get, JSONLinesResponse, prefix, "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"type"}],["$","span","3",{"style":{"color":"#24292F"},"children":" VovkIteration } "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","5",{"style":{"color":"#0A3069"},"children":"\"vovk\""}],["$","span","6",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { z } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"zod\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollService "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabasePollService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { TaskSchema, UserSchema } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/schemas\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { withZod } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/lib/withZod\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { sessionGuard } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],"$L4fd","$L4fe"],"$L4ff"]}]}],"$L500","$L501","$L502","$L503","$L504","$L505","$L506","$L507","$L508","$L509","$L50a","$L50b","$L50c","$L50d","$L50e","$L50f","$L510","$L511","$L512","$L513","$L514","$L515","$L516","$L517","$L518","$L519","$L51a"]}]}]]}]
45d:["$","span","5",{"style":{"color":"#0550AE"},"children":"this"}]
45e:["$","span","6",{"style":{"color":"#24292F"},"children":"."}]
45f:["$","span","7",{"style":{"color":"#8250DF"},"children":"getClient"}]
460:["$","span","8",{"style":{"color":"#24292F"},"children":"());"}]
461:["$","br",null,{}]
462:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"3ch"},"children":9}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
463:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"3ch"},"children":10}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static"}],["$","span","1",{"style":{"color":"#953800"},"children":" #prisma"}],["$","span","2",{"style":{"color":"#CF222E"},"children":":"}],["$","span","3",{"style":{"color":"#953800"},"children":" ReturnType<"}],["$","span","4",{"style":{"color":"#CF222E"},"children":"typeof "}],["$","span","5",{"style":{"color":"#24292F"},"children":"DatabaseService"}],["$","span","6",{"style":{"color":"#953800"},"children":"."}],["$","span","7",{"style":{"color":"#24292F"},"children":"getClient"}],["$","span","8",{"style":{"color":"#953800"},"children":"> "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"| "}],["$","span","10",{"style":{"color":"#0550AE"},"children":"null "}],["$","span","11",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","12",{"style":{"color":"#0550AE"},"children":"null"}],["$","span","13",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
464:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"3ch"},"children":11}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
465:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"3ch"},"children":12}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"getClient"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
466:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"3ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"prisma "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"PrismaClient"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
467:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"3ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      adapter: "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"PrismaNeon"}],["$","span","3",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
468:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"3ch"},"children":15}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        connectionString: "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"`${"}],["$","span","2",{"style":{"color":"#24292F"},"children":"process"}],["$","span","3",{"style":{"color":"#0A3069"},"children":"."}],["$","span","4",{"style":{"color":"#24292F"},"children":"env"}],["$","span","5",{"style":{"color":"#0A3069"},"children":"."}],["$","span","6",{"style":{"color":"#0550AE"},"children":"DATABASE_URL"}],["$","span","7",{"style":{"color":"#0A3069"},"children":"}`"}],["$","span","8",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
469:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"3ch"},"children":16}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }),"}]],["$","br",null,{}]]}]}]
46a:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"3ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
46b:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"3ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
46c:["$","span","18",{"className":"block dark:bg-[#d1edff33] bg-[#d1edff80]","children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"3ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    DatabaseEventsService."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"beginEmitting"}],["$","span","2",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]]}]
46d:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"3ch"},"children":20}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
46e:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"3ch"},"children":21}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" prisma."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"$$extends"}],["$","span","3",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
46f:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"3ch"},"children":22}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      name: "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"events\""}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
470:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"3ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      query: {"}]],["$","br",null,{}]]}]}]
471:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"3ch"},"children":24}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        $allModels: {"}]],["$","br",null,{}]]}]}]
472:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"3ch"},"children":25}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"$$allOperations"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({ "}],["$","span","3",{"style":{"color":"#953800"},"children":"model"}],["$","span","4",{"style":{"color":"#24292F"},"children":", "}],["$","span","5",{"style":{"color":"#953800"},"children":"operation"}],["$","span","6",{"style":{"color":"#24292F"},"children":", "}],["$","span","7",{"style":{"color":"#953800"},"children":"args"}],["$","span","8",{"style":{"color":"#24292F"},"children":", "}],["$","span","9",{"style":{"color":"#953800"},"children":"query"}],["$","span","10",{"style":{"color":"#24292F"},"children":" }) {"}]],["$","br",null,{}]]}]}]
473:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"3ch"},"children":26}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"allowedOperations "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ["}]],["$","br",null,{}]]}]}]
474:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"3ch"},"children":27}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"create\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
475:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"3ch"},"children":28}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"update\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
476:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"3ch"},"children":29}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"delete\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
477:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"3ch"},"children":30}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"findMany\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
478:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"3ch"},"children":31}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"findUnique\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
479:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"3ch"},"children":32}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"findFirst\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
47a:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"3ch"},"children":33}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"              \"count\""}],["$","span","1",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
47b:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"3ch"},"children":34}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ] "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"as const"}],["$","span","2",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
47c:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"3ch"},"children":35}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            type "}],["$","span","1",{"style":{"color":"#953800"},"children":"AllowedOperation "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}],["$","span","4",{"style":{"color":"#CF222E"},"children":"typeof"}],["$","span","5",{"style":{"color":"#24292F"},"children":" allowedOperations)["}],["$","span","6",{"style":{"color":"#0550AE"},"children":"number"}],["$","span","7",{"style":{"color":"#24292F"},"children":"];"}]],["$","br",null,{}]]}]}]
47d:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"3ch"},"children":36}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#24292F"},"children":"allowedOperations."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"includes"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(operation "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","7",{"style":{"color":"#953800"},"children":"AllowedOperation"}],["$","span","8",{"style":{"color":"#24292F"},"children":")) {"}]],["$","br",null,{}]]}]}]
47e:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"3ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              throw new "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"Error"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
47f:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"3ch"},"children":38}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"                `Unsupported database operation \"${"}],["$","span","1",{"style":{"color":"#24292F"},"children":"operation"}],["$","span","2",{"style":{"color":"#0A3069"},"children":"}\" on model \"${"}],["$","span","3",{"style":{"color":"#24292F"},"children":"model"}],["$","span","4",{"style":{"color":"#0A3069"},"children":"}\"`"}],["$","span","5",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
480:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"3ch"},"children":39}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              );"}]],["$","br",null,{}]]}]}]
481:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"3ch"},"children":40}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
482:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"3ch"},"children":41}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"result "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}],["$","span","4",{"style":{"color":"#CF222E"},"children":"await "}],["$","span","5",{"style":{"color":"#8250DF"},"children":"query"}],["$","span","6",{"style":{"color":"#24292F"},"children":"(args)) "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","8",{"style":{"color":"#953800"},"children":"BaseEntity "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"| "}],["$","span","10",{"style":{"color":"#953800"},"children":"BaseEntity"}],["$","span","11",{"style":{"color":"#24292F"},"children":"[];"}]],["$","br",null,{}]]}]}]
483:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"3ch"},"children":42}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
484:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"3ch"},"children":43}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"now "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"()."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"toISOString"}],["$","span","6",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
485:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"3ch"},"children":44}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            let"}],["$","span","1",{"style":{"color":"#24292F"},"children":" change"}],["$","span","2",{"style":{"color":"#CF222E"},"children":": "}],["$","span","3",{"style":{"color":"#953800"},"children":"DBChange "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"| "}],["$","span","5",{"style":{"color":"#0550AE"},"children":"null "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","7",{"style":{"color":"#0550AE"},"children":"null"}],["$","span","8",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
486:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"3ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
487:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"3ch"},"children":46}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"makeChange "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}]],["$","br",null,{}]]}]}]
488:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"3ch"},"children":47}],[["$","span","0",{"style":{"color":"#953800"},"children":"              entity"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"BaseEntity"}],["$","span","3",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
489:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"3ch"},"children":48}],[["$","span","0",{"style":{"color":"#953800"},"children":"              type"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"["}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"type\""}],["$","span","5",{"style":{"color":"#24292F"},"children":"],"}]],["$","br",null,{}]]}]}]
48a:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"3ch"},"children":49}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ) "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","2",{"style":{"color":"#24292F"},"children":" ({"}]],["$","br",null,{}]]}]}]
48b:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"3ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              id: entity.id,"}]],["$","br",null,{}]]}]}]
48c:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"3ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              entityType: entity.entityType,"}]],["$","br",null,{}]]}]}]
48d:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"3ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              date:"}]],["$","br",null,{}]]}]}]
48e:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"3ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                type "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"delete\""}]],["$","br",null,{}]]}]}]
48f:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"3ch"},"children":54}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                  ?"}],["$","span","1",{"style":{"color":"#24292F"},"children":" now"}]],["$","br",null,{}]]}]}]
490:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"3ch"},"children":55}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                  :"}],["$","span","1",{"style":{"color":"#24292F"},"children":" entity.updatedAt"}]],["$","br",null,{}]]}]}]
491:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"3ch"},"children":56}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                    ? new "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(entity.updatedAt)."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"toISOString"}],["$","span","4",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
492:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"3ch"},"children":57}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                    :"}],["$","span","1",{"style":{"color":"#24292F"},"children":" now,"}]],["$","br",null,{}]]}]}]
493:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"3ch"},"children":58}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              type,"}]],["$","br",null,{}]]}]}]
494:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"3ch"},"children":59}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            });"}]],["$","br",null,{}]]}]}]
495:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"3ch"},"children":60}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
496:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"3ch"},"children":61}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            switch"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (operation "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","3",{"style":{"color":"#953800"},"children":"AllowedOperation"}],["$","span","4",{"style":{"color":"#24292F"},"children":") {"}]],["$","br",null,{}]]}]}]
497:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"3ch"},"children":62}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"create\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
498:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"3ch"},"children":63}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"in"}],["$","span","4",{"style":{"color":"#24292F"},"children":" result)"}]],["$","br",null,{}]]}]}]
499:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"3ch"},"children":64}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  change "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"create\""}],["$","span","5",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
49a:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"3ch"},"children":65}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
49b:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"3ch"},"children":66}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
49c:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"3ch"},"children":67}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
49d:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"3ch"},"children":68}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"in"}],["$","span","4",{"style":{"color":"#24292F"},"children":" result)"}]],["$","br",null,{}]]}]}]
49e:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"3ch"},"children":69}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  change "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","5",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
49f:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"3ch"},"children":70}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
4a0:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"3ch"},"children":71}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4a1:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"3ch"},"children":72}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
4a2:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"3ch"},"children":73}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"entityType\" "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"in"}],["$","span","4",{"style":{"color":"#24292F"},"children":" result) {"}]],["$","br",null,{}]]}]}]
4a3:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"3ch"},"children":74}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  change "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","5",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
4a4:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"3ch"},"children":75}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"                  // Automatically add __isDeleted flag to deletion results"}]],["$","br",null,{}]]}]}]
4a5:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"3ch"},"children":76}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  Object."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"assign"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(result, { __isDeleted: "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"true"}],["$","span","4",{"style":{"color":"#24292F"},"children":" });"}]],["$","br",null,{}]]}]}]
4a6:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"3ch"},"children":77}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                }"}]],["$","br",null,{}]]}]}]
4a7:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"3ch"},"children":78}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
4a8:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"3ch"},"children":79}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4a9:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"3ch"},"children":80}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"findMany\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
4aa:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"3ch"},"children":81}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"findUnique\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
4ab:["$","div","81",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":82,"style":{"width":"3ch"},"children":82}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"findFirst\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
4ac:["$","div","82",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":83,"style":{"width":"3ch"},"children":83}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"count\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
4ad:["$","div","83",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":84,"style":{"width":"3ch"},"children":84}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"                // no events"}]],["$","br",null,{}]]}]}]
4ae:["$","div","84",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":85,"style":{"width":"3ch"},"children":85}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
4af:["$","div","85",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":86,"style":{"width":"3ch"},"children":86}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4b0:["$","div","86",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":87,"style":{"width":"3ch"},"children":87}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              default"}],["$","span","1",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
4b1:["$","div","87",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":88,"style":{"width":"3ch"},"children":88}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                console."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"warn"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
4b2:["$","div","88",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":89,"style":{"width":"3ch"},"children":89}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"                  `Unhandled Prisma operation: ${"}],["$","span","1",{"style":{"color":"#24292F"},"children":"operation"}],["$","span","2",{"style":{"color":"#0A3069"},"children":"} for model: ${"}],["$","span","3",{"style":{"color":"#24292F"},"children":"model"}],["$","span","4",{"style":{"color":"#0A3069"},"children":"}`"}],["$","span","5",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
4b3:["$","div","89",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":90,"style":{"width":"3ch"},"children":90}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                );"}]],["$","br",null,{}]]}]}]
4b4:["$","div","90",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":91,"style":{"width":"3ch"},"children":91}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
4b5:["$","div","91",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":92,"style":{"width":"3ch"},"children":92}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
4b6:["$","div","92",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":93,"style":{"width":"3ch"},"children":93}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4b7:["$","div","93",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":94,"style":{"width":"3ch"},"children":94}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (change) {"}]],["$","br",null,{}]]}]}]
4b8:["$","span","94",{"className":"block dark:bg-[#d1edff33] bg-[#d1edff80]","children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":95,"style":{"width":"3ch"},"children":95}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              await"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseEventsService."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"createChanges"}],["$","span","3",{"style":{"color":"#24292F"},"children":"([change]);"}]],["$","br",null,{}]]}]}]]}]
4b9:["$","div","95",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":96,"style":{"width":"3ch"},"children":96}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
4ba:["$","div","96",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":97,"style":{"width":"3ch"},"children":97}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4bb:["$","div","97",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":98,"style":{"width":"3ch"},"children":98}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" result;"}]],["$","br",null,{}]]}]}]
4bc:["$","div","98",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":99,"style":{"width":"3ch"},"children":99}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          },"}]],["$","br",null,{}]]}]}]
4bd:["$","div","99",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":100,"style":{"width":"3ch"},"children":100}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        },"}]],["$","br",null,{}]]}]}]
4be:["$","div","100",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":101,"style":{"width":"3ch"},"children":101}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      },"}]],["$","br",null,{}]]}]}]
4bf:["$","div","101",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":102,"style":{"width":"3ch"},"children":102}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
4c0:["$","div","102",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":103,"style":{"width":"3ch"},"children":103}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
4c1:["$","div","103",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":104,"style":{"width":"3ch"},"children":104}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
4c2:["$","span","1",{"style":{"color":"#8250DF"},"children":"poll"}]
4c3:["$","span","2",{"style":{"color":"#953800"},"children":"("}]
4c4:["$","br",null,{}]
4c5:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#953800"},"children":"    resp"}],["$","span","1",{"style":{"color":"#CF222E"},"children":":"}],["$","span","2",{"style":{"color":"#953800"},"children":" JSONLinesResponse<VovkIteration<"}],["$","span","3",{"style":{"color":"#CF222E"},"children":"typeof "}],["$","span","4",{"style":{"color":"#24292F"},"children":"DatabasePollController"}],["$","span","5",{"style":{"color":"#953800"},"children":"."}],["$","span","6",{"style":{"color":"#24292F"},"children":"poll"}],["$","span","7",{"style":{"color":"#953800"},"children":">>,"}]],["$","br",null,{}]]}]}]
4c6:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#953800"},"children":"  ) "}],["$","span","1",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
4c7:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"    setTimeout"}],["$","span","1",{"style":{"color":"#24292F"},"children":"(resp.close, "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"30_000"}],["$","span","3",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
4c8:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4c9:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    let"}],["$","span","1",{"style":{"color":"#24292F"},"children":" asOldAs "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
4ca:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // 10 minutes ago; TODO: use latest update date from registry"}]],["$","br",null,{}]]}]}]
4cb:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    asOldAs."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"setMinutes"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(asOldAs."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"getMinutes"}],["$","span","4",{"style":{"color":"#24292F"},"children":"() "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"- "}],["$","span","6",{"style":{"color":"#0550AE"},"children":"10"}],["$","span","7",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
4cc:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4cd:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    DatabaseEventsService.emitter."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"on"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
4ce:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      DatabaseEventsService."}],["$","span","1",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
4cf:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ("}],["$","span","1",{"style":{"color":"#953800"},"children":"changes"}],["$","span","2",{"style":{"color":"#24292F"},"children":") "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","4",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
4d0:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"deleted "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"filter"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(("}],["$","span","6",{"style":{"color":"#953800"},"children":"change"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","10",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","11",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","12",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
4d1:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"createdOrUpdated "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"filter"}],["$","span","5",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
4d2:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          ("}],["$","span","1",{"style":{"color":"#953800"},"children":"change"}],["$","span","2",{"style":{"color":"#24292F"},"children":") "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","4",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"create\" "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"||"}],["$","span","8",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","10",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","11",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
4d3:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        );"}]],["$","br",null,{}]]}]}]
4d4:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4d5:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        for"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"const "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"deletedEntity "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"of"}],["$","span","5",{"style":{"color":"#24292F"},"children":" deleted) {"}]],["$","br",null,{}]]}]}]
4d6:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          resp."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"send"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
4d7:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            id: deletedEntity.id,"}]],["$","br",null,{}]]}]}]
4d8:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            entityType: deletedEntity.entityType,"}]],["$","br",null,{}]]}]}]
4d9:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            __isDeleted: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"true"}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
4da:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          });"}]],["$","br",null,{}]]}]}]
4db:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        }"}]],["$","br",null,{}]]}]}]
4dc:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"        // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]"}]],["$","br",null,{}]]}]}]
4dd:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"        forEach"}],["$","span","1",{"style":{"color":"#24292F"},"children":"("}],["$","span","2",{"style":{"color":"#8250DF"},"children":"groupBy"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(createdOrUpdated, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"entityType\""}],["$","span","5",{"style":{"color":"#24292F"},"children":"), ("}],["$","span","6",{"style":{"color":"#953800"},"children":"changes"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
4de:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"maxDateItem "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"reduce"}],["$","span","5",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
4df:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ("}],["$","span","1",{"style":{"color":"#953800"},"children":"max"}],["$","span","2",{"style":{"color":"#24292F"},"children":", "}],["$","span","3",{"style":{"color":"#953800"},"children":"change"}],["$","span","4",{"style":{"color":"#24292F"},"children":") "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","6",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
4e0:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"changeDate "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(change.date);"}]],["$","br",null,{}]]}]}]
4e1:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" changeDate."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","3",{"style":{"color":"#24292F"},"children":"() "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"> new "}],["$","span","5",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","6",{"style":{"color":"#24292F"},"children":"(max.date)."}],["$","span","7",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","8",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
4e2:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                ?"}],["$","span","1",{"style":{"color":"#24292F"},"children":" change"}]],["$","br",null,{}]]}]}]
4e3:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                :"}],["$","span","1",{"style":{"color":"#24292F"},"children":" max;"}]],["$","br",null,{}]]}]}]
4e4:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            },"}]],["$","br",null,{}]]}]}]
4e5:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            { date: "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") } "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","7",{"style":{"color":"#0550AE"},"children":"unknown "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","9",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","10",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
4e6:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          );"}]],["$","br",null,{}]]}]}]
4e7:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
4e8:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(maxDateItem.date)."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","6",{"style":{"color":"#24292F"},"children":"() "}],["$","span","7",{"style":{"color":"#CF222E"},"children":">"}],["$","span","8",{"style":{"color":"#24292F"},"children":" asOldAs."}],["$","span","9",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","10",{"style":{"color":"#24292F"},"children":"()) {"}]],["$","br",null,{}]]}]}]
4e9:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            void"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseService.prisma[maxDateItem.entityType "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"user\""}],["$","span","4",{"style":{"color":"#24292F"},"children":"]"}]],["$","br",null,{}]]}]}]
4ea:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"findMany"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
4eb:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                where: {"}]],["$","br",null,{}]]}]}]
4ec:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  updatedAt: {"}]],["$","br",null,{}]]}]}]
4ed:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                    gt: asOldAs,"}]],["$","br",null,{}]]}]}]
4ee:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  },"}]],["$","br",null,{}]]}]}]
4ef:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                },"}]],["$","br",null,{}]]}]}]
4f0:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              })"}]],["$","br",null,{}]]}]}]
4f1:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"then"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(("}],["$","span","3",{"style":{"color":"#953800"},"children":"entities"}],["$","span","4",{"style":{"color":"#24292F"},"children":") "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","6",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
4f2:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                for"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"const "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"entity "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"of"}],["$","span","5",{"style":{"color":"#24292F"},"children":" entities) {"}]],["$","br",null,{}]]}]}]
4f3:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  resp."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"send"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(entity);"}]],["$","br",null,{}]]}]}]
4f4:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                }"}]],["$","br",null,{}]]}]}]
4f5:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              });"}]],["$","br",null,{}]]}]}]
4f6:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            asOldAs "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(maxDateItem.date);"}]],["$","br",null,{}]]}]}]
4f7:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          }"}]],["$","br",null,{}]]}]}]
4f8:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        });"}]],["$","br",null,{}]]}]}]
4f9:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      },"}]],["$","br",null,{}]]}]}]
4fa:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    );"}]],["$","br",null,{}]]}]}]
4fb:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
4fc:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
4fd:["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/decorators/sessionGuard\""}]
4fe:["$","span","4",{"style":{"color":"#24292F"},"children":";"}]
4ff:["$","br",null,{}]
500:["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
501:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#24292F"},"children":"@"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"prefix"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"poll\""}],["$","span","4",{"style":{"color":"#24292F"},"children":")"}]],["$","br",null,{}]]}]}]
502:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabasePollController {"}]],["$","br",null,{}]]}]}]
503:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#953800"},"children":"  @"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"get"}],["$","span","2",{"style":{"color":"#953800"},"children":"()"}]],["$","br",null,{}]]}]}]
504:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#953800"},"children":"  @"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"sessionGuard"}],["$","span","2",{"style":{"color":"#953800"},"children":"()"}]],["$","br",null,{}]]}]}]
505:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static"}],["$","span","1",{"style":{"color":"#953800"},"children":" poll "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"withZod"}],["$","span","4",{"style":{"color":"#953800"},"children":"({"}]],["$","br",null,{}]]}]}]
506:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    preferTransformed: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"false"}],["$","span","2",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
507:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    iteration: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"union"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(["}]],["$","br",null,{}]]}]}]
508:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"object"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
509:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        id: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"uuid"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
50a:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        entityType: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"enum"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(EntityType),"}]],["$","br",null,{}]]}]}]
50b:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        __isDeleted: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"boolean"}],["$","span","2",{"style":{"color":"#24292F"},"children":"()."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"optional"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
50c:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }),"}]],["$","br",null,{}]]}]}]
50d:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      UserSchema,"}]],["$","br",null,{}]]}]}]
50e:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      TaskSchema,"}]],["$","br",null,{}]]}]}]
50f:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    ])"}],["$","span","1",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
510:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"handle"}],["$","span","2",{"style":{"color":"#953800"},"children":"(req) "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
511:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"response "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new"}],["$","span","3",{"style":{"color":"#24292F"},"children":" JSONLinesResponse"}],["$","span","4",{"style":{"color":"#CF222E"},"children":"<"}]],["$","br",null,{}]]}]}]
512:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        VovkIteration"}],["$","span","1",{"style":{"color":"#CF222E"},"children":"<typeof"}],["$","span","2",{"style":{"color":"#24292F"},"children":" DatabasePollController.poll"}],["$","span","3",{"style":{"color":"#CF222E"},"children":">"}]],["$","br",null,{}]]}]}]
513:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      >"}],["$","span","1",{"style":{"color":"#24292F"},"children":"(req);"}]],["$","br",null,{}]]}]}]
514:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
515:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      void"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollService."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"poll"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(response);"}]],["$","br",null,{}]]}]}]
516:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
517:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" response;"}]],["$","br",null,{}]]}]}]
518:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }"}],["$","span","1",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
519:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#953800"},"children":"  });"}]],["$","br",null,{}]]}]}]
51a:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
