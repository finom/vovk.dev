1:"$Sreact.fragment"
3:I[87555,[],""]
4:I[31295,[],""]
5:I[9608,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"TOCProvider"]
6:I[44502,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"Sidebar"]
7:I[90911,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"ClientWrapper"]
8:I[6874,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],""]
9:I[19443,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"HeadingAnchor"]
1a:I[28393,[],""]
:HL["/_next/static/css/d78647fffc29caa1.css","style"]
:HL["/_next/static/css/1b5d19eeadf69a6f.css","style"]
:HL["/_next/static/css/68d4871408813e6a.css","style"]
0:{"P":null,"b":"FjHBfDpT4EQiWaCjWc5jW","p":"","c":["","polling"],"i":false,"f":[[["",{"children":["polling",{"children":["__PAGE__",{}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d78647fffc29caa1.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/1b5d19eeadf69a6f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/68d4871408813e6a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],"$L2"]}],{"children":["polling",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":[["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width)","children":["$","$L5",null,{"value":[{"value":"Redis DB as event bus","id":"redis-db-as-event-bus","depth":2},{"value":"Polling endpoint","id":"polling-endpoint","depth":2},{"value":"Client-side logic","id":"client-side-logic","depth":2},{"value":"Practical usage: Telegram bot","id":"practical-usage-telegram-bot","depth":2}],"children":[["$","$L6",null,{}],["$","$L7",null,{"metadata":{"title":"Real-time polling (experimental)","filePath":"src/app/polling/page.mdx","timestamp":1759942865000},"bottomContent":"$undefined","children":[["$","div",null,{"id":"nextra-skip-nav"}],["$","main",null,{"data-pagefind-body":true,"children":[["$","h1",null,{"id":"$undefined","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-bold x:mt-2 x:text-4xl","children":["Real-time polling (experimental)","$undefined"]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["In the ",["$","$L8",null,{"href":"/realtime-ui","prefetch":"$undefined","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"previous article"}]," we’ve covered how to use LLM Real-time API to get instant updates in the UI while user talks to the app. On this page we’ll cover how to use an experimental polling feature to get updates from the server made by other users or third party services, such as ",["$","$L8",null,{"href":"/mcp","prefetch":"$undefined","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"MCP"}],", getting UI to be in sync with the server. In order to make the app deployable to any hosting provider, we want to avoid any non-HTTP protocols, such as WebSockets, so we use simple HTTP polling powered by ",["$","$L8",null,{"href":"/controller/jsonlines","prefetch":"$undefined","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"JSONLines"}]," to achieve this."]}],"\n",["$","h2",null,{"id":"redis-db-as-event-bus","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Redis DB as event bus",["$","$L9",null,{"id":"redis-db-as-event-bus"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"Theoretically, we could just poll the main database for changes, but that would be inefficient in terms of DB load and network traffic. Instead, we use a separate Redis database as an event bus. Whenever something changes in the main database, we write a small event to Redis, and our polling service reads these events and sends them to the clients."}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Since we use ",["$","a",null,{"href":"https://www.prisma.io/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["Prisma","$La"]}]," as our main database ORM, we can use ","$Lb"," to hook into database operations and write events to Redis. That’s where the ","$Lc"," mentioned at ","$Ld"," comes into play."]}],"\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17"]}]]}]]}]}],null,"$L18"]}],{},null,false]},null,false]},null,false],"$L19",false]],"m":"$undefined","G":["$1a",[]],"s":false,"S":true}
1b:I[8033,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"ToggleWordWrapButton"]
2d:I[59665,[],"OutletBoundary"]
2f:I[74911,[],"AsyncMetadataOutlet"]
31:I[59665,[],"ViewportBoundary"]
33:I[59665,[],"MetadataBoundary"]
34:"$Sreact.suspense"
a:[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]
b:["$","a",null,{"href":"https://www.prisma.io/docs/orm/prisma-client/client-extensions","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["Prisma Extensions",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]
c:["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabaseService"}]
d:["$","$L8",null,{"href":"/realtime-ui","prefetch":"$undefined","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"previous article"}]
f:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["As you can see, we create a Prisma client extension that hooks into ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"create"}],", ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"update"}],", and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"delete"}]," operations for all models. Whenever one of these operations is performed, we write an event to Redis with the help of ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabaseEventsService"}]," class with the model id, entity type, date and operation type. This is enough information for our polling service to know what has changed."]}]
10:["$","h2",null,{"id":"polling-endpoint","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Polling endpoint",["$","$L9",null,{"id":"polling-endpoint"}]]}]
11:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Now that we have a way to write events to Redis, we need a way to read them and send them to the clients. This is where the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabasePollService"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabasePollController"}]," come into play. The controller implements one ",["$","$L8",null,{"href":"/controller/jsonlines","prefetch":"$undefined","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"JSONLines"}]," endpoint that is going to stream data to the clients as it becomes available. The service uses ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"JSONLinesResponse"}]," instance passed from the controller to send data to the clients and safely closes the connection in 30 seconds, so the clients will need to reconnect."]}]
13:["$","h2",null,{"id":"client-side-logic","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Client-side logic",["$","$L9",null,{"id":"client-side-logic"}]]}]
14:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["On the client-side, anywhere in the app (e.g. a React component), we can use the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"DatabasePollRPC.poll()"}]," method to get a stream of database events. As any ",["$","$L8",null,{"href":"/controller/jsonlines","prefetch":"$undefined","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"JSONLines"}]," RPC method, it returns an async iterable that we can use in a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"for await"}]," loop to get new events as they arrive. Since the connection can be closed by the server or fail due to network issues, we wrap the polling logic in a retry loop with exponential backoff. As the ",["$","$L8",null,{"href":"/imports#fetcher","prefetch":"$undefined","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"fetcher"}]," is already ",["$","$L8",null,{"href":"/realtime-ui","prefetch":"$undefined","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"set"}],", the body of the loop can be empty, as we don’t need to handle the data manually."]}]
15:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L1b",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"  useEffect"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(() "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    async"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" function"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" poll"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"retries"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 0"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"      try"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"        while"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ("}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"true"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"          using"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" iterable"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" DatabasePollRPC."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"poll"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"          for"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"const"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" iteration"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" of"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" iterable) {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            console."}],"$L1c","$L1d","$L1e","$L1f"]}],"\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c"]}]]}]]}]
16:["$","h2",null,{"id":"practical-usage-telegram-bot","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Practical usage: Telegram bot",["$","$L9",null,{"id":"practical-usage-telegram-bot"}]]}]
17:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["As an example of a third-party source of database changes, you can explore the ",["$","a",null,{"href":"https://github.com/vovk-ai-demo/src/modules/telegram/TelegramService.ts","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["TelegramService",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," implementation and a small ",["$","a",null,{"href":"https://github.com/vovk-ai-demo/src/modules/telegram/TelegramController.ts","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["TelegramController",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],". Coming soon…"]}]
18:["$","$L2d",null,{"children":["$L2e",["$","$L2f",null,{"promise":"$@30"}]]}]
19:["$","$1","h",{"children":[null,[["$","$L31",null,{"children":"$L32"}],null],["$","$L33",null,{"children":["$","div",null,{"hidden":true,"children":["$","$34",null,{"fallback":null,"children":"$L35"}]}]}]]}]
1c:["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"log"}]
1d:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}]
1e:["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"New DB update:\""}]
1f:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", iteration);"}]
20:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          }"}]}]
21:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        }"}]}]
22:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      } "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"catch"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" (error) {"}]]}]
23:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"        if"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" (retries "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 5"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}]
24:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"          console."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"error"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"Polling failed, retrying...\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", error);"}]]}]
25:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"          await"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" new"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" Promise"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(("}],["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"resolve"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" setTimeout"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(resolve, "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"2000"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"));"}]]}]
26:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"          return"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" poll"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(retries "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"+"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 1"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}]
27:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        }"}]}]
28:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      }"}]}]
29:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    }"}]}]
2a:["$","span",null,{"children":" "}]
2b:["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    void"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" poll"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}]
2c:["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  }, []);"}]}]
36:I[35776,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"ThemeConfigProvider"]
37:I[36666,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"LastUpdated"]
38:I[11656,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"Search"]
39:I[51362,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"ThemeProvider"]
3a:I[66221,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"SkipNavLink"]
3b:I[11226,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"ConfigProvider"]
2:["$","html",null,{"lang":"en","dir":"ltr","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$undefined",["$","style",null,{"children":":root {\n  --nextra-primary-hue: 212deg;\n  --nextra-primary-saturation: 100%;\n  --nextra-primary-lightness: 45%;\n  --nextra-bg: 250,250,250;\n  --nextra-content-width: 90rem;\n}\n.dark {\n  --nextra-primary-hue: 204deg;\n  --nextra-primary-saturation: 100%;\n  --nextra-primary-lightness: 55%;\n  --nextra-bg: 17,17,17;\n}\n::selection {\n  background: hsla(var(--nextra-primary-hue),var(--nextra-primary-saturation),var(--nextra-primary-lightness),.3);\n}\nhtml {\n  background: rgb(var(--nextra-bg));\n}"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"rgb(250,250,250)"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"rgb(17,17,17)"}],"$undefined"]}],["$","body",null,{"children":["$","$L36",null,{"value":{"children":"$undefined","darkMode":true,"docsRepositoryBase":"https://github.com/shuding/nextra/tree/main/docs","editLink":"Edit this page","feedback":{"content":"Question? Give us feedback","labels":"feedback"},"i18n":[],"lastUpdated":["$","$L37",null,{}],"navigation":{"next":true,"prev":true},"search":["$","$L38",null,{}],"sidebar":{"defaultMenuCollapseLevel":2,"defaultOpen":true,"toggleButton":true},"themeSwitch":{"dark":"Dark","light":"Light","system":"System"},"toc":{"backToTop":"Scroll to top","float":true,"title":"On This Page"}},"children":["$","$L39",null,{"attribute":"class","defaultTheme":"system","disableTransitionOnChange":true,"storageKey":"theme","children":[["$","$L3a",null,{}],"$undefined",["$","$L3b",null,{"pageMap":[{"data":{"index":{"type":"page","title":"Home","theme":{"footer":false,"layout":"full","toc":false}},"blog":{"href":"/blog","title":"Blog","type":"page","display":"hidden"},"#getting-started":{"type":"separator","title":"Getting Started"},"about":{"title":"About"},"quick-install":{"title":"Quick Install"},"manual-install":{"title":"Manual Install"},"hello-world":{"title":"\"Hello World!\" Example 🚧"},"performance":{"title":"Overhead Performance"},"#common":{"type":"separator","title":"Common"},"schema":{"title":"Schema"},"validation":{"title":"Validation"},"inference":{"title":"Type Inference"},"#server-side":{"type":"separator","title":"Server-Side"},"segment":{"title":"Segment"},"controller":{"title":"Controller"},"#typescript":{"type":"separator","title":"TypeScript Client"},"typescript":{"title":"TypeScript RPC"},"composed":{"title":"Composed Client"},"segmented":{"title":"Segmented Client"},"imports":{"title":"Imports Customization"},"#client-side":{"type":"separator","title":"Other Clients"},"python":{"title":"Python RPC 🧪"},"rust":{"title":"Rust RPC 🧪"},"#cli":{"type":"separator","title":"Config & CLI"},"config":{"title":"Config"},"cli":{"title":"CLI"},"bundle":{"title":["$","code",null,{"className":"nextra-code","children":"vovk bundle 🧪"}]},"dev":{"title":["$","code",null,{"className":"nextra-code","children":"vovk dev"}]},"generate":{"title":["$","code",null,{"className":"nextra-code","children":"vovk generate"}]},"init":{"title":["$","code",null,{"className":"nextra-code","children":"vovk init"}]},"new":{"title":["$","code",null,{"className":"nextra-code","children":"vovk new"}]},"#etc":{"type":"separator","title":"etc."},"templates":{"title":"Client Templates"},"packages":{"title":"Packages"},"api-ref":{"title":"API Reference"},"###":{"type":"separator"},"#scenarios":{"type":"separator","title":"Usage Scenarios"},"openapi":{"title":"RESTful API with OpenAPI"},"saas":{"title":"SaaS framework"},"codegen":{"title":"OpenAPI Codegen"},"nestjs":{"title":"RPC for NestJS"},"other-scenarios":{"title":"Other Scenarios"},"#ai":{"type":"separator","title":"AI Applications"},"llm":{"title":"LLM completions"},"function-calling":{"title":"Function Calling 🚧"},"realtime-ui":{"title":"Real-time UI 🧪 🚧"},"polling":{"title":"Real-time Polling 🧪 🚧"},"mcp":{"title":"MCP Server 🚧"},"#guides":{"type":"separator","title":"Other Guides"},"multitenant":{"title":"Multitenancy 🧪"},"authorization":{"title":"Authorization"},"cron":{"title":"Vercel Cron Jobs"},"proxy":{"title":"Proxy Endpoints"}}},{"name":"index","route":"/","frontMatter":{},"title":"Home"},{"name":"blog","route":"/blog","children":[{"data":{"index":{"theme":{"breadcrumb":true,"sidebar":false}}}},{"name":"index","route":"/blog","frontMatter":{"title":"Index","description":"Blog","filePath":"src/app/blog/page.mdx","timestamp":1759942865000},"title":"Index"}],"title":"Blog"},{"name":"#getting-started","type":"separator","title":"Getting Started"},{"name":"about","route":"/about","frontMatter":{"title":"About","filePath":"src/app/about/page.mdx","timestamp":1759942865000},"title":"About"},{"name":"quick-install","route":"/quick-install","frontMatter":{"title":"Quick install","filePath":"src/app/quick-install/page.mdx","timestamp":1759942865000},"title":"Quick Install"},{"name":"manual-install","route":"/manual-install","frontMatter":{"title":"Manual Install","filePath":"src/app/manual-install/page.mdx","timestamp":1759942865000},"title":"Manual Install"},{"name":"hello-world","route":"/hello-world","frontMatter":{"title":"\"Hello World\" showcase","filePath":"src/app/hello-world/page.mdx","timestamp":1759942865000},"title":"\"Hello World!\" Example 🚧"},{"name":"performance","route":"/performance","frontMatter":{"title":"Measuring Framework Overhead Performance","filePath":"src/app/performance/page.mdx","timestamp":1759942865000},"title":"Overhead Performance"},{"name":"#common","type":"separator","title":"Common"},{"name":"schema","route":"/schema","frontMatter":{"title":"Schema","filePath":"src/app/schema/page.mdx","timestamp":1759942865000},"title":"Schema"},{"name":"validation","route":"/validation","children":[{"data":{"introduction":{"title":"Getting started"},"client":{"title":"Client-side Validation"},"standard":{"title":"Standard Schema"},"zod":{"title":"Zod 3 and 4"},"dto":{"title":"class-validator"},"yup":{"title":"Yup (obsolete)"}}},{"name":"introduction","route":"/validation/introduction","frontMatter":{"title":"Getting Started","filePath":"src/app/validation/introduction/page.mdx","timestamp":1759942865000},"title":"Getting started"},{"name":"client","route":"/validation/client","frontMatter":{"title":"Client-Side Validation for RPC Methods","filePath":"src/app/validation/client/page.mdx","timestamp":1759942865000},"title":"Client-side Validation"},{"name":"standard","route":"/validation/standard","frontMatter":{"title":"Standard Schema Validation","filePath":"src/app/validation/standard/page.mdx","timestamp":1759942865000},"title":"Standard Schema"},{"name":"zod","route":"/validation/zod","frontMatter":{"title":"Zod Validation","filePath":"src/app/validation/zod/page.mdx","timestamp":1759942865000},"title":"Zod 3 and 4"},{"name":"dto","route":"/validation/dto","frontMatter":{"title":"Validation with class-validator","filePath":"src/app/validation/dto/page.mdx","timestamp":1759942865000},"title":"class-validator"},{"name":"yup","route":"/validation/yup","frontMatter":{"title":"Yup Validation (Obsolete)","filePath":"src/app/validation/yup/page.mdx","timestamp":1759942865000},"title":"Yup (obsolete)"}],"frontMatter":{"asIndexPage":true,"description":"Nextra's File Conventions guide details the structure and organization of files and directories within a Nextra project, including the use of `page.mdx`, `_meta.js`, and `mdx-components.js` files, as well as the `content` and `src` directories.","title":"Validation","filePath":"src/app/validation/page.mdx","timestamp":1759942865000},"title":"Validation"},{"name":"inference","route":"/inference","frontMatter":{"title":"Type Inference","filePath":"src/app/inference/page.mdx","timestamp":1759942865000},"title":"Type Inference"},{"name":"#server-side","type":"separator","title":"Server-Side"},{"name":"segment","route":"/segment","children":[{"data":{"introduction":{"title":"Getting started"},"static":{"title":"Static segment"}}},{"name":"introduction","route":"/segment/introduction","frontMatter":{"title":"Segment","filePath":"src/app/segment/introduction/page.mdx","timestamp":1759942865000},"title":"Getting started"},{"name":"static","route":"/segment/static","frontMatter":{"title":"Static Segment","filePath":"src/app/segment/static/page.mdx","timestamp":1759942865000},"title":"Static segment"}],"frontMatter":{"asIndexPage":true,"description":"Segments Documentation","title":"Segment","filePath":"src/app/segment/page.mdx","timestamp":1759942865000},"title":"Segment"},{"name":"controller","route":"/controller","children":[{"data":{"introduction":{"title":"Getting started"},"request":{"title":"VovkRequest Type"},"service":{"title":"Service"},"errors":{"title":"Errors"},"headers":{"title":"Headers"},"redirect":{"title":"redirect and notFound"},"decorator":{"title":"Decorators"},"jsonlines":{"title":"JSON Lines"},"fn":{"title":"Callable Handlers"},"meta":{"title":"Request Meta"},"progressive":{"title":"Progressive Response 🧪"},"formdata":{"title":"FormData"}}},{"name":"introduction","route":"/controller/introduction","frontMatter":{"title":"Controller","filePath":"src/app/controller/introduction/page.mdx","timestamp":1759942865000},"title":"Getting started"},{"name":"request","route":"/controller/request","frontMatter":{"title":"VovkRequest Type","filePath":"src/app/controller/request/page.mdx","timestamp":1759942865000},"title":"VovkRequest Type"},{"name":"service","route":"/controller/service","frontMatter":{"title":"Service","filePath":"src/app/controller/service/page.mdx","timestamp":1759942865000},"title":"Service"},{"name":"errors","route":"/controller/errors","frontMatter":{"title":"Errors","filePath":"src/app/controller/errors/page.mdx","timestamp":1759942865000},"title":"Errors"},{"name":"headers","route":"/controller/headers","frontMatter":{"title":"Headers","filePath":"src/app/controller/headers/page.mdx","timestamp":1759942865000},"title":"Headers"},{"name":"redirect","route":"/controller/redirect","frontMatter":{"title":"redirect and notFound","filePath":"src/app/controller/redirect/page.mdx","timestamp":1759942865000},"title":"redirect and notFound"},{"name":"decorator","route":"/controller/decorator","frontMatter":{"title":"Decorators","filePath":"src/app/controller/decorator/page.mdx","timestamp":1759942865000},"title":"Decorators"},{"name":"jsonlines","route":"/controller/jsonlines","frontMatter":{"title":"JSON Lines Streaming","filePath":"src/app/controller/jsonlines/page.mdx","timestamp":1759942865000},"title":"JSON Lines"},{"name":"fn","route":"/controller/fn","frontMatter":{"title":"Callable Handlers","filePath":"src/app/controller/fn/page.mdx","timestamp":1759942865000},"title":"Callable Handlers"},{"name":"meta","route":"/controller/meta","frontMatter":{"title":"Request Meta","filePath":"src/app/controller/meta/page.mdx","timestamp":1759942865000},"title":"Request Meta"},{"name":"progressive","route":"/controller/progressive","frontMatter":{"title":"Progressive Response 🧪","filePath":"src/app/controller/progressive/page.mdx","timestamp":1759942865000},"title":"Progressive Response 🧪"},{"name":"formdata","route":"/controller/formdata","frontMatter":{"title":"FormData","filePath":"src/app/controller/formdata/page.mdx","timestamp":1759942865000},"title":"FormData"}],"frontMatter":{"asIndexPage":true,"description":"Controllers Documentation","title":"Controller","filePath":"src/app/controller/page.mdx","timestamp":1759942865000},"title":"Controller"},{"name":"#typescript","type":"separator","title":"TypeScript Client"},{"name":"typescript","route":"/typescript","frontMatter":{"title":"TypeScript RPC Client","filePath":"src/app/typescript/page.mdx","timestamp":1759942865000},"title":"TypeScript RPC"},{"name":"composed","route":"/composed","frontMatter":{"title":"Composed RPC Client","filePath":"src/app/composed/page.mdx","timestamp":1759942865000},"title":"Composed Client"},{"name":"segmented","route":"/segmented","frontMatter":{"title":"Segmented RPC Client","filePath":"src/app/segmented/page.mdx","timestamp":1759942865000},"title":"Segmented Client"},{"name":"imports","route":"/imports","frontMatter":{"title":"TypeScript RPC Customization","filePath":"src/app/imports/page.mdx","timestamp":1759942865000},"title":"Imports Customization"},{"name":"#client-side","type":"separator","title":"Other Clients"},{"name":"python","route":"/python","frontMatter":{"title":"Python RPC Client (Experimental)","filePath":"src/app/python/page.mdx","timestamp":1759942865000},"title":"Python RPC 🧪"},{"name":"rust","route":"/rust","frontMatter":{"title":"Rust RPC Client (Experimental)","filePath":"src/app/rust/page.mdx","timestamp":1759942865000},"title":"Rust RPC 🧪"},{"name":"#cli","type":"separator","title":"Config & CLI"},{"name":"config","route":"/config","frontMatter":{"title":"vovk.config.{js,cjs,mjs}","filePath":"src/app/config/page.mdx","timestamp":1759942865000},"title":"Config"},{"name":"cli","route":"/cli","frontMatter":{"title":"CLI","filePath":"src/app/cli/page.mdx","timestamp":1759942865000},"title":"CLI"},{"name":"bundle","route":"/bundle","frontMatter":{"title":"TypeScript Bundle (Experimental)","filePath":"src/app/bundle/page.mdx","timestamp":1759942865000},"title":"$2:props:children:1:props:children:props:children:props:children:2:props:pageMap:0:data:bundle:title"},{"name":"dev","route":"/dev","frontMatter":{"title":"vovk dev","filePath":"src/app/dev/page.mdx","timestamp":1759942865000},"title":"$2:props:children:1:props:children:props:children:props:children:2:props:pageMap:0:data:dev:title"},{"name":"generate","route":"/generate","frontMatter":{"title":"vovk generate","filePath":"src/app/generate/page.mdx","timestamp":1759942865000},"title":"$2:props:children:1:props:children:props:children:props:children:2:props:pageMap:0:data:generate:title"},{"name":"init","route":"/init","frontMatter":{"title":"vovk init","filePath":"src/app/init/page.mdx","timestamp":1759942865000},"title":"$2:props:children:1:props:children:props:children:props:children:2:props:pageMap:0:data:init:title"},{"name":"new","route":"/new","frontMatter":{"title":"vovk new","filePath":"src/app/new/page.mdx","timestamp":1759942865000},"title":"$2:props:children:1:props:children:props:children:props:children:2:props:pageMap:0:data:new:title"},{"name":"#etc","type":"separator","title":"etc."},{"name":"templates","route":"/templates","frontMatter":{"title":"Client Templates","filePath":"src/app/templates/page.mdx","timestamp":1759942865000},"title":"Client Templates"},{"name":"packages","route":"/packages","frontMatter":{"title":"Packages and Repos","filePath":"src/app/packages/page.mdx","timestamp":1759942865000},"title":"Packages"},{"name":"api-ref","route":"/api-ref","frontMatter":{"title":"API Reference","filePath":"src/app/api-ref/page.mdx","timestamp":1759942865000},"title":"API Reference"},{"name":"###","type":"separator"},{"name":"#scenarios","type":"separator","title":"Usage Scenarios"},{"name":"openapi","route":"/openapi","frontMatter":{"title":"RESTful API with OpenAPI","filePath":"src/app/openapi/page.mdx","timestamp":1759942865000},"title":"RESTful API with OpenAPI"},{"name":"saas","route":"/saas","frontMatter":{"title":"Framework for SaaS Applications","filePath":"src/app/saas/page.mdx","timestamp":1759942865000},"title":"SaaS framework"},{"name":"codegen","route":"/codegen","frontMatter":{"title":"Code Generation via OpenAPI Mixins","filePath":"src/app/codegen/page.mdx","timestamp":1759942865000},"title":"OpenAPI Codegen"},{"name":"nestjs","route":"/nestjs","frontMatter":{"title":"RPC for NestJS","filePath":"src/app/nestjs/page.mdx","timestamp":1759942865000},"title":"RPC for NestJS"},{"name":"other-scenarios","route":"/other-scenarios","frontMatter":{"title":"Other Scenarios","filePath":"src/app/other-scenarios/page.mdx","timestamp":1759942865000},"title":"Other Scenarios"},{"name":"#ai","type":"separator","title":"AI Applications"},{"name":"llm","route":"/llm","frontMatter":{"title":"LLM Completions","filePath":"src/app/llm/page.mdx","timestamp":1759942865000},"title":"LLM completions"},{"name":"function-calling","route":"/function-calling","frontMatter":{"title":"Grant access of your back-end to Function Calling","filePath":"src/app/function-calling/page.mdx","timestamp":1759942865000},"title":"Function Calling 🚧"},{"name":"realtime-ui","route":"/realtime-ui","frontMatter":{"title":"Real-time UI","filePath":"src/app/realtime-ui/page.mdx","timestamp":1759942865000},"title":"Real-time UI 🧪 🚧"},{"name":"polling","route":"/polling","frontMatter":{"title":"Real-time polling (experimental)","filePath":"src/app/polling/page.mdx","timestamp":1759942865000},"title":"Real-time Polling 🧪 🚧"},{"name":"mcp","route":"/mcp","frontMatter":{"title":"MCP Server","filePath":"src/app/mcp/page.mdx","timestamp":1759942865000},"title":"MCP Server 🚧"},{"name":"#guides","type":"separator","title":"Other Guides"},{"name":"multitenant","route":"/multitenant","frontMatter":{"title":"Multitenancy (Experimental)","filePath":"src/app/multitenant/page.mdx","timestamp":1759942865000},"title":"Multitenancy 🧪"},{"name":"authorization","route":"/authorization","frontMatter":{"title":"Authorization with Decorators","filePath":"src/app/authorization/page.mdx","timestamp":1759942865000},"title":"Authorization"},{"name":"cron","route":"/cron","frontMatter":{"title":"Vercel Cron Jobs","filePath":"src/app/cron/page.mdx","timestamp":1759942865000},"title":"Vercel Cron Jobs"},{"name":"proxy","route":"/proxy","frontMatter":{"title":"Proxy Endpoints","filePath":"src/app/proxy/page.mdx","timestamp":1759942865000},"title":"Proxy Endpoints"}],"navbar":"$L3c","footer":"$L3d","children":["$L3e","$L3f"]}]]}]}]}]]}]
44:I[12040,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"Switchers"]
45:I[22001,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"LocaleSwitch"]
46:I[15025,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"ThemeSwitch"]
47:I[44502,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"MobileNav"]
40:T1231,M 483.009 360.176 C 481.58500000000004 347.11199999999997 479.659 334.54699999999997 477.31100000000004 322.562 C 471.36400000000003 291.575 462.48900000000003 264.261 453.355 241.397 C 433.66900000000004 192.478 412.31 163.831 412.31 163.831 C 412.31 163.831 422.196 149.589 424.794 96.31099999999999 C 425.042 92.62899999999999 425.125 88.85799999999999 425.21099999999996 84.833 C 426.299 41.525999999999996 409.799 12.879000000000005 396.81299999999993 3.495999999999995 C 390.95199999999994 -0.8560000000000052 385.8399999999999 -1.1920000000000046 383.40899999999993 2.742999999999995 C 380.31299999999993 7.520999999999995 369.17099999999994 23.937999999999995 356.27099999999996 42.532 C 355.097 44.128 353.92299999999994 45.805 352.753 47.562999999999995 C 331.72499999999997 77.969 307.683 112.311 307.683 112.311 L 256 112.311 L 204.316 112.311 C 204.316 112.311 180.274 77.97 159.247 47.563 C 158.07700000000003 45.805 156.90300000000002 44.128 155.73000000000002 42.532000000000004 C 142.829 23.94 131.687 7.522 128.591 2.744 C 126.162 -1.1909999999999998 121.049 -0.855 115.18700000000001 3.4970000000000003 C 102.20100000000001 12.879999999999999 85.70100000000001 41.527 86.78900000000002 84.834 C 86.87500000000001 88.85900000000001 86.95700000000002 92.63000000000001 87.20600000000002 96.312 C 89.80300000000001 149.59 99.68900000000002 163.832 99.68900000000002 163.832 C 99.68900000000002 163.832 78.33000000000001 192.48 58.64400000000002 241.398 C 49.511000000000024 264.262 40.63500000000002 291.576 34.68800000000002 322.563 C 32.341000000000015 334.54699999999997 30.414000000000016 347.113 28.991000000000017 360.17699999999996 C 28.90500000000002 360.76599999999996 28.90500000000002 361.43699999999995 28.823000000000018 362.02599999999995 L 29.997000000000018 361.936 L 30.66400000000002 361.85499999999996 L 31.67000000000002 361.85499999999996 L 78.74800000000002 358.92699999999996 L 72.46600000000002 409.68499999999995 L 122.05500000000002 401.9789999999999 L 130.43200000000002 438.2509999999999 L 166.741 419.1089999999999 C 178.348 450.25199999999995 193.609 489.7869999999999 199.99800000000002 500.1839999999999 C 210.936 518.0339999999999 235.01800000000003 512.9379999999999 252.532 502.7449999999999 C 253.829 501.98399999999987 254.90800000000002 501.2969999999999 255.87800000000001 500.6419999999999 C 256.84700000000004 501.2959999999999 257.91900000000004 501.98399999999987 259.232 502.7449999999999 C 276.742 512.9379999999999 300.817 518.0339999999999 311.75800000000004 500.1839999999999 C 318.14700000000005 489.7779999999999 333.50100000000003 450.2099999999999 345.182 419.0679999999999 L 381.56800000000004 438.25199999999995 L 389.94500000000005 401.97999999999996 L 439.53400000000005 409.686 L 433.25100000000003 358.928 L 480.32900000000006 361.856 L 481.33600000000007 361.856 L 482.00200000000007 361.937 L 483.17600000000004 362.027 C 483.094 361.436 483.094 360.765 483.009 360.176 z M 128.845 146.056 C 116.02199999999999 131.24200000000002 110.63499999999999 95.126 114.979 78.21700000000001 C 117.703 67.55700000000002 128.161 63.149000000000015 134.706 70.67500000000001 C 141.266 78.20900000000002 164.274 120.31300000000002 164.274 120.31300000000002 C 164.274 120.31300000000002 132.072 144.445 128.845 146.056 z M 168.045 329.386 C 168.045 329.386 154.08499999999998 300.06800000000004 151.29199999999997 288.90200000000004 C 186.19299999999998 288.90200000000004 200.15699999999998 308.44500000000005 205.73999999999998 314.03200000000004 L 214.11599999999999 332.184 L 168.045 329.386 z M 283.638 456.066 C 272.967 469.662 263.003 470.08799999999997 255.99599999999998 470.08799999999997 C 248.98999999999998 470.08799999999997 239.034 469.662 228.34999999999997 456.066 C 219.78899999999996 445.178 226.79099999999997 431.926 237.69999999999996 431.926 C 241.58999999999995 431.926 255.99499999999995 431.926 255.99499999999995 431.926 C 255.99499999999995 431.926 270.40899999999993 431.926 274.29799999999994 431.926 C 285.212 431.926 292.218 445.178 283.638 456.066 z M 343.955 329.386 L 297.883 332.184 L 306.26 314.03200000000004 C 311.843 308.44500000000005 325.807 288.90200000000004 360.70799999999997 288.90200000000004 C 357.915 300.067 343.955 329.386 343.955 329.386 z M 383.143 146.056 C 379.91999999999996 144.44500000000002 347.72299999999996 120.31300000000002 347.72299999999996 120.31300000000002 C 347.72299999999996 120.31300000000002 370.72599999999994 78.20900000000002 377.27799999999996 70.67500000000001 C 383.82599999999996 63.149000000000015 394.28099999999995 67.558 397.01699999999994 78.21700000000001 C 401.365 95.126 395.965 131.241 383.143 146.056 z3c:["$","header",null,{"className":"nextra-navbar x:sticky x:top-0 x:z-30 x:w-full x:bg-transparent x:print:hidden x:max-md:[.nextra-banner:not([class$=hidden])~&]:top-(--nextra-banner-height)","children":[["$","div",null,{"className":"nextra-navbar-blur x:absolute x:-z-1 x:size-full nextra-border x:border-b x:backdrop-blur-md x:bg-nextra-bg/70"}],["$","nav",null,{"style":{"height":"var(--nextra-navbar-height)"},"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:items-center x:gap-4 x:pl-[max(env(safe-area-inset-left),1.5rem)] x:pr-[max(env(safe-area-inset-right),1.5rem)] x:justify-end","children":[["$","$L8",null,{"href":"/","className":"x:flex x:items-center x:me-auto x:transition-opacity x:focus-visible:nextra-focus x:hover:opacity-75","aria-label":"Home page","children":["$","svg",null,{"className":"$undefined","xmlns":"http://www.w3.org/2000/svg","version":"1.1","width":120,"height":34.5,"viewBox":"0 0 320 92","children":[["$","desc",null,{"children":"Created with Fabric.js 5.3.0"}],["$","defs",null,{}],["$","g",null,{"transform":"matrix(0.1737995768 0 0 0.1737995768 39.8512941892 44.8611051276)","id":"k3p4mJoS6tEew0Q_1_q7m","children":["$","path",null,{"style":{"stroke":"none","strokeWidth":1,"strokeDasharray":"none","strokeLinecap":"butt","strokeDashoffset":0,"strokeLinejoin":"miter","strokeMiterlimit":4,"fill":"currentColor","fillRule":"nonzero","opacity":1},"transform":" translate(-255.9995, -256.0001872585)","d":"$40","strokeLinecap":"round"}]}],"$L41","$L42"]}]}],"$L43"]}]]}]
3d:["$","div",null,{"className":"x:bg-gray-100 x:pb-[env(safe-area-inset-bottom)] x:dark:bg-neutral-900 x:print:bg-transparent","children":[["$","$L44",null,{"children":["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:gap-2 x:py-2 x:px-4","children":[["$","$L45",null,{}],["$","$L46",null,{}]]}]}],["$","hr",null,{"className":"nextra-border"}],["$","footer",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:justify-center x:py-12 x:text-gray-600 x:dark:text-gray-400 x:md:justify-start x:pl-[max(env(safe-area-inset-left),1.5rem)] x:pr-[max(env(safe-area-inset-right),1.5rem)] justify-between","children":[["$","div",null,{"children":["MIT © 2023-",2025," ",["$","a",null,{"href":"https://github.com/finom","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font] ml-1","children":["Andrey Gubanov",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]]}],["$","a",null,{"href":"https://github.com/sponsors/finom","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font] ml-2 block","children":["Sponsor",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]]}]]}]
3e:["$","$L47",null,{}]
3f:["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]
4a:I[83267,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"ClientNavbar"]
48:T573,M 100.721 74.925 L 86.721 24.925 L 94.721 24.925 L 106.401 67.565 L 107.121 67.565 L 118.801 24.925 L 126.801 24.925 L 112.801 74.925 L 100.721 74.925 Z M 148.961 75.725 L 148.961 75.725 Q 143.681 75.725 140.321 74.805 Q 136.961 73.885 135.081 71.605 Q 133.201 69.325 132.401 65.245 Q 131.601 61.165 131.601 54.925 L 131.601 54.925 Q 131.601 48.605 132.401 44.565 Q 133.201 40.525 135.081 38.245 Q 136.961 35.965 140.321 35.045 Q 143.681 34.125 148.961 34.125 L 148.961 34.125 Q 154.241 34.125 157.641 35.005 Q 161.041 35.885 162.961 38.205 Q 164.881 40.525 165.601 44.565 Q 166.321 48.605 166.321 54.925 L 166.321 54.925 Q 166.321 61.165 165.561 65.245 Q 164.801 69.325 162.881 71.605 Q 160.961 73.885 157.601 74.805 Q 154.241 75.725 148.961 75.725 Z M 139.921 42.685 L 139.921 69.165 L 154.161 69.165 Q 156.401 69.165 157.201 68.765 Q 158.001 68.365 158.001 67.165 L 158.001 67.165 L 158.001 40.685 L 143.761 40.685 Q 141.441 40.685 140.681 41.085 Q 139.921 41.485 139.921 42.685 L 139.921 42.685 Z M 183.441 74.925 L 171.601 34.925 L 179.521 34.925 L 189.121 68.125 L 189.921 68.125 L 199.521 34.925 L 207.441 34.925 L 195.601 74.925 L 183.441 74.925 Z M 238.481 74.925 L 229.441 56.365 L 223.121 56.365 L 223.121 74.925 L 215.121 74.925 L 215.121 22.925 L 223.121 21.725 L 223.121 50.765 L 229.441 50.765 L 237.921 34.925 L 246.321 34.925 L 236.081 53.565 L 246.721 74.925 L 238.481 74.925 Z41:["$","g",null,{"transform":"matrix(1 0 0 1 173.721 48.725)","id":"q3VBAixAcNxARl4zxvCDl","children":["$","path",null,{"style":{"stroke":"none","strokeWidth":1,"strokeDasharray":"none","strokeLinecap":"butt","strokeDashoffset":0,"strokeLinejoin":"miter","strokeMiterlimit":4,"fill":"currentColor","fillRule":"nonzero","opacity":1},"transform":" translate(-166.721, -48.725)","d":"$48","strokeLinecap":"round"}]}]
49:T6e4,M 252.054 71.223 L 252.054 71.223 Q 252.054 69.099 252.762 68.125 Q 253.47 67.152 255.889 67.152 L 255.889 67.152 Q 258.249 67.152 258.987 68.125 Q 259.724 69.099 259.724 71.223 L 259.724 71.223 Q 259.724 73.406 258.987 74.32 Q 258.249 75.235 255.889 75.235 L 255.889 75.235 Q 253.47 75.235 252.762 74.32 Q 252.054 73.406 252.054 71.223 Z M 274.12 75.471 L 274.12 75.471 Q 271.937 75.471 270.846 74.379 Q 269.754 73.288 269.754 71.046 L 269.754 71.046 L 269.754 39.068 L 275.654 37.593 L 275.654 70.515 Q 276.48 70.574 277.424 70.662 Q 278.368 70.751 279.843 70.81 L 279.843 70.81 L 279.489 74.822 Q 277.66 75.176 276.333 75.323 Q 275.005 75.471 274.12 75.471 Z M 280.905 49.452 L 265.624 49.452 L 265.624 45.381 L 280.905 45.381 L 280.905 49.452 Z M 286.864 53.287 L 286.864 53.287 Q 286.864 48.744 289.549 46.62 Q 292.233 44.496 298.015 44.496 L 298.015 44.496 Q 300.67 44.496 303.03 44.791 Q 305.39 45.086 307.809 45.794 L 307.809 45.794 L 306.983 50.101 Q 305.508 49.688 303.532 49.422 Q 301.555 49.157 299.785 49.157 L 299.785 49.157 Q 297.897 49.157 296.127 49.304 Q 294.357 49.452 293.059 49.688 L 293.059 49.688 L 293.059 56.65 Q 298.192 57.358 301.378 58.125 Q 304.564 58.892 306.275 59.924 Q 307.986 60.957 308.635 62.55 Q 309.284 64.143 309.284 66.562 L 309.284 66.562 Q 309.284 69.925 308.075 71.931 Q 306.865 73.937 304.122 74.851 Q 301.378 75.766 296.894 75.766 L 296.894 75.766 Q 294.298 75.766 291.614 75.323 Q 288.929 74.881 286.215 74.055 L 286.215 74.055 L 287.159 69.335 Q 291.643 71.105 296.835 71.105 L 296.835 71.105 Q 298.605 71.105 299.933 70.957 Q 301.26 70.81 303.089 70.279 L 303.089 70.279 L 303.089 63.317 Q 297.661 62.55 294.416 61.842 Q 291.171 61.134 289.549 60.101 Q 287.926 59.069 287.395 57.446 Q 286.864 55.824 286.864 53.287 Z42:["$","g",null,{"transform":"matrix(1 0 0 1 289.669 56.6795)","id":"SAvuNLe2F3CeHCg_q6L8_","children":["$","path",null,{"style":{"stroke":"none","strokeWidth":1,"strokeDasharray":"none","strokeLinecap":"butt","strokeDashoffset":0,"strokeLinejoin":"miter","strokeMiterlimit":4,"fill":"currentColor","fillRule":"nonzero","opacity":1},"transform":" translate(-280.669, -56.6795)","d":"$49","strokeLinecap":"round"}]}]
4b:T481,M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z4c:T49e,M26.0015 6.9529C24.0021 6.03845 21.8787 5.37198 19.6623 5C19.3833 5.48048 19.0733 6.13144 18.8563 6.64292C16.4989 6.30193 14.1585 6.30193 11.8336 6.64292C11.6166 6.13144 11.2911 5.48048 11.0276 5C8.79575 5.37198 6.67235 6.03845 4.6869 6.9529C0.672601 12.8736 -0.41235 18.6548 0.130124 24.3585C2.79599 26.2959 5.36889 27.4739 7.89682 28.2489C8.51679 27.4119 9.07477 26.5129 9.55525 25.5675C8.64079 25.2265 7.77283 24.808 6.93587 24.312C7.15286 24.1571 7.36986 23.9866 7.57135 23.8161C12.6241 26.1255 18.0969 26.1255 23.0876 23.8161C23.3046 23.9866 23.5061 24.1571 23.7231 24.312C22.8861 24.808 22.0182 25.2265 21.1037 25.5675C21.5842 26.5129 22.1422 27.4119 22.7621 28.2489C25.2885 27.4739 27.8769 26.2959 30.5288 24.3585C31.1952 17.7559 29.4733 12.0212 26.0015 6.9529ZM10.2527 20.8402C8.73376 20.8402 7.49382 19.4608 7.49382 17.7714C7.49382 16.082 8.70276 14.7025 10.2527 14.7025C11.7871 14.7025 13.0425 16.082 13.0115 17.7714C13.0115 19.4608 11.7871 20.8402 10.2527 20.8402ZM20.4373 20.8402C18.9183 20.8402 17.6768 19.4608 17.6768 17.7714C17.6768 16.082 18.8873 14.7025 20.4373 14.7025C21.9717 14.7025 23.2271 16.082 23.1961 17.7714C23.1961 19.4608 21.9872 20.8402 20.4373 20.8402Z43:["$","$L4a",null,{"className":"","children":[["$","a",null,{"href":"https://github.com/finom/vovk","target":"_blank","rel":"noreferrer","children":[["$","svg",null,{"fill":"currentColor","viewBox":"3 3 18 18","height":"24","aria-label":"Project repository","children":["$","path",null,{"d":"$4b"}]}],false],"className":"x:focus-visible:nextra-focus"}],["$","a",null,{"href":"https://discord.com/invite/qdT8WEHUuP","target":"_blank","rel":"noreferrer","children":[["$","svg",null,{"fill":"currentColor","viewBox":"0 5 30.67 23.25","width":"24","children":["$","path",null,{"d":"$4c"}]}],false],"className":"x:focus-visible:nextra-focus"}],"$undefined"]}]
32:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
2e:null
4d:I[38175,[],"IconMark"]
30:{"metadata":[["$","title","0",{"children":"Real-time polling (experimental) | Vovk.ts - Back-end for Next.js"}],["$","meta","1",{"property":"og:title","content":"Real-time polling (experimental) | Vovk.ts - Back-end for Next.js"}],["$","meta","2",{"property":"og:url","content":"https://vovk.dev"}],["$","meta","3",{"property":"og:site_name","content":"Vovk.ts"}],["$","meta","4",{"property":"og:locale","content":"en_US"}],["$","meta","5",{"property":"og:image:type","content":"image/png"}],["$","meta","6",{"property":"og:image:width","content":"1200"}],["$","meta","7",{"property":"og:image:height","content":"600"}],["$","meta","8",{"property":"og:image:alt","content":"Vovk.ts - back-end for Next.js"}],["$","meta","9",{"property":"og:image","content":"https://vovk.dev/opengraph-image.png?2e45613b0339e0ea"}],["$","meta","10",{"property":"og:type","content":"website"}],["$","meta","11",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","12",{"name":"twitter:title","content":"Real-time polling (experimental) | Vovk.ts - Back-end for Next.js"}],["$","meta","13",{"name":"twitter:image:type","content":"image/png"}],["$","meta","14",{"name":"twitter:image:width","content":"1200"}],["$","meta","15",{"name":"twitter:image:height","content":"600"}],["$","meta","16",{"name":"twitter:image:alt","content":"Vovk.ts - back-end for Next.js"}],["$","meta","17",{"name":"twitter:image","content":"https://vovk.dev/opengraph-image.png?2e45613b0339e0ea"}],["$","link","18",{"rel":"icon","href":"/icon.svg","media":"(prefers-color-scheme: light)"}],["$","link","19",{"rel":"icon","href":"/icon-white.svg","media":"(prefers-color-scheme: dark)"}],["$","$L4d","20",{}]],"error":null,"digest":"$undefined"}
35:"$30:metadata"
4e:I[89680,["2545","static/chunks/c16f53c3-d20dab724af58680.js","3975","static/chunks/3975-c183e52fb95b5d73.js","7576","static/chunks/7576-50cfa79157b85a13.js","326","static/chunks/app/polling/page-d47804cd84d302ae.js"],"default"]
4f:T7e1,import { JSONLinesResponse, VovkIteration } from "vovk";
import type DatabasePollController from "./DatabasePollController";
import DatabaseEventsService, { DBChange } from "./DatabaseEventsService";
import DatabaseService from "./DatabaseService";
import { forEach, groupBy } from "lodash";

export default class PollService {
  static poll(
    resp: JSONLinesResponse<VovkIteration<typeof DatabasePollController.poll>>,
  ) {
    setTimeout(resp.close, 30_000);

    let asOldAs = new Date();
    DatabaseEventsService.emitter.on("db_updates", (changes) => {
      const deleted = changes.filter((change) => change.type === "delete");
      const createdOrUpdated = changes.filter(
        (change) => change.type === "create" || change.type === "update",
      );

      for (const deletedEntity of deleted) {
        resp.send({
          id: deletedEntity.id,
          entityType: deletedEntity.entityType,
          __isDeleted: true,
        });
      }
      // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]
      forEach(groupBy(createdOrUpdated, "entityType"), (changes) => {
        const maxDateItem = changes.reduce(
          (max, change) => {
            const changeDate = new Date(change.date);
            return changeDate.getTime() > new Date(max.date).getTime()
              ? change
              : max;
          },
          { date: new Date(0) } as unknown as DBChange,
        );

        if (new Date(maxDateItem.date).getTime() > asOldAs.getTime()) {
          void DatabaseService.prisma[maxDateItem.entityType as "user"]
            .findMany({
              where: {
                updatedAt: {
                  gte: asOldAs,
                },
              },
            })
            .then((entities) => {
              for (const entity of entities) {
                resp.send(entity);
              }
            });
          asOldAs = new Date(maxDateItem.date);
        }
      });
    });
  }
}
12:["$","div",null,{"className":"bg-code rounded-lg mt-4","id":"_S_1_","children":[["$","$L4e",null,{"githubFiles":[{"path":"src/modules/database/DatabasePollService.ts","content":"$4f"},{"path":"src/modules/database/DatabasePollController.ts","content":"import { EntityType } from \"@prisma/client\";\nimport { get, JSONLinesResponse, prefix, VovkIteration } from \"vovk\";\nimport { z } from \"zod\";\nimport DatabasePollService from \"./DatabasePollService\";\nimport { TaskSchema, UserSchema } from \"../../../prisma/generated/schemas\";\nimport { withZod } from \"@/lib/withZod\";\n\n@prefix(\"poll\")\nexport default class DatabasePollController {\n  @get()\n  static poll = withZod({\n    iteration: z.union([\n      z.object({\n        id: z.uuid(),\n        entityType: z.enum(EntityType),\n        __isDeleted: z.boolean().optional(),\n      }),\n      UserSchema,\n      TaskSchema,\n    ]),\n    async handle(req) {\n      const response = new JSONLinesResponse<\n        VovkIteration<typeof DatabasePollController.poll>\n      >(req);\n\n      void DatabasePollService.poll(response);\n\n      return response;\n    },\n  });\n}\n"}],"owner":"finom","repo":"vovk-ai-demo","ghRef":"main","id":"_S_1_"}],[["$","div","0",{"className":"h-full github-tab-content ","id":"tab-_S_1_-0","children":["$","div",null,{"className":"border dark:!border-gray-800 text-sm","children":["$L50"," ","$L51"]}]}],"$L52"]]}]
50:["$","div",null,{"data-theme":"dark","className":"hidden dark:block","children":"$L53"}]
51:["$","div",null,{"data-theme":"light","className":"dark:hidden","children":"$L54"}]
52:["$","div","1",{"className":"h-full github-tab-content hidden","id":"tab-_S_1_-1","children":["$","div",null,{"className":"border dark:!border-gray-800 text-sm","children":[["$","div",null,{"data-theme":"dark","className":"hidden dark:block","children":"$L55"}]," ",["$","div",null,{"data-theme":"light","className":"dark:hidden","children":"$L56"}]]}]}]
53:["$L57","$L58"]
54:["$L59","$L5a"]
55:["$L5b","$L5c"]
56:["$L5d","$L5e"]
5f:T9a0,// prismaService.ts
import { PrismaClient } from "@prisma/client";
import { PrismaNeon } from "@prisma/adapter-neon";
import { neonConfig } from "@neondatabase/serverless";
import DBEventsService, { DBChange } from "./DatabaseEventsService";
import { BaseEntity } from "@/types";

if (!process.env.VERCEL_ENV) {
  neonConfig.wsProxy = (host) => `${host}:5433/v1`;
  neonConfig.useSecureWebSocket = false;
  neonConfig.pipelineTLS = false;
  neonConfig.pipelineConnect = false;
}

export default class DatabaseService {
  static get prisma() {
    return (this.#client ??= this.getClient());
  }
  static #client: ReturnType<typeof DatabaseService.getClient> | null = null;

  private static getClient() {
    const adapter = new PrismaNeon({
      connectionString: `${process.env.DATABASE_URL}`,
    });
    const prisma = new PrismaClient({ adapter });

    DBEventsService.startPolling();

    return prisma.$extends({
      name: "events",
      query: {
        $allModels: {
          async $allOperations({ model, operation, args, query }) {
            const result = (await query(args)) as BaseEntity;
            if (!result?.entityType) return result;

            const now = new Date().toISOString();
            const changes: DBChange[] = [];

            const makeChange = (
              entity: BaseEntity,
              type: DBChange["type"],
            ) => ({
              id: entity.id,
              entityType: entity.entityType,
              date:
                type === "delete" ? now : (entity.updatedAt?.toString() ?? now),
              type,
            });

            switch (operation) {
              case "create":
                if (result.id) changes.push(makeChange(result, "create"));
                break;

              case "update":
                if (result.id) changes.push(makeChange(result, "update"));
                break;

              case "delete":
                if (result.id) changes.push(makeChange(result, "delete"));
                break;

              // other operations like deleteMany should be implemented separately

              default:
                console.warn(
                  `Unhandled Prisma operation: ${operation} for model: ${model}`,
                );
                break;
            }

            if (changes.length) {
              await DBEventsService.write(changes);
            }

            return result;
          },
        },
      },
    });
  }
}
60:T817,import { EntityType } from "@prisma/client";
import mitt from "mitt";
import { createClient } from "redis";

export type DBChange = {
  id: string;
  entityType: EntityType;
  date: string;
  type: "create" | "update" | "delete";
};

export default class DatabaseEventsService {
  private static readonly DB_KEY = "db_updates";
  private static readonly INTERVAL = 1_000;
  private static lastTimestamp = Date.now();

  private static redisClient = createClient({
    url: process.env.REDIS_URL,
  });

  // our in‑process event emitter
  public static emitter = mitt<{
    db_updates: DBChange[];
  }>();

  // ensure Redis is connected
  private static async connect() {
    if (!this.redisClient.isOpen) {
      await this.redisClient.connect();
      this.redisClient.on("error", (err) => {
        console.error("Redis Client Error", err);
      });
    }
  }

  // push one update into our ZSET, with score = timestamp
  public static async write(changes: DBChange[]) {
    if (changes.length === 0) return;

    await this.connect();

    // build array of { score, value } objects
    const entries = changes.map(({ id, entityType, type, date }) => ({
      score: Date.now(),
      value: JSON.stringify({ id, entityType, date, type }),
    }));

    // one multi(): batch ZADD + EXPIRE
    await this.redisClient
      .multi()
      .zAdd(this.DB_KEY, entries)
      .expire(this.DB_KEY, (this.INTERVAL * 60) / 1000)
      .exec();
  }

  // start polling loop
  public static startPolling() {
    setInterval(async () => {
      await this.connect();

      const now = Date.now();

      // 1 single command: get everything with score ∈ (lastTimestamp, now]
      const raw = await this.redisClient.zRangeByScore(
        this.DB_KEY,
        this.lastTimestamp + 1,
        now,
      );

      if (raw.length > 0) {
        const updates = raw.map((s) => JSON.parse(s) as DBChange);

        // advance our cursor
        this.lastTimestamp = now;

        // emit
        this.emitter.emit("db_updates", updates);
      }
    }, this.INTERVAL);
  }
}
e:["$","div",null,{"className":"bg-code rounded-lg mt-4","id":"_S_2_","children":[["$","$L4e",null,{"githubFiles":[{"path":"src/modules/database/DatabaseService.ts","content":"$5f"},{"path":"src/modules/database/DatabaseEventsService.ts","content":"$60"}],"owner":"finom","repo":"vovk-ai-demo","ghRef":"main","id":"_S_2_"}],["$L61","$L62"]]}]
61:["$","div","0",{"className":"h-full github-tab-content ","id":"tab-_S_2_-0","children":["$","div",null,{"className":"border dark:!border-gray-800 text-sm","children":[["$","div",null,{"data-theme":"dark","className":"hidden dark:block","children":"$L63"}]," ",["$","div",null,{"data-theme":"light","className":"dark:hidden","children":"$L64"}]]}]}]
62:["$","div","1",{"className":"h-full github-tab-content hidden","id":"tab-_S_2_-1","children":["$","div",null,{"className":"border dark:!border-gray-800 text-sm","children":[["$","div",null,{"data-theme":"dark","className":"hidden dark:block","children":"$L65"}]," ",["$","div",null,{"data-theme":"light","className":"dark:hidden","children":"$L66"}]]}]}]
63:["$L67","$L68"]
64:["$L69","$L6a"]
65:["$L6b","$L6c"]
66:["$L6d","$L6e"]
57:["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","className":"$undefined","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { JSONLinesResponse, VovkIteration } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"vovk\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import type"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollController "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabasePollController\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseEventsService, { DBChange } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseEventsService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseService "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { forEach, groupBy } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"lodash\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" PollService {"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"poll"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"("}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":["$L6f","$L70","$L71"]}]}],"$L72","$L73","$L74","$L75","$L76","$L77","$L78","$L79","$L7a","$L7b","$L7c","$L7d","$L7e","$L7f","$L80","$L81","$L82","$L83","$L84","$L85","$L86","$L87","$L88","$L89","$L8a","$L8b","$L8c","$L8d","$L8e","$L8f","$L90","$L91","$L92","$L93","$L94","$L95","$L96","$L97","$L98","$L99","$L9a","$L9b","$L9c","$L9d","$L9e","$L9f","$La0","$La1","$La2"]}]}]]}]
58:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","className":"$undefined","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { JSONLinesResponse, VovkIteration } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"vovk\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import type"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollController "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabasePollController\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseEventsService, { DBChange } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabaseEventsService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseService "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabaseService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { forEach, groupBy } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"lodash\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" PollService {"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"poll"}],["$","span","2",{"style":{"color":"#953800"},"children":"("}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":"$La3"}],"$La4","$La5","$La6","$La7","$La8","$La9","$Laa","$Lab","$Lac","$Lad","$Lae","$Laf","$Lb0","$Lb1","$Lb2","$Lb3","$Lb4","$Lb5","$Lb6","$Lb7","$Lb8","$Lb9","$Lba","$Lbb","$Lbc","$Lbd","$Lbe","$Lbf","$Lc0","$Lc1","$Lc2","$Lc3","$Lc4","$Lc5","$Lc6","$Lc7","$Lc8","$Lc9","$Lca","$Lcb","$Lcc","$Lcd","$Lce","$Lcf","$Ld0","$Ld1","$Ld2","$Ld3","$Ld4"]}]}]]}]
59:["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","className":"$undefined","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { JSONLinesResponse, VovkIteration } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"vovk\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import type"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollController "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabasePollController\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseEventsService, { DBChange } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseEventsService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseService "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { forEach, groupBy } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"lodash\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" PollService {"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"poll"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"("}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":["$Ld5","$Ld6","$Ld7"]}]}],"$Ld8","$Ld9","$Lda","$Ldb","$Ldc","$Ldd","$Lde","$Ldf","$Le0","$Le1","$Le2","$Le3","$Le4","$Le5","$Le6","$Le7","$Le8","$Le9","$Lea","$Leb","$Lec","$Led","$Lee","$Lef","$Lf0","$Lf1","$Lf2","$Lf3","$Lf4","$Lf5","$Lf6","$Lf7","$Lf8","$Lf9","$Lfa","$Lfb","$Lfc","$Lfd","$Lfe","$Lff","$L100","$L101","$L102","$L103","$L104","$L105","$L106","$L107","$L108"]}]}]]}]
5a:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","className":"$undefined","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { JSONLinesResponse, VovkIteration } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"vovk\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import type"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollController "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabasePollController\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseEventsService, { DBChange } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabaseEventsService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseService "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabaseService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { forEach, groupBy } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"lodash\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" PollService {"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"poll"}],["$","span","2",{"style":{"color":"#953800"},"children":"("}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":"$L109"}],"$L10a","$L10b","$L10c","$L10d","$L10e","$L10f","$L110","$L111","$L112","$L113","$L114","$L115","$L116","$L117","$L118","$L119","$L11a","$L11b","$L11c","$L11d","$L11e","$L11f","$L120","$L121","$L122","$L123","$L124","$L125","$L126","$L127","$L128","$L129","$L12a","$L12b","$L12c","$L12d","$L12e","$L12f","$L130","$L131","$L132","$L133","$L134","$L135","$L136","$L137","$L138","$L139","$L13a"]}]}]]}]
5b:["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","className":"$undefined","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { get, JSONLinesResponse, prefix, VovkIteration } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"vovk\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { z } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"zod\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollService "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabasePollService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { TaskSchema, UserSchema } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/schemas\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { withZod } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/lib/withZod\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"@"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"prefix"}],"$L13b","$L13c","$L13d"],"$L13e"]}]}],"$L13f","$L140","$L141","$L142","$L143","$L144","$L145","$L146","$L147","$L148","$L149","$L14a","$L14b","$L14c","$L14d","$L14e","$L14f","$L150","$L151","$L152","$L153","$L154","$L155"]}]}]]}]
5c:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","className":"$undefined","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { get, JSONLinesResponse, prefix, VovkIteration } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"vovk\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { z } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"zod\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollService "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabasePollService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { TaskSchema, UserSchema } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/schemas\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { withZod } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/lib/withZod\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#24292F"},"children":"@"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"prefix"}],"$L156","$L157","$L158"],"$L159"]}]}],"$L15a","$L15b","$L15c","$L15d","$L15e","$L15f","$L160","$L161","$L162","$L163","$L164","$L165","$L166","$L167","$L168","$L169","$L16a","$L16b","$L16c","$L16d","$L16e","$L16f","$L170"]}]}]]}]
5d:["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","className":"$undefined","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { get, JSONLinesResponse, prefix, VovkIteration } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"vovk\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { z } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"zod\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollService "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabasePollService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { TaskSchema, UserSchema } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"../../../prisma/generated/schemas\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { withZod } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/lib/withZod\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"@"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"prefix"}],"$L171","$L172","$L173"],"$L174"]}]}],"$L175","$L176","$L177","$L178","$L179","$L17a","$L17b","$L17c","$L17d","$L17e","$L17f","$L180","$L181","$L182","$L183","$L184","$L185","$L186","$L187","$L188","$L189","$L18a","$L18b"]}]}]]}]
5e:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","className":"$undefined","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { get, JSONLinesResponse, prefix, VovkIteration } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"vovk\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { z } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"zod\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollService "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabasePollService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { TaskSchema, UserSchema } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"../../../prisma/generated/schemas\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { withZod } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/lib/withZod\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#24292F"},"children":"@"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"prefix"}],"$L18c","$L18d","$L18e"],"$L18f"]}]}],"$L190","$L191","$L192","$L193","$L194","$L195","$L196","$L197","$L198","$L199","$L19a","$L19b","$L19c","$L19d","$L19e","$L19f","$L1a0","$L1a1","$L1a2","$L1a3","$L1a4","$L1a5","$L1a6"]}]}]]}]
6f:["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}]
70:[["$","span","0",{"style":{"color":"#FFA657"},"children":"    resp"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","2",{"style":{"color":"#FFA657"},"children":" JSONLinesResponse<VovkIteration<"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"typeof "}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"DatabasePollController"}],["$","span","5",{"style":{"color":"#FFA657"},"children":"."}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"poll"}],["$","span","7",{"style":{"color":"#FFA657"},"children":">>,"}]]
71:["$","br",null,{}]
72:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  ) "}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
73:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"    setTimeout"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"(resp.close, "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"30_000"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
74:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
75:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    let"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" asOldAs "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
76:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    DatabaseEventsService.emitter."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"on"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","5",{"style":{"color":"#FFA657"},"children":"changes"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
77:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"deleted "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"filter"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","10",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","11",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
78:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"createdOrUpdated "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"filter"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
79:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"create\" "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"||"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","10",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
7a:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      );"}]],["$","br",null,{}]]}]}]
7b:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
7c:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      for"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"const "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"deletedEntity "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"of"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" deleted) {"}]],["$","br",null,{}]]}]}]
7d:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        resp."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"send"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
7e:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          id: deletedEntity.id,"}]],["$","br",null,{}]]}]}]
7f:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          entityType: deletedEntity.entityType,"}]],["$","br",null,{}]]}]}]
80:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          __isDeleted: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"true"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
81:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        });"}]],["$","br",null,{}]]}]}]
82:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }"}]],["$","br",null,{}]]}]}]
83:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"      // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]"}]],["$","br",null,{}]]}]}]
84:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"      forEach"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"groupBy"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(createdOrUpdated, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"entityType\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"), ("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"changes"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
85:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"maxDateItem "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"reduce"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
86:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"max"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
87:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"changeDate "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(change.date);"}]],["$","br",null,{}]]}]}]
88:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" changeDate."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"> new "}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"(max.date)."}],["$","span","7",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
89:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              ?"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" change"}]],["$","br",null,{}]]}]}]
8a:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              :"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" max;"}]],["$","br",null,{}]]}]}]
8b:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          },"}]],["$","br",null,{}]]}]}]
8c:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          { date: "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") } "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"unknown "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","9",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
8d:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        );"}]],["$","br",null,{}]]}]}]
8e:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
8f:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(maxDateItem.date)."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":">"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" asOldAs."}],["$","span","9",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":"()) {"}]],["$","br",null,{}]]}]}]
90:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          void"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseService.prisma[maxDateItem.entityType "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"user\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"]"}]],["$","br",null,{}]]}]}]
91:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"findMany"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
92:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              where: {"}]],["$","br",null,{}]]}]}]
93:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                updatedAt: {"}]],["$","br",null,{}]]}]}]
94:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  gte: asOldAs,"}]],["$","br",null,{}]]}]}]
95:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                },"}]],["$","br",null,{}]]}]}]
96:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              },"}]],["$","br",null,{}]]}]}]
97:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            })"}]],["$","br",null,{}]]}]}]
98:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"then"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","3",{"style":{"color":"#FFA657"},"children":"entities"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
99:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              for"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"const "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"entity "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"of"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" entities) {"}]],["$","br",null,{}]]}]}]
9a:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                resp."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"send"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(entity);"}]],["$","br",null,{}]]}]}]
9b:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              }"}]],["$","br",null,{}]]}]}]
9c:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            });"}]],["$","br",null,{}]]}]}]
9d:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          asOldAs "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(maxDateItem.date);"}]],["$","br",null,{}]]}]}]
9e:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        }"}]],["$","br",null,{}]]}]}]
9f:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      });"}]],["$","br",null,{}]]}]}]
a0:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
a1:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
a2:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
a3:["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#953800"},"children":"    resp"}],["$","span","1",{"style":{"color":"#CF222E"},"children":":"}],["$","span","2",{"style":{"color":"#953800"},"children":" JSONLinesResponse<VovkIteration<"}],["$","span","3",{"style":{"color":"#CF222E"},"children":"typeof "}],["$","span","4",{"style":{"color":"#24292F"},"children":"DatabasePollController"}],["$","span","5",{"style":{"color":"#953800"},"children":"."}],["$","span","6",{"style":{"color":"#24292F"},"children":"poll"}],["$","span","7",{"style":{"color":"#953800"},"children":">>,"}]],["$","br",null,{}]]}]
a4:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#953800"},"children":"  ) "}],["$","span","1",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
a5:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"    setTimeout"}],["$","span","1",{"style":{"color":"#24292F"},"children":"(resp.close, "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"30_000"}],["$","span","3",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
a6:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
a7:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    let"}],["$","span","1",{"style":{"color":"#24292F"},"children":" asOldAs "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
a8:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    DatabaseEventsService.emitter."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"on"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#24292F"},"children":", ("}],["$","span","5",{"style":{"color":"#953800"},"children":"changes"}],["$","span","6",{"style":{"color":"#24292F"},"children":") "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","8",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
a9:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"deleted "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"filter"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(("}],["$","span","6",{"style":{"color":"#953800"},"children":"change"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","10",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","11",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","12",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
aa:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"createdOrUpdated "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"filter"}],["$","span","5",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
ab:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        ("}],["$","span","1",{"style":{"color":"#953800"},"children":"change"}],["$","span","2",{"style":{"color":"#24292F"},"children":") "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","4",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"create\" "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"||"}],["$","span","8",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","10",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","11",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
ac:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      );"}]],["$","br",null,{}]]}]}]
ad:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
ae:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      for"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"const "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"deletedEntity "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"of"}],["$","span","5",{"style":{"color":"#24292F"},"children":" deleted) {"}]],["$","br",null,{}]]}]}]
af:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        resp."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"send"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
b0:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          id: deletedEntity.id,"}]],["$","br",null,{}]]}]}]
b1:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          entityType: deletedEntity.entityType,"}]],["$","br",null,{}]]}]}]
b2:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          __isDeleted: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"true"}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
b3:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        });"}]],["$","br",null,{}]]}]}]
b4:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }"}]],["$","br",null,{}]]}]}]
b5:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"      // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]"}]],["$","br",null,{}]]}]}]
b6:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"      forEach"}],["$","span","1",{"style":{"color":"#24292F"},"children":"("}],["$","span","2",{"style":{"color":"#8250DF"},"children":"groupBy"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(createdOrUpdated, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"entityType\""}],["$","span","5",{"style":{"color":"#24292F"},"children":"), ("}],["$","span","6",{"style":{"color":"#953800"},"children":"changes"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
b7:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"maxDateItem "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"reduce"}],["$","span","5",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
b8:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          ("}],["$","span","1",{"style":{"color":"#953800"},"children":"max"}],["$","span","2",{"style":{"color":"#24292F"},"children":", "}],["$","span","3",{"style":{"color":"#953800"},"children":"change"}],["$","span","4",{"style":{"color":"#24292F"},"children":") "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","6",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
b9:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"changeDate "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(change.date);"}]],["$","br",null,{}]]}]}]
ba:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" changeDate."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","3",{"style":{"color":"#24292F"},"children":"() "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"> new "}],["$","span","5",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","6",{"style":{"color":"#24292F"},"children":"(max.date)."}],["$","span","7",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","8",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
bb:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              ?"}],["$","span","1",{"style":{"color":"#24292F"},"children":" change"}]],["$","br",null,{}]]}]}]
bc:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              :"}],["$","span","1",{"style":{"color":"#24292F"},"children":" max;"}]],["$","br",null,{}]]}]}]
bd:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          },"}]],["$","br",null,{}]]}]}]
be:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          { date: "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") } "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","7",{"style":{"color":"#0550AE"},"children":"unknown "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","9",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","10",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
bf:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        );"}]],["$","br",null,{}]]}]}]
c0:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
c1:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(maxDateItem.date)."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","6",{"style":{"color":"#24292F"},"children":"() "}],["$","span","7",{"style":{"color":"#CF222E"},"children":">"}],["$","span","8",{"style":{"color":"#24292F"},"children":" asOldAs."}],["$","span","9",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","10",{"style":{"color":"#24292F"},"children":"()) {"}]],["$","br",null,{}]]}]}]
c2:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          void"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseService.prisma[maxDateItem.entityType "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"user\""}],["$","span","4",{"style":{"color":"#24292F"},"children":"]"}]],["$","br",null,{}]]}]}]
c3:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"findMany"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
c4:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              where: {"}]],["$","br",null,{}]]}]}]
c5:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                updatedAt: {"}]],["$","br",null,{}]]}]}]
c6:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  gte: asOldAs,"}]],["$","br",null,{}]]}]}]
c7:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                },"}]],["$","br",null,{}]]}]}]
c8:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              },"}]],["$","br",null,{}]]}]}]
c9:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            })"}]],["$","br",null,{}]]}]}]
ca:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"then"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(("}],["$","span","3",{"style":{"color":"#953800"},"children":"entities"}],["$","span","4",{"style":{"color":"#24292F"},"children":") "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","6",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
cb:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              for"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"const "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"entity "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"of"}],["$","span","5",{"style":{"color":"#24292F"},"children":" entities) {"}]],["$","br",null,{}]]}]}]
cc:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                resp."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"send"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(entity);"}]],["$","br",null,{}]]}]}]
cd:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              }"}]],["$","br",null,{}]]}]}]
ce:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            });"}]],["$","br",null,{}]]}]}]
cf:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          asOldAs "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(maxDateItem.date);"}]],["$","br",null,{}]]}]}]
d0:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        }"}]],["$","br",null,{}]]}]}]
d1:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      });"}]],["$","br",null,{}]]}]}]
d2:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
d3:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
d4:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
d5:["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}]
d6:[["$","span","0",{"style":{"color":"#FFA657"},"children":"    resp"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","2",{"style":{"color":"#FFA657"},"children":" JSONLinesResponse<VovkIteration<"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"typeof "}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"DatabasePollController"}],["$","span","5",{"style":{"color":"#FFA657"},"children":"."}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"poll"}],["$","span","7",{"style":{"color":"#FFA657"},"children":">>,"}]]
d7:["$","br",null,{}]
d8:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  ) "}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
d9:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"    setTimeout"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"(resp.close, "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"30_000"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
da:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
db:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    let"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" asOldAs "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
dc:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    DatabaseEventsService.emitter."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"on"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","5",{"style":{"color":"#FFA657"},"children":"changes"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
dd:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"deleted "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"filter"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","10",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","11",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
de:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"createdOrUpdated "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"filter"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
df:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"create\" "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"||"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" change.type "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","10",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
e0:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      );"}]],["$","br",null,{}]]}]}]
e1:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
e2:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      for"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"const "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"deletedEntity "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"of"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" deleted) {"}]],["$","br",null,{}]]}]}]
e3:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        resp."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"send"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
e4:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          id: deletedEntity.id,"}]],["$","br",null,{}]]}]}]
e5:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          entityType: deletedEntity.entityType,"}]],["$","br",null,{}]]}]}]
e6:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          __isDeleted: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"true"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
e7:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        });"}]],["$","br",null,{}]]}]}]
e8:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }"}]],["$","br",null,{}]]}]}]
e9:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"      // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]"}]],["$","br",null,{}]]}]}]
ea:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"      forEach"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"groupBy"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(createdOrUpdated, "}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"entityType\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"), ("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"changes"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
eb:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"maxDateItem "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"reduce"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
ec:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          ("}],["$","span","1",{"style":{"color":"#FFA657"},"children":"max"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"change"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
ed:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"changeDate "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(change.date);"}]],["$","br",null,{}]]}]}]
ee:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" changeDate."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"> new "}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"(max.date)."}],["$","span","7",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
ef:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              ?"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" change"}]],["$","br",null,{}]]}]}]
f0:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              :"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" max;"}]],["$","br",null,{}]]}]}]
f1:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          },"}]],["$","br",null,{}]]}]}]
f2:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          { date: "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") } "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"unknown "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","9",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
f3:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        );"}]],["$","br",null,{}]]}]}]
f4:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
f5:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(maxDateItem.date)."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":">"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":" asOldAs."}],["$","span","9",{"style":{"color":"#D2A8FF"},"children":"getTime"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":"()) {"}]],["$","br",null,{}]]}]}]
f6:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          void"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabaseService.prisma[maxDateItem.entityType "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"user\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"]"}]],["$","br",null,{}]]}]}]
f7:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"findMany"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
f8:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              where: {"}]],["$","br",null,{}]]}]}]
f9:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                updatedAt: {"}]],["$","br",null,{}]]}]}]
fa:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                  gte: asOldAs,"}]],["$","br",null,{}]]}]}]
fb:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                },"}]],["$","br",null,{}]]}]}]
fc:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              },"}]],["$","br",null,{}]]}]}]
fd:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            })"}]],["$","br",null,{}]]}]}]
fe:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"then"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","3",{"style":{"color":"#FFA657"},"children":"entities"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
ff:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              for"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"const "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"entity "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"of"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" entities) {"}]],["$","br",null,{}]]}]}]
100:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                resp."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"send"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(entity);"}]],["$","br",null,{}]]}]}]
101:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              }"}]],["$","br",null,{}]]}]}]
102:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            });"}]],["$","br",null,{}]]}]}]
103:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          asOldAs "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(maxDateItem.date);"}]],["$","br",null,{}]]}]}]
104:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        }"}]],["$","br",null,{}]]}]}]
105:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      });"}]],["$","br",null,{}]]}]}]
106:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
107:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
108:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
109:["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#953800"},"children":"    resp"}],["$","span","1",{"style":{"color":"#CF222E"},"children":":"}],["$","span","2",{"style":{"color":"#953800"},"children":" JSONLinesResponse<VovkIteration<"}],["$","span","3",{"style":{"color":"#CF222E"},"children":"typeof "}],["$","span","4",{"style":{"color":"#24292F"},"children":"DatabasePollController"}],["$","span","5",{"style":{"color":"#953800"},"children":"."}],["$","span","6",{"style":{"color":"#24292F"},"children":"poll"}],["$","span","7",{"style":{"color":"#953800"},"children":">>,"}]],["$","br",null,{}]]}]
10a:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#953800"},"children":"  ) "}],["$","span","1",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
10b:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"    setTimeout"}],["$","span","1",{"style":{"color":"#24292F"},"children":"(resp.close, "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"30_000"}],["$","span","3",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
10c:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
10d:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    let"}],["$","span","1",{"style":{"color":"#24292F"},"children":" asOldAs "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
10e:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    DatabaseEventsService.emitter."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"on"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#24292F"},"children":", ("}],["$","span","5",{"style":{"color":"#953800"},"children":"changes"}],["$","span","6",{"style":{"color":"#24292F"},"children":") "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","8",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
10f:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"deleted "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"filter"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(("}],["$","span","6",{"style":{"color":"#953800"},"children":"change"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","10",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","11",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","12",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
110:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"createdOrUpdated "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"filter"}],["$","span","5",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
111:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        ("}],["$","span","1",{"style":{"color":"#953800"},"children":"change"}],["$","span","2",{"style":{"color":"#24292F"},"children":") "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","4",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"create\" "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"||"}],["$","span","8",{"style":{"color":"#24292F"},"children":" change.type "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","10",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","11",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
112:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      );"}]],["$","br",null,{}]]}]}]
113:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
114:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      for"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"const "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"deletedEntity "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"of"}],["$","span","5",{"style":{"color":"#24292F"},"children":" deleted) {"}]],["$","br",null,{}]]}]}]
115:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        resp."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"send"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
116:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          id: deletedEntity.id,"}]],["$","br",null,{}]]}]}]
117:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          entityType: deletedEntity.entityType,"}]],["$","br",null,{}]]}]}]
118:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          __isDeleted: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"true"}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
119:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        });"}]],["$","br",null,{}]]}]}]
11a:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }"}]],["$","br",null,{}]]}]}]
11b:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"      // group by entityType and date, so the date is maximum date for the given entity: { entityType: string, date: string }[]"}]],["$","br",null,{}]]}]}]
11c:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"      forEach"}],["$","span","1",{"style":{"color":"#24292F"},"children":"("}],["$","span","2",{"style":{"color":"#8250DF"},"children":"groupBy"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(createdOrUpdated, "}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"entityType\""}],["$","span","5",{"style":{"color":"#24292F"},"children":"), ("}],["$","span","6",{"style":{"color":"#953800"},"children":"changes"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
11d:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"maxDateItem "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"reduce"}],["$","span","5",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
11e:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          ("}],["$","span","1",{"style":{"color":"#953800"},"children":"max"}],["$","span","2",{"style":{"color":"#24292F"},"children":", "}],["$","span","3",{"style":{"color":"#953800"},"children":"change"}],["$","span","4",{"style":{"color":"#24292F"},"children":") "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","6",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
11f:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"changeDate "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(change.date);"}]],["$","br",null,{}]]}]}]
120:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" changeDate."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","3",{"style":{"color":"#24292F"},"children":"() "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"> new "}],["$","span","5",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","6",{"style":{"color":"#24292F"},"children":"(max.date)."}],["$","span","7",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","8",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
121:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              ?"}],["$","span","1",{"style":{"color":"#24292F"},"children":" change"}]],["$","br",null,{}]]}]}]
122:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              :"}],["$","span","1",{"style":{"color":"#24292F"},"children":" max;"}]],["$","br",null,{}]]}]}]
123:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          },"}]],["$","br",null,{}]]}]}]
124:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          { date: "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") } "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","7",{"style":{"color":"#0550AE"},"children":"unknown "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","9",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","10",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
125:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        );"}]],["$","br",null,{}]]}]}]
126:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
127:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(maxDateItem.date)."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","6",{"style":{"color":"#24292F"},"children":"() "}],["$","span","7",{"style":{"color":"#CF222E"},"children":">"}],["$","span","8",{"style":{"color":"#24292F"},"children":" asOldAs."}],["$","span","9",{"style":{"color":"#8250DF"},"children":"getTime"}],["$","span","10",{"style":{"color":"#24292F"},"children":"()) {"}]],["$","br",null,{}]]}]}]
128:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          void"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabaseService.prisma[maxDateItem.entityType "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"user\""}],["$","span","4",{"style":{"color":"#24292F"},"children":"]"}]],["$","br",null,{}]]}]}]
129:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"findMany"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
12a:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              where: {"}]],["$","br",null,{}]]}]}]
12b:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                updatedAt: {"}]],["$","br",null,{}]]}]}]
12c:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                  gte: asOldAs,"}]],["$","br",null,{}]]}]}]
12d:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                },"}]],["$","br",null,{}]]}]}]
12e:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              },"}]],["$","br",null,{}]]}]}]
12f:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            })"}]],["$","br",null,{}]]}]}]
130:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"then"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(("}],["$","span","3",{"style":{"color":"#953800"},"children":"entities"}],["$","span","4",{"style":{"color":"#24292F"},"children":") "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","6",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
131:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              for"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"const "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"entity "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"of"}],["$","span","5",{"style":{"color":"#24292F"},"children":" entities) {"}]],["$","br",null,{}]]}]}]
132:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                resp."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"send"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(entity);"}]],["$","br",null,{}]]}]}]
133:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              }"}]],["$","br",null,{}]]}]}]
134:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            });"}]],["$","br",null,{}]]}]}]
135:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          asOldAs "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","2",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(maxDateItem.date);"}]],["$","br",null,{}]]}]}]
136:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        }"}]],["$","br",null,{}]]}]}]
137:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      });"}]],["$","br",null,{}]]}]}]
138:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
139:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
13a:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
13b:["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]
13c:["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"poll\""}]
13d:["$","span","4",{"style":{"color":"#C9D1D9"},"children":")"}]
13e:["$","br",null,{}]
13f:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabasePollController {"}]],["$","br",null,{}]]}]}]
140:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  @"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"get"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"()"}]],["$","br",null,{}]]}]}]
141:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" poll "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"withZod"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"({"}]],["$","br",null,{}]]}]}]
142:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    iteration: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"union"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(["}]],["$","br",null,{}]]}]}]
143:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"object"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
144:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        id: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"uuid"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
145:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        entityType: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"enum"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(EntityType),"}]],["$","br",null,{}]]}]}]
146:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        __isDeleted: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"boolean"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"()."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"optional"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
147:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }),"}]],["$","br",null,{}]]}]}]
148:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      UserSchema,"}]],["$","br",null,{}]]}]}]
149:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      TaskSchema,"}]],["$","br",null,{}]]}]}]
14a:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    ])"}],["$","span","1",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
14b:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"handle"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"(req) "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
14c:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"response "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" JSONLinesResponse"}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"<"}]],["$","br",null,{}]]}]}]
14d:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        VovkIteration"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"<typeof"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":" DatabasePollController.poll"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":">"}]],["$","br",null,{}]]}]}]
14e:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      >"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"(req);"}]],["$","br",null,{}]]}]}]
14f:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
150:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      void"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollService."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"poll"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(response);"}]],["$","br",null,{}]]}]}]
151:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
152:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" response;"}]],["$","br",null,{}]]}]}]
153:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }"}],["$","span","1",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
154:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  });"}]],["$","br",null,{}]]}]}]
155:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
156:["$","span","2",{"style":{"color":"#24292F"},"children":"("}]
157:["$","span","3",{"style":{"color":"#0A3069"},"children":"\"poll\""}]
158:["$","span","4",{"style":{"color":"#24292F"},"children":")"}]
159:["$","br",null,{}]
15a:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabasePollController {"}]],["$","br",null,{}]]}]}]
15b:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#953800"},"children":"  @"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"get"}],["$","span","2",{"style":{"color":"#953800"},"children":"()"}]],["$","br",null,{}]]}]}]
15c:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static"}],["$","span","1",{"style":{"color":"#953800"},"children":" poll "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"withZod"}],["$","span","4",{"style":{"color":"#953800"},"children":"({"}]],["$","br",null,{}]]}]}]
15d:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    iteration: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"union"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(["}]],["$","br",null,{}]]}]}]
15e:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"object"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
15f:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        id: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"uuid"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
160:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        entityType: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"enum"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(EntityType),"}]],["$","br",null,{}]]}]}]
161:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        __isDeleted: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"boolean"}],["$","span","2",{"style":{"color":"#24292F"},"children":"()."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"optional"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
162:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }),"}]],["$","br",null,{}]]}]}]
163:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      UserSchema,"}]],["$","br",null,{}]]}]}]
164:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      TaskSchema,"}]],["$","br",null,{}]]}]}]
165:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    ])"}],["$","span","1",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
166:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"handle"}],["$","span","2",{"style":{"color":"#953800"},"children":"(req) "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
167:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"response "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new"}],["$","span","3",{"style":{"color":"#24292F"},"children":" JSONLinesResponse"}],["$","span","4",{"style":{"color":"#CF222E"},"children":"<"}]],["$","br",null,{}]]}]}]
168:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        VovkIteration"}],["$","span","1",{"style":{"color":"#CF222E"},"children":"<typeof"}],["$","span","2",{"style":{"color":"#24292F"},"children":" DatabasePollController.poll"}],["$","span","3",{"style":{"color":"#CF222E"},"children":">"}]],["$","br",null,{}]]}]}]
169:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      >"}],["$","span","1",{"style":{"color":"#24292F"},"children":"(req);"}]],["$","br",null,{}]]}]}]
16a:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
16b:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      void"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollService."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"poll"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(response);"}]],["$","br",null,{}]]}]}]
16c:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
16d:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" response;"}]],["$","br",null,{}]]}]}]
16e:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }"}],["$","span","1",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
16f:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#953800"},"children":"  });"}]],["$","br",null,{}]]}]}]
170:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
171:["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]
172:["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"poll\""}]
173:["$","span","4",{"style":{"color":"#C9D1D9"},"children":")"}]
174:["$","br",null,{}]
175:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabasePollController {"}]],["$","br",null,{}]]}]}]
176:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  @"}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"get"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"()"}]],["$","br",null,{}]]}]}]
177:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" poll "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"withZod"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"({"}]],["$","br",null,{}]]}]}]
178:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    iteration: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"union"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(["}]],["$","br",null,{}]]}]}]
179:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"object"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
17a:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        id: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"uuid"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
17b:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        entityType: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"enum"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(EntityType),"}]],["$","br",null,{}]]}]}]
17c:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        __isDeleted: z."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"boolean"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"()."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"optional"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
17d:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }),"}]],["$","br",null,{}]]}]}]
17e:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      UserSchema,"}]],["$","br",null,{}]]}]}]
17f:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      TaskSchema,"}]],["$","br",null,{}]]}]}]
180:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    ])"}],["$","span","1",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
181:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"handle"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"(req) "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
182:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"response "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" JSONLinesResponse"}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"<"}]],["$","br",null,{}]]}]}]
183:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        VovkIteration"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"<typeof"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":" DatabasePollController.poll"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":">"}]],["$","br",null,{}]]}]}]
184:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      >"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"(req);"}]],["$","br",null,{}]]}]}]
185:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
186:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      void"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DatabasePollService."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"poll"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(response);"}]],["$","br",null,{}]]}]}]
187:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
188:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" response;"}]],["$","br",null,{}]]}]}]
189:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }"}],["$","span","1",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
18a:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  });"}]],["$","br",null,{}]]}]}]
18b:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
18c:["$","span","2",{"style":{"color":"#24292F"},"children":"("}]
18d:["$","span","3",{"style":{"color":"#0A3069"},"children":"\"poll\""}]
18e:["$","span","4",{"style":{"color":"#24292F"},"children":")"}]
18f:["$","br",null,{}]
190:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabasePollController {"}]],["$","br",null,{}]]}]}]
191:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#953800"},"children":"  @"}],["$","span","1",{"style":{"color":"#8250DF"},"children":"get"}],["$","span","2",{"style":{"color":"#953800"},"children":"()"}]],["$","br",null,{}]]}]}]
192:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static"}],["$","span","1",{"style":{"color":"#953800"},"children":" poll "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"withZod"}],["$","span","4",{"style":{"color":"#953800"},"children":"({"}]],["$","br",null,{}]]}]}]
193:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    iteration: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"union"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(["}]],["$","br",null,{}]]}]}]
194:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"object"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
195:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        id: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"uuid"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
196:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        entityType: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"enum"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(EntityType),"}]],["$","br",null,{}]]}]}]
197:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        __isDeleted: z."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"boolean"}],["$","span","2",{"style":{"color":"#24292F"},"children":"()."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"optional"}],["$","span","4",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
198:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }),"}]],["$","br",null,{}]]}]}]
199:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      UserSchema,"}]],["$","br",null,{}]]}]}]
19a:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      TaskSchema,"}]],["$","br",null,{}]]}]}]
19b:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    ])"}],["$","span","1",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
19c:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"handle"}],["$","span","2",{"style":{"color":"#953800"},"children":"(req) "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
19d:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"response "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new"}],["$","span","3",{"style":{"color":"#24292F"},"children":" JSONLinesResponse"}],["$","span","4",{"style":{"color":"#CF222E"},"children":"<"}]],["$","br",null,{}]]}]}]
19e:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        VovkIteration"}],["$","span","1",{"style":{"color":"#CF222E"},"children":"<typeof"}],["$","span","2",{"style":{"color":"#24292F"},"children":" DatabasePollController.poll"}],["$","span","3",{"style":{"color":"#CF222E"},"children":">"}]],["$","br",null,{}]]}]}]
19f:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      >"}],["$","span","1",{"style":{"color":"#24292F"},"children":"(req);"}]],["$","br",null,{}]]}]}]
1a0:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1a1:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      void"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DatabasePollService."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"poll"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(response);"}]],["$","br",null,{}]]}]}]
1a2:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1a3:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" response;"}]],["$","br",null,{}]]}]}]
1a4:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }"}],["$","span","1",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
1a5:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#953800"},"children":"  });"}]],["$","br",null,{}]]}]}]
1a6:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
67:["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","className":"$undefined","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"// prismaService.ts"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { PrismaClient } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { PrismaNeon } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/adapter-neon\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { neonConfig } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@neondatabase/serverless\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DBEventsService, { DBChange } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseEventsService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { BaseEntity } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/types\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"process.env."}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"VERCEL_ENV"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}],"$L1a7","$L1a8","$L1a9","$L1aa","$L1ab","$L1ac","$L1ad","$L1ae","$L1af","$L1b0","$L1b1","$L1b2","$L1b3","$L1b4","$L1b5","$L1b6","$L1b7","$L1b8","$L1b9","$L1ba","$L1bb","$L1bc","$L1bd","$L1be","$L1bf","$L1c0","$L1c1","$L1c2","$L1c3","$L1c4","$L1c5","$L1c6","$L1c7","$L1c8","$L1c9","$L1ca","$L1cb","$L1cc","$L1cd","$L1ce","$L1cf","$L1d0","$L1d1","$L1d2","$L1d3","$L1d4","$L1d5","$L1d6","$L1d7","$L1d8","$L1d9","$L1da","$L1db","$L1dc","$L1dd","$L1de","$L1df","$L1e0","$L1e1","$L1e2","$L1e3","$L1e4","$L1e5","$L1e6","$L1e7","$L1e8","$L1e9","$L1ea","$L1eb","$L1ec","$L1ed","$L1ee","$L1ef","$L1f0","$L1f1"]}]}]]}]
68:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","className":"$undefined","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"// prismaService.ts"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { PrismaClient } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { PrismaNeon } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/adapter-neon\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { neonConfig } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@neondatabase/serverless\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DBEventsService, { DBChange } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabaseEventsService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { BaseEntity } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/types\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#24292F"},"children":"process.env."}],["$","span","4",{"style":{"color":"#0550AE"},"children":"VERCEL_ENV"}],["$","span","5",{"style":{"color":"#24292F"},"children":") {"}]],"$L1f2"]}]}],"$L1f3","$L1f4","$L1f5","$L1f6","$L1f7","$L1f8","$L1f9","$L1fa","$L1fb","$L1fc","$L1fd","$L1fe","$L1ff","$L200","$L201","$L202","$L203","$L204","$L205","$L206","$L207","$L208","$L209","$L20a","$L20b","$L20c","$L20d","$L20e","$L20f","$L210","$L211","$L212","$L213","$L214","$L215","$L216","$L217","$L218","$L219","$L21a","$L21b","$L21c","$L21d","$L21e","$L21f","$L220","$L221","$L222","$L223","$L224","$L225","$L226","$L227","$L228","$L229","$L22a","$L22b","$L22c","$L22d","$L22e","$L22f","$L230","$L231","$L232","$L233","$L234","$L235","$L236","$L237","$L238","$L239","$L23a","$L23b","$L23c","$L23d"]}]}]]}]
69:["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","className":"$undefined","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"// prismaService.ts"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { PrismaClient } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { PrismaNeon } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/adapter-neon\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { neonConfig } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@neondatabase/serverless\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DBEventsService, { DBChange } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"./DatabaseEventsService\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { BaseEntity } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@/types\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"process.env."}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"VERCEL_ENV"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}],"$L23e","$L23f","$L240","$L241","$L242","$L243","$L244","$L245","$L246","$L247","$L248","$L249","$L24a","$L24b","$L24c","$L24d","$L24e","$L24f","$L250","$L251","$L252","$L253","$L254","$L255","$L256","$L257","$L258","$L259","$L25a","$L25b","$L25c","$L25d","$L25e","$L25f","$L260","$L261","$L262","$L263","$L264","$L265","$L266","$L267","$L268","$L269","$L26a","$L26b","$L26c","$L26d","$L26e","$L26f","$L270","$L271","$L272","$L273","$L274","$L275","$L276","$L277","$L278","$L279","$L27a","$L27b","$L27c","$L27d","$L27e","$L27f","$L280","$L281","$L282","$L283","$L284","$L285","$L286","$L287","$L288"]}]}]]}]
6a:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","className":"$undefined","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"// prismaService.ts"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { PrismaClient } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { PrismaNeon } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/adapter-neon\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { neonConfig } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@neondatabase/serverless\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DBEventsService, { DBChange } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"./DatabaseEventsService\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { BaseEntity } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@/types\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#24292F"},"children":"process.env."}],["$","span","4",{"style":{"color":"#0550AE"},"children":"VERCEL_ENV"}],["$","span","5",{"style":{"color":"#24292F"},"children":") {"}]],"$L289"]}]}],"$L28a","$L28b","$L28c","$L28d","$L28e","$L28f","$L290","$L291","$L292","$L293","$L294","$L295","$L296","$L297","$L298","$L299","$L29a","$L29b","$L29c","$L29d","$L29e","$L29f","$L2a0","$L2a1","$L2a2","$L2a3","$L2a4","$L2a5","$L2a6","$L2a7","$L2a8","$L2a9","$L2aa","$L2ab","$L2ac","$L2ad","$L2ae","$L2af","$L2b0","$L2b1","$L2b2","$L2b3","$L2b4","$L2b5","$L2b6","$L2b7","$L2b8","$L2b9","$L2ba","$L2bb","$L2bc","$L2bd","$L2be","$L2bf","$L2c0","$L2c1","$L2c2","$L2c3","$L2c4","$L2c5","$L2c6","$L2c7","$L2c8","$L2c9","$L2ca","$L2cb","$L2cc","$L2cd","$L2ce","$L2cf","$L2d0","$L2d1","$L2d2","$L2d3","$L2d4"]}]}]]}]
6b:["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","className":"$undefined","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" mitt "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"mitt\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { createClient } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"redis\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export type "}],["$","span","1",{"style":{"color":"#FFA657"},"children":"DBChange "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  id"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"string"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  entityType"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"EntityType"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  date"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"string"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  type"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],"$L2d5","$L2d6","$L2d7","$L2d8","$L2d9","$L2da"],"$L2db"]}]}],"$L2dc","$L2dd","$L2de","$L2df","$L2e0","$L2e1","$L2e2","$L2e3","$L2e4","$L2e5","$L2e6","$L2e7","$L2e8","$L2e9","$L2ea","$L2eb","$L2ec","$L2ed","$L2ee","$L2ef","$L2f0","$L2f1","$L2f2","$L2f3","$L2f4","$L2f5","$L2f6","$L2f7","$L2f8","$L2f9","$L2fa","$L2fb","$L2fc","$L2fd","$L2fe","$L2ff","$L300","$L301","$L302","$L303","$L304","$L305","$L306","$L307","$L308","$L309","$L30a","$L30b","$L30c","$L30d","$L30e","$L30f","$L310","$L311","$L312","$L313","$L314","$L315","$L316","$L317","$L318","$L319","$L31a","$L31b","$L31c","$L31d","$L31e","$L31f","$L320","$L321","$L322","$L323"]}]}]]}]
6c:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","className":"$undefined","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" mitt "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"mitt\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { createClient } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"redis\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export type "}],["$","span","1",{"style":{"color":"#953800"},"children":"DBChange "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#953800"},"children":"  id"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"string"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#953800"},"children":"  entityType"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"EntityType"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#953800"},"children":"  date"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"string"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#953800"},"children":"  type"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],"$L324","$L325","$L326","$L327","$L328","$L329"],"$L32a"]}]}],"$L32b","$L32c","$L32d","$L32e","$L32f","$L330","$L331","$L332","$L333","$L334","$L335","$L336","$L337","$L338","$L339","$L33a","$L33b","$L33c","$L33d","$L33e","$L33f","$L340","$L341","$L342","$L343","$L344","$L345","$L346","$L347","$L348","$L349","$L34a","$L34b","$L34c","$L34d","$L34e","$L34f","$L350","$L351","$L352","$L353","$L354","$L355","$L356","$L357","$L358","$L359","$L35a","$L35b","$L35c","$L35d","$L35e","$L35f","$L360","$L361","$L362","$L363","$L364","$L365","$L366","$L367","$L368","$L369","$L36a","$L36b","$L36c","$L36d","$L36e","$L36f","$L370","$L371","$L372"]}]}]]}]
6d:["$","div",null,{"data-bright-theme":"github-dark","data-bright-mode":"dark","className":"$undefined","style":{"color":"#c9d1d9","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#264F78","--line-number-color":"#6e7681","--tab-border":"#30363d","--tab-background":"#0d1117","--tab-color":"#c9d1d9","--inactive-tab-background":"#010409","--inactive-tab-color":"#8b949e","--tab-top-border":"#f78166","--tab-bottom-border":"#0d1117","colorScheme":"dark"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"dark\"] { display: block }\n[data-theme=\"light\"] [data-bright-mode=\"dark\"] { display: none }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#c9d1d9","background":"#0d1117","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" mitt "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"mitt\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"import"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" { createClient } "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"from "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"redis\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export type "}],["$","span","1",{"style":{"color":"#FFA657"},"children":"DBChange "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  id"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"string"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  entityType"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"EntityType"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  date"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"string"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  type"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],"$L373","$L374","$L375","$L376","$L377","$L378"],"$L379"]}]}],"$L37a","$L37b","$L37c","$L37d","$L37e","$L37f","$L380","$L381","$L382","$L383","$L384","$L385","$L386","$L387","$L388","$L389","$L38a","$L38b","$L38c","$L38d","$L38e","$L38f","$L390","$L391","$L392","$L393","$L394","$L395","$L396","$L397","$L398","$L399","$L39a","$L39b","$L39c","$L39d","$L39e","$L39f","$L3a0","$L3a1","$L3a2","$L3a3","$L3a4","$L3a5","$L3a6","$L3a7","$L3a8","$L3a9","$L3aa","$L3ab","$L3ac","$L3ad","$L3ae","$L3af","$L3b0","$L3b1","$L3b2","$L3b3","$L3b4","$L3b5","$L3b6","$L3b7","$L3b8","$L3b9","$L3ba","$L3bb","$L3bc","$L3bd","$L3be","$L3bf","$L3c0","$L3c1"]}]}]]}]
6e:["$","div",null,{"data-bright-theme":"github-light","data-bright-mode":"light","className":"$undefined","style":{"color":"#24292f","borderRadius":"4px","overflow":"hidden","margin":"1em 0","--selection-background":"#ADD6FF","--line-number-color":"#8c959f","--tab-border":"#d0d7de","--tab-background":"#ffffff","--tab-color":"#24292f","--inactive-tab-background":"#f6f8fa","--inactive-tab-color":"#57606a","--tab-top-border":"#fd8c73","--tab-bottom-border":"#ffffff","colorScheme":"light"},"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"[data-bright-mode=\"light\"] { display: none }\n[data-theme=\"light\"] [data-bright-mode=\"light\"] { display: block }\n  [data-bright-theme] ::selection { background-color: var(--selection-background) }\n  [data-bright-theme] [data-bright-ln] { \n    color: var(--line-number-color); \n    margin-right: 1.5ch; \n    display: inline-block;\n    text-align: right;\n    user-select: none;\n  }\n  "}}],"$undefined",["$","pre",null,{"style":{"margin":0,"color":"#24292f","background":"#ffffff","padding":"1em 0","overflow":"auto"},"children":["$","code",null,{"className":"$undefined","style":{"display":"block","minWidth":"fit-content"},"children":[["$","div","0",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":1,"style":{"width":"2ch"},"children":1}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { EntityType } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"@prisma/client\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","1",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":2,"style":{"width":"2ch"},"children":2}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" mitt "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"mitt\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","2",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":3,"style":{"width":"2ch"},"children":3}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"import"}],["$","span","1",{"style":{"color":"#24292F"},"children":" { createClient } "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"from "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"redis\""}],["$","span","4",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","3",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":4,"style":{"width":"2ch"},"children":4}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}],["$","div","4",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":5,"style":{"width":"2ch"},"children":5}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export type "}],["$","span","1",{"style":{"color":"#953800"},"children":"DBChange "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}],["$","div","5",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":6,"style":{"width":"2ch"},"children":6}],[["$","span","0",{"style":{"color":"#953800"},"children":"  id"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"string"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","6",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":7,"style":{"width":"2ch"},"children":7}],[["$","span","0",{"style":{"color":"#953800"},"children":"  entityType"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"EntityType"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","7",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":8,"style":{"width":"2ch"},"children":8}],[["$","span","0",{"style":{"color":"#953800"},"children":"  date"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"string"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}],["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#953800"},"children":"  type"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],"$L3c2","$L3c3","$L3c4","$L3c5","$L3c6","$L3c7"],"$L3c8"]}]}],"$L3c9","$L3ca","$L3cb","$L3cc","$L3cd","$L3ce","$L3cf","$L3d0","$L3d1","$L3d2","$L3d3","$L3d4","$L3d5","$L3d6","$L3d7","$L3d8","$L3d9","$L3da","$L3db","$L3dc","$L3dd","$L3de","$L3df","$L3e0","$L3e1","$L3e2","$L3e3","$L3e4","$L3e5","$L3e6","$L3e7","$L3e8","$L3e9","$L3ea","$L3eb","$L3ec","$L3ed","$L3ee","$L3ef","$L3f0","$L3f1","$L3f2","$L3f3","$L3f4","$L3f5","$L3f6","$L3f7","$L3f8","$L3f9","$L3fa","$L3fb","$L3fc","$L3fd","$L3fe","$L3ff","$L400","$L401","$L402","$L403","$L404","$L405","$L406","$L407","$L408","$L409","$L40a","$L40b","$L40c","$L40d","$L40e","$L40f","$L410"]}]}]]}]
1a7:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  neonConfig."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"wsProxy "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","4",{"style":{"color":"#FFA657"},"children":"host"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"=> "}],["$","span","7",{"style":{"color":"#A5D6FF"},"children":"`${"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"host"}],["$","span","9",{"style":{"color":"#A5D6FF"},"children":"}:5433/v1`"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1a8:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  neonConfig.useSecureWebSocket "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"false"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1a9:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  neonConfig.pipelineTLS "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"false"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1aa:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  neonConfig.pipelineConnect "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"false"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1ab:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"}"}]],["$","br",null,{}]]}]}]
1ac:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1ad:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabaseService {"}]],["$","br",null,{}]]}]}]
1ae:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static get "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"prisma"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
1af:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":".#client "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"??= "}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","7",{"style":{"color":"#D2A8FF"},"children":"getClient"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"());"}]],["$","br",null,{}]]}]}]
1b0:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
1b1:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" #client"}],["$","span","2",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","3",{"style":{"color":"#FFA657"},"children":" ReturnType<"}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"typeof "}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"DatabaseService"}],["$","span","6",{"style":{"color":"#FFA657"},"children":"."}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"getClient"}],["$","span","8",{"style":{"color":"#FFA657"},"children":"> "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","10",{"style":{"color":"#79C0FF"},"children":"null "}],["$","span","11",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","12",{"style":{"color":"#79C0FF"},"children":"null"}],["$","span","13",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
1b2:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
1b3:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"getClient"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
1b4:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"adapter "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"PrismaNeon"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
1b5:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      connectionString: "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"`${"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"process"}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"."}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"env"}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"."}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"DATABASE_URL"}],["$","span","7",{"style":{"color":"#A5D6FF"},"children":"}`"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
1b6:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
1b7:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"prisma "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"PrismaClient"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({ adapter });"}]],["$","br",null,{}]]}]}]
1b8:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1b9:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    DBEventsService."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"startPolling"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
1ba:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1bb:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" prisma."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"$$extends"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
1bc:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      name: "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"events\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
1bd:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      query: {"}]],["$","br",null,{}]]}]}]
1be:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        $allModels: {"}]],["$","br",null,{}]]}]}]
1bf:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"$$allOperations"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({ "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"model"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","5",{"style":{"color":"#FFA657"},"children":"operation"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","7",{"style":{"color":"#FFA657"},"children":"args"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","9",{"style":{"color":"#FFA657"},"children":"query"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":" }) {"}]],["$","br",null,{}]]}]}]
1c0:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"result "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"await "}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"query"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"(args)) "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","8",{"style":{"color":"#FFA657"},"children":"BaseEntity"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1c1:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"result?.entityType) "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"return"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" result;"}]],["$","br",null,{}]]}]}]
1c2:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1c3:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"now "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"()."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"toISOString"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
1c4:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"changes"}],["$","span","2",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"[] "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" [];"}]],["$","br",null,{}]]}]}]
1c5:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1c6:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"makeChange "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}]],["$","br",null,{}]]}]}]
1c7:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"              entity"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"BaseEntity"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
1c8:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"              type"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"["}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"type\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"],"}]],["$","br",null,{}]]}]}]
1c9:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ) "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":" ({"}]],["$","br",null,{}]]}]}]
1ca:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              id: entity.id,"}]],["$","br",null,{}]]}]}]
1cb:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              entityType: entity.entityType,"}]],["$","br",null,{}]]}]}]
1cc:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              date:"}]],["$","br",null,{}]]}]}]
1cd:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                type "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"delete\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"?"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" now "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" (entity.updatedAt?."}],["$","span","7",{"style":{"color":"#D2A8FF"},"children":"toString"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"??"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":" now),"}]],["$","br",null,{}]]}]}]
1ce:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              type,"}]],["$","br",null,{}]]}]}]
1cf:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            });"}]],["$","br",null,{}]]}]}]
1d0:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1d1:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            switch"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (operation) {"}]],["$","br",null,{}]]}]}]
1d2:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"create\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
1d3:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"push"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"create\""}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"));"}]],["$","br",null,{}]]}]}]
1d4:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1d5:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1d6:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
1d7:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"push"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"));"}]],["$","br",null,{}]]}]}]
1d8:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1d9:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1da:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
1db:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"push"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"));"}]],["$","br",null,{}]]}]}]
1dc:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1dd:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1de:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"              // other operations like deleteMany should be implemented separately"}]],["$","br",null,{}]]}]}]
1df:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1e0:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              default"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
1e1:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                console."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"warn"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
1e2:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"                  `Unhandled Prisma operation: ${"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"operation"}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"} for model: ${"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"model"}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"}`"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
1e3:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                );"}]],["$","br",null,{}]]}]}]
1e4:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
1e5:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
1e6:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1e7:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (changes."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}]
1e8:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              await"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DBEventsService."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"write"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(changes);"}]],["$","br",null,{}]]}]}]
1e9:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
1ea:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
1eb:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" result;"}]],["$","br",null,{}]]}]}]
1ec:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"2ch"},"children":78}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          },"}]],["$","br",null,{}]]}]}]
1ed:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"2ch"},"children":79}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        },"}]],["$","br",null,{}]]}]}]
1ee:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"2ch"},"children":80}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      },"}]],["$","br",null,{}]]}]}]
1ef:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"2ch"},"children":81}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
1f0:["$","div","81",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":82,"style":{"width":"2ch"},"children":82}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
1f1:["$","div","82",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":83,"style":{"width":"2ch"},"children":83}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
1f2:["$","br",null,{}]
1f3:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  neonConfig."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"wsProxy "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}],["$","span","4",{"style":{"color":"#953800"},"children":"host"}],["$","span","5",{"style":{"color":"#24292F"},"children":") "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"=> "}],["$","span","7",{"style":{"color":"#0A3069"},"children":"`${"}],["$","span","8",{"style":{"color":"#24292F"},"children":"host"}],["$","span","9",{"style":{"color":"#0A3069"},"children":"}:5433/v1`"}],["$","span","10",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
1f4:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  neonConfig.useSecureWebSocket "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"false"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
1f5:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  neonConfig.pipelineTLS "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"false"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
1f6:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  neonConfig.pipelineConnect "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"false"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
1f7:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#24292F"},"children":"}"}]],["$","br",null,{}]]}]}]
1f8:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
1f9:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabaseService {"}]],["$","br",null,{}]]}]}]
1fa:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static get "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"prisma"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
1fb:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","3",{"style":{"color":"#24292F"},"children":".#client "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"??= "}],["$","span","5",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","6",{"style":{"color":"#24292F"},"children":"."}],["$","span","7",{"style":{"color":"#8250DF"},"children":"getClient"}],["$","span","8",{"style":{"color":"#24292F"},"children":"());"}]],["$","br",null,{}]]}]}]
1fc:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
1fd:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static"}],["$","span","1",{"style":{"color":"#953800"},"children":" #client"}],["$","span","2",{"style":{"color":"#CF222E"},"children":":"}],["$","span","3",{"style":{"color":"#953800"},"children":" ReturnType<"}],["$","span","4",{"style":{"color":"#CF222E"},"children":"typeof "}],["$","span","5",{"style":{"color":"#24292F"},"children":"DatabaseService"}],["$","span","6",{"style":{"color":"#953800"},"children":"."}],["$","span","7",{"style":{"color":"#24292F"},"children":"getClient"}],["$","span","8",{"style":{"color":"#953800"},"children":"> "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"| "}],["$","span","10",{"style":{"color":"#0550AE"},"children":"null "}],["$","span","11",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","12",{"style":{"color":"#0550AE"},"children":"null"}],["$","span","13",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
1fe:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
1ff:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"getClient"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
200:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"adapter "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"PrismaNeon"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
201:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      connectionString: "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"`${"}],["$","span","2",{"style":{"color":"#24292F"},"children":"process"}],["$","span","3",{"style":{"color":"#0A3069"},"children":"."}],["$","span","4",{"style":{"color":"#24292F"},"children":"env"}],["$","span","5",{"style":{"color":"#0A3069"},"children":"."}],["$","span","6",{"style":{"color":"#0550AE"},"children":"DATABASE_URL"}],["$","span","7",{"style":{"color":"#0A3069"},"children":"}`"}],["$","span","8",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
202:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
203:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"prisma "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"PrismaClient"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({ adapter });"}]],["$","br",null,{}]]}]}]
204:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
205:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    DBEventsService."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"startPolling"}],["$","span","2",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
206:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
207:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" prisma."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"$$extends"}],["$","span","3",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
208:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      name: "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"events\""}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
209:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      query: {"}]],["$","br",null,{}]]}]}]
20a:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        $allModels: {"}]],["$","br",null,{}]]}]}]
20b:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"$$allOperations"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({ "}],["$","span","3",{"style":{"color":"#953800"},"children":"model"}],["$","span","4",{"style":{"color":"#24292F"},"children":", "}],["$","span","5",{"style":{"color":"#953800"},"children":"operation"}],["$","span","6",{"style":{"color":"#24292F"},"children":", "}],["$","span","7",{"style":{"color":"#953800"},"children":"args"}],["$","span","8",{"style":{"color":"#24292F"},"children":", "}],["$","span","9",{"style":{"color":"#953800"},"children":"query"}],["$","span","10",{"style":{"color":"#24292F"},"children":" }) {"}]],["$","br",null,{}]]}]}]
20c:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"result "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}],["$","span","4",{"style":{"color":"#CF222E"},"children":"await "}],["$","span","5",{"style":{"color":"#8250DF"},"children":"query"}],["$","span","6",{"style":{"color":"#24292F"},"children":"(args)) "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","8",{"style":{"color":"#953800"},"children":"BaseEntity"}],["$","span","9",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
20d:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#24292F"},"children":"result?.entityType) "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"return"}],["$","span","5",{"style":{"color":"#24292F"},"children":" result;"}]],["$","br",null,{}]]}]}]
20e:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
20f:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"now "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"()."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"toISOString"}],["$","span","6",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
210:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"changes"}],["$","span","2",{"style":{"color":"#CF222E"},"children":": "}],["$","span","3",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","4",{"style":{"color":"#24292F"},"children":"[] "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"="}],["$","span","6",{"style":{"color":"#24292F"},"children":" [];"}]],["$","br",null,{}]]}]}]
211:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
212:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"makeChange "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}]],["$","br",null,{}]]}]}]
213:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#953800"},"children":"              entity"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"BaseEntity"}],["$","span","3",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
214:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#953800"},"children":"              type"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"["}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"type\""}],["$","span","5",{"style":{"color":"#24292F"},"children":"],"}]],["$","br",null,{}]]}]}]
215:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ) "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","2",{"style":{"color":"#24292F"},"children":" ({"}]],["$","br",null,{}]]}]}]
216:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              id: entity.id,"}]],["$","br",null,{}]]}]}]
217:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              entityType: entity.entityType,"}]],["$","br",null,{}]]}]}]
218:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              date:"}]],["$","br",null,{}]]}]}]
219:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                type "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"delete\" "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"?"}],["$","span","4",{"style":{"color":"#24292F"},"children":" now "}],["$","span","5",{"style":{"color":"#CF222E"},"children":":"}],["$","span","6",{"style":{"color":"#24292F"},"children":" (entity.updatedAt?."}],["$","span","7",{"style":{"color":"#8250DF"},"children":"toString"}],["$","span","8",{"style":{"color":"#24292F"},"children":"() "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"??"}],["$","span","10",{"style":{"color":"#24292F"},"children":" now),"}]],["$","br",null,{}]]}]}]
21a:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              type,"}]],["$","br",null,{}]]}]}]
21b:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            });"}]],["$","br",null,{}]]}]}]
21c:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
21d:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            switch"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (operation) {"}]],["$","br",null,{}]]}]}]
21e:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"create\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
21f:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"push"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"create\""}],["$","span","7",{"style":{"color":"#24292F"},"children":"));"}]],["$","br",null,{}]]}]}]
220:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
221:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
222:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
223:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"push"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","7",{"style":{"color":"#24292F"},"children":"));"}]],["$","br",null,{}]]}]}]
224:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
225:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
226:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
227:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"push"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","7",{"style":{"color":"#24292F"},"children":"));"}]],["$","br",null,{}]]}]}]
228:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
229:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
22a:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"              // other operations like deleteMany should be implemented separately"}]],["$","br",null,{}]]}]}]
22b:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
22c:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              default"}],["$","span","1",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
22d:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                console."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"warn"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
22e:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"                  `Unhandled Prisma operation: ${"}],["$","span","1",{"style":{"color":"#24292F"},"children":"operation"}],["$","span","2",{"style":{"color":"#0A3069"},"children":"} for model: ${"}],["$","span","3",{"style":{"color":"#24292F"},"children":"model"}],["$","span","4",{"style":{"color":"#0A3069"},"children":"}`"}],["$","span","5",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
22f:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                );"}]],["$","br",null,{}]]}]}]
230:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
231:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
232:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
233:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (changes."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length"}],["$","span","3",{"style":{"color":"#24292F"},"children":") {"}]],["$","br",null,{}]]}]}]
234:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              await"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DBEventsService."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"write"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(changes);"}]],["$","br",null,{}]]}]}]
235:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
236:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
237:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" result;"}]],["$","br",null,{}]]}]}]
238:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"2ch"},"children":78}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          },"}]],["$","br",null,{}]]}]}]
239:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"2ch"},"children":79}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        },"}]],["$","br",null,{}]]}]}]
23a:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"2ch"},"children":80}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      },"}]],["$","br",null,{}]]}]}]
23b:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"2ch"},"children":81}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
23c:["$","div","81",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":82,"style":{"width":"2ch"},"children":82}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
23d:["$","div","82",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":83,"style":{"width":"2ch"},"children":83}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
23e:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  neonConfig."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"wsProxy "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","4",{"style":{"color":"#FFA657"},"children":"host"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"=> "}],["$","span","7",{"style":{"color":"#A5D6FF"},"children":"`${"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"host"}],["$","span","9",{"style":{"color":"#A5D6FF"},"children":"}:5433/v1`"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
23f:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  neonConfig.useSecureWebSocket "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"false"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
240:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  neonConfig.pipelineTLS "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"false"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
241:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  neonConfig.pipelineConnect "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"false"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
242:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"}"}]],["$","br",null,{}]]}]}]
243:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
244:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabaseService {"}]],["$","br",null,{}]]}]}]
245:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static get "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"prisma"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
246:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":".#client "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"??= "}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","7",{"style":{"color":"#D2A8FF"},"children":"getClient"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"());"}]],["$","br",null,{}]]}]}]
247:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
248:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" #client"}],["$","span","2",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","3",{"style":{"color":"#FFA657"},"children":" ReturnType<"}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"typeof "}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"DatabaseService"}],["$","span","6",{"style":{"color":"#FFA657"},"children":"."}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"getClient"}],["$","span","8",{"style":{"color":"#FFA657"},"children":"> "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"| "}],["$","span","10",{"style":{"color":"#79C0FF"},"children":"null "}],["$","span","11",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","12",{"style":{"color":"#79C0FF"},"children":"null"}],["$","span","13",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
249:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
24a:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"getClient"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
24b:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"adapter "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"PrismaNeon"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
24c:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      connectionString: "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"`${"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"process"}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"."}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"env"}],["$","span","5",{"style":{"color":"#A5D6FF"},"children":"."}],["$","span","6",{"style":{"color":"#79C0FF"},"children":"DATABASE_URL"}],["$","span","7",{"style":{"color":"#A5D6FF"},"children":"}`"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
24d:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
24e:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"prisma "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"PrismaClient"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({ adapter });"}]],["$","br",null,{}]]}]}]
24f:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
250:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    DBEventsService."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"startPolling"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
251:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
252:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" prisma."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"$$extends"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"({"}]],["$","br",null,{}]]}]}]
253:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      name: "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"events\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
254:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      query: {"}]],["$","br",null,{}]]}]}]
255:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        $allModels: {"}]],["$","br",null,{}]]}]}]
256:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"          async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"$$allOperations"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"({ "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"model"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","5",{"style":{"color":"#FFA657"},"children":"operation"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","7",{"style":{"color":"#FFA657"},"children":"args"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","9",{"style":{"color":"#FFA657"},"children":"query"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":" }) {"}]],["$","br",null,{}]]}]}]
257:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"result "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"await "}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"query"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"(args)) "}],["$","span","7",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","8",{"style":{"color":"#FFA657"},"children":"BaseEntity"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
258:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"result?.entityType) "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"return"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" result;"}]],["$","br",null,{}]]}]}]
259:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
25a:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"now "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= new "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"Date"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"()."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"toISOString"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
25b:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"changes"}],["$","span","2",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","3",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"[] "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" [];"}]],["$","br",null,{}]]}]}]
25c:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
25d:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            const "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"makeChange "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" ("}]],["$","br",null,{}]]}]}]
25e:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"              entity"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"BaseEntity"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
25f:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"              type"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":": "}],["$","span","2",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"["}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"type\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"],"}]],["$","br",null,{}]]}]}]
260:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            ) "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":" ({"}]],["$","br",null,{}]]}]}]
261:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              id: entity.id,"}]],["$","br",null,{}]]}]}]
262:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              entityType: entity.entityType,"}]],["$","br",null,{}]]}]}]
263:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              date:"}]],["$","br",null,{}]]}]}]
264:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                type "}],["$","span","1",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"delete\" "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"?"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":" now "}],["$","span","5",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":" (entity.updatedAt?."}],["$","span","7",{"style":{"color":"#D2A8FF"},"children":"toString"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"() "}],["$","span","9",{"style":{"color":"#FF7B72"},"children":"??"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":" now),"}]],["$","br",null,{}]]}]}]
265:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"              type,"}]],["$","br",null,{}]]}]}]
266:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            });"}]],["$","br",null,{}]]}]}]
267:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
268:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            switch"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (operation) {"}]],["$","br",null,{}]]}]}]
269:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"create\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
26a:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"push"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"create\""}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"));"}]],["$","br",null,{}]]}]}]
26b:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
26c:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
26d:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
26e:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"push"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"update\""}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"));"}]],["$","br",null,{}]]}]}]
26f:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
270:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
271:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              case "}],["$","span","1",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
272:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"push"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(result, "}],["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":"));"}]],["$","br",null,{}]]}]}]
273:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
274:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
275:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"              // other operations like deleteMany should be implemented separately"}]],["$","br",null,{}]]}]}]
276:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
277:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              default"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":":"}]],["$","br",null,{}]]}]}]
278:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                console."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"warn"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
279:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#A5D6FF"},"children":"                  `Unhandled Prisma operation: ${"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"operation"}],["$","span","2",{"style":{"color":"#A5D6FF"},"children":"} for model: ${"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"model"}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"}`"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
27a:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"                );"}]],["$","br",null,{}]]}]}]
27b:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"                break"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
27c:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
27d:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
27e:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (changes."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}]
27f:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"              await"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" DBEventsService."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"write"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"(changes);"}]],["$","br",null,{}]]}]}]
280:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"            }"}]],["$","br",null,{}]]}]}]
281:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
282:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"            return"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" result;"}]],["$","br",null,{}]]}]}]
283:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"2ch"},"children":78}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"          },"}]],["$","br",null,{}]]}]}]
284:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"2ch"},"children":79}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        },"}]],["$","br",null,{}]]}]}]
285:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"2ch"},"children":80}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      },"}]],["$","br",null,{}]]}]}]
286:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"2ch"},"children":81}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    });"}]],["$","br",null,{}]]}]}]
287:["$","div","81",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":82,"style":{"width":"2ch"},"children":82}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
288:["$","div","82",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":83,"style":{"width":"2ch"},"children":83}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
289:["$","br",null,{}]
28a:["$","div","8",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":9,"style":{"width":"2ch"},"children":9}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  neonConfig."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"wsProxy "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}],["$","span","4",{"style":{"color":"#953800"},"children":"host"}],["$","span","5",{"style":{"color":"#24292F"},"children":") "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"=> "}],["$","span","7",{"style":{"color":"#0A3069"},"children":"`${"}],["$","span","8",{"style":{"color":"#24292F"},"children":"host"}],["$","span","9",{"style":{"color":"#0A3069"},"children":"}:5433/v1`"}],["$","span","10",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
28b:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  neonConfig.useSecureWebSocket "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"false"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
28c:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  neonConfig.pipelineTLS "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"false"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
28d:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  neonConfig.pipelineConnect "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","2",{"style":{"color":"#0550AE"},"children":"false"}],["$","span","3",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
28e:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#24292F"},"children":"}"}]],["$","br",null,{}]]}]}]
28f:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
290:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabaseService {"}]],["$","br",null,{}]]}]}]
291:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static get "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"prisma"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
292:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","3",{"style":{"color":"#24292F"},"children":".#client "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"??= "}],["$","span","5",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","6",{"style":{"color":"#24292F"},"children":"."}],["$","span","7",{"style":{"color":"#8250DF"},"children":"getClient"}],["$","span","8",{"style":{"color":"#24292F"},"children":"());"}]],["$","br",null,{}]]}]}]
293:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
294:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  static"}],["$","span","1",{"style":{"color":"#953800"},"children":" #client"}],["$","span","2",{"style":{"color":"#CF222E"},"children":":"}],["$","span","3",{"style":{"color":"#953800"},"children":" ReturnType<"}],["$","span","4",{"style":{"color":"#CF222E"},"children":"typeof "}],["$","span","5",{"style":{"color":"#24292F"},"children":"DatabaseService"}],["$","span","6",{"style":{"color":"#953800"},"children":"."}],["$","span","7",{"style":{"color":"#24292F"},"children":"getClient"}],["$","span","8",{"style":{"color":"#953800"},"children":"> "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"| "}],["$","span","10",{"style":{"color":"#0550AE"},"children":"null "}],["$","span","11",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","12",{"style":{"color":"#0550AE"},"children":"null"}],["$","span","13",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
295:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
296:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"getClient"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
297:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"adapter "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"PrismaNeon"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
298:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      connectionString: "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"`${"}],["$","span","2",{"style":{"color":"#24292F"},"children":"process"}],["$","span","3",{"style":{"color":"#0A3069"},"children":"."}],["$","span","4",{"style":{"color":"#24292F"},"children":"env"}],["$","span","5",{"style":{"color":"#0A3069"},"children":"."}],["$","span","6",{"style":{"color":"#0550AE"},"children":"DATABASE_URL"}],["$","span","7",{"style":{"color":"#0A3069"},"children":"}`"}],["$","span","8",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
299:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
29a:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"prisma "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"PrismaClient"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({ adapter });"}]],["$","br",null,{}]]}]}]
29b:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
29c:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    DBEventsService."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"startPolling"}],["$","span","2",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
29d:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
29e:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" prisma."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"$$extends"}],["$","span","3",{"style":{"color":"#24292F"},"children":"({"}]],["$","br",null,{}]]}]}]
29f:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      name: "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"events\""}],["$","span","2",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2a0:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      query: {"}]],["$","br",null,{}]]}]}]
2a1:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        $allModels: {"}]],["$","br",null,{}]]}]}]
2a2:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"          async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"$$allOperations"}],["$","span","2",{"style":{"color":"#24292F"},"children":"({ "}],["$","span","3",{"style":{"color":"#953800"},"children":"model"}],["$","span","4",{"style":{"color":"#24292F"},"children":", "}],["$","span","5",{"style":{"color":"#953800"},"children":"operation"}],["$","span","6",{"style":{"color":"#24292F"},"children":", "}],["$","span","7",{"style":{"color":"#953800"},"children":"args"}],["$","span","8",{"style":{"color":"#24292F"},"children":", "}],["$","span","9",{"style":{"color":"#953800"},"children":"query"}],["$","span","10",{"style":{"color":"#24292F"},"children":" }) {"}]],["$","br",null,{}]]}]}]
2a3:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"result "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}],["$","span","4",{"style":{"color":"#CF222E"},"children":"await "}],["$","span","5",{"style":{"color":"#8250DF"},"children":"query"}],["$","span","6",{"style":{"color":"#24292F"},"children":"(args)) "}],["$","span","7",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","8",{"style":{"color":"#953800"},"children":"BaseEntity"}],["$","span","9",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2a4:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#24292F"},"children":"result?.entityType) "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"return"}],["$","span","5",{"style":{"color":"#24292F"},"children":" result;"}]],["$","br",null,{}]]}]}]
2a5:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2a6:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"now "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= new "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"Date"}],["$","span","4",{"style":{"color":"#24292F"},"children":"()."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"toISOString"}],["$","span","6",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
2a7:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"changes"}],["$","span","2",{"style":{"color":"#CF222E"},"children":": "}],["$","span","3",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","4",{"style":{"color":"#24292F"},"children":"[] "}],["$","span","5",{"style":{"color":"#CF222E"},"children":"="}],["$","span","6",{"style":{"color":"#24292F"},"children":" [];"}]],["$","br",null,{}]]}]}]
2a8:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2a9:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            const "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"makeChange "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" ("}]],["$","br",null,{}]]}]}]
2aa:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#953800"},"children":"              entity"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"BaseEntity"}],["$","span","3",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2ab:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#953800"},"children":"              type"}],["$","span","1",{"style":{"color":"#CF222E"},"children":": "}],["$","span","2",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","3",{"style":{"color":"#24292F"},"children":"["}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"type\""}],["$","span","5",{"style":{"color":"#24292F"},"children":"],"}]],["$","br",null,{}]]}]}]
2ac:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            ) "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","2",{"style":{"color":"#24292F"},"children":" ({"}]],["$","br",null,{}]]}]}]
2ad:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              id: entity.id,"}]],["$","br",null,{}]]}]}]
2ae:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              entityType: entity.entityType,"}]],["$","br",null,{}]]}]}]
2af:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              date:"}]],["$","br",null,{}]]}]}]
2b0:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                type "}],["$","span","1",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","2",{"style":{"color":"#0A3069"},"children":"\"delete\" "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"?"}],["$","span","4",{"style":{"color":"#24292F"},"children":" now "}],["$","span","5",{"style":{"color":"#CF222E"},"children":":"}],["$","span","6",{"style":{"color":"#24292F"},"children":" (entity.updatedAt?."}],["$","span","7",{"style":{"color":"#8250DF"},"children":"toString"}],["$","span","8",{"style":{"color":"#24292F"},"children":"() "}],["$","span","9",{"style":{"color":"#CF222E"},"children":"??"}],["$","span","10",{"style":{"color":"#24292F"},"children":" now),"}]],["$","br",null,{}]]}]}]
2b1:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#24292F"},"children":"              type,"}]],["$","br",null,{}]]}]}]
2b2:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            });"}]],["$","br",null,{}]]}]}]
2b3:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2b4:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            switch"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (operation) {"}]],["$","br",null,{}]]}]}]
2b5:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"create\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2b6:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"push"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"create\""}],["$","span","7",{"style":{"color":"#24292F"},"children":"));"}]],["$","br",null,{}]]}]}]
2b7:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2b8:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2b9:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2ba:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"push"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"update\""}],["$","span","7",{"style":{"color":"#24292F"},"children":"));"}]],["$","br",null,{}]]}]}]
2bb:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2bc:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2bd:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              case "}],["$","span","1",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","2",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2be:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (result.id) changes."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"push"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#8250DF"},"children":"makeChange"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(result, "}],["$","span","6",{"style":{"color":"#0A3069"},"children":"\"delete\""}],["$","span","7",{"style":{"color":"#24292F"},"children":"));"}]],["$","br",null,{}]]}]}]
2bf:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2c0:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2c1:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"              // other operations like deleteMany should be implemented separately"}]],["$","br",null,{}]]}]}]
2c2:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2c3:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              default"}],["$","span","1",{"style":{"color":"#24292F"},"children":":"}]],["$","br",null,{}]]}]}]
2c4:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                console."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"warn"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
2c5:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#0A3069"},"children":"                  `Unhandled Prisma operation: ${"}],["$","span","1",{"style":{"color":"#24292F"},"children":"operation"}],["$","span","2",{"style":{"color":"#0A3069"},"children":"} for model: ${"}],["$","span","3",{"style":{"color":"#24292F"},"children":"model"}],["$","span","4",{"style":{"color":"#0A3069"},"children":"}`"}],["$","span","5",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
2c6:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#24292F"},"children":"                );"}]],["$","br",null,{}]]}]}]
2c7:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"                break"}],["$","span","1",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
2c8:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
2c9:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2ca:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (changes."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length"}],["$","span","3",{"style":{"color":"#24292F"},"children":") {"}]],["$","br",null,{}]]}]}]
2cb:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"              await"}],["$","span","1",{"style":{"color":"#24292F"},"children":" DBEventsService."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"write"}],["$","span","3",{"style":{"color":"#24292F"},"children":"(changes);"}]],["$","br",null,{}]]}]}]
2cc:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#24292F"},"children":"            }"}]],["$","br",null,{}]]}]}]
2cd:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
2ce:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"            return"}],["$","span","1",{"style":{"color":"#24292F"},"children":" result;"}]],["$","br",null,{}]]}]}]
2cf:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"2ch"},"children":78}],[["$","span","0",{"style":{"color":"#24292F"},"children":"          },"}]],["$","br",null,{}]]}]}]
2d0:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"2ch"},"children":79}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        },"}]],["$","br",null,{}]]}]}]
2d1:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"2ch"},"children":80}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      },"}]],["$","br",null,{}]]}]}]
2d2:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"2ch"},"children":81}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    });"}]],["$","br",null,{}]]}]}]
2d3:["$","div","81",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":82,"style":{"width":"2ch"},"children":82}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
2d4:["$","div","82",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":83,"style":{"width":"2ch"},"children":83}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
2d5:["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"create\" "}]
2d6:["$","span","3",{"style":{"color":"#FF7B72"},"children":"| "}]
2d7:["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"update\" "}]
2d8:["$","span","5",{"style":{"color":"#FF7B72"},"children":"| "}]
2d9:["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}]
2da:["$","span","7",{"style":{"color":"#C9D1D9"},"children":";"}]
2db:["$","br",null,{}]
2dc:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"};"}]],["$","br",null,{}]]}]}]
2dd:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
2de:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabaseEventsService {"}]],["$","br",null,{}]]}]}]
2df:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DB_KEY "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
2e0:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" INTERVAL "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"1_000"}],["$","span","4",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
2e1:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"Date"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","6",{"style":{"color":"#FFA657"},"children":"();"}]],["$","br",null,{}]]}]}]
2e2:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
2e3:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" redisClient "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"createClient"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"({"}]],["$","br",null,{}]]}]}]
2e4:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    url: process.env."}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"REDIS_URL"}],["$","span","2",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
2e5:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  });"}]],["$","br",null,{}]]}]}]
2e6:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
2e7:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // our in‑process event emitter"}]],["$","br",null,{}]]}]}]
2e8:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" emitter "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"mitt"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"<{"}]],["$","br",null,{}]]}]}]
2e9:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"    db_updates"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","2",{"style":{"color":"#FFA657"},"children":" DBChange[];"}]],["$","br",null,{}]]}]}]
2ea:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  }>();"}]],["$","br",null,{}]]}]}]
2eb:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
2ec:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // ensure Redis is connected"}]],["$","br",null,{}]]}]}]
2ed:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
2ee:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":".redisClient.isOpen) {"}]],["$","br",null,{}]]}]}]
2ef:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
2f0:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"      this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"on"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"error\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"err"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
2f1:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        console."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"error"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"Redis Client Error\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", err);"}]],["$","br",null,{}]]}]}]
2f2:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      });"}]],["$","br",null,{}]]}]}]
2f3:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }"}]],["$","br",null,{}]]}]}]
2f4:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
2f5:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
2f6:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // push one update into our ZSET, with score = timestamp"}]],["$","br",null,{}]]}]}]
2f7:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"write"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"(changes"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","4",{"style":{"color":"#FFA657"},"children":" DBChange[]) "}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
2f8:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (changes."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"return"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
2f9:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
2fa:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
2fb:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
2fc:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // build array of { score, value } objects"}]],["$","br",null,{}]]}]}]
2fd:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"entries "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"map"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(({ "}],["$","span","6",{"style":{"color":"#FFA657"},"children":"id"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","8",{"style":{"color":"#FFA657"},"children":"entityType"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","10",{"style":{"color":"#FFA657"},"children":"type"}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","12",{"style":{"color":"#FFA657"},"children":"date"}],["$","span","13",{"style":{"color":"#C9D1D9"},"children":" }) "}],["$","span","14",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":" ({"}]],["$","br",null,{}]]}]}]
2fe:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      score: Date."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
2ff:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      value: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"JSON"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"stringify"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({ id, entityType, date, type }),"}]],["$","br",null,{}]]}]}]
300:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }));"}]],["$","br",null,{}]]}]}]
301:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
302:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // one multi(): batch ZADD + EXPIRE"}]],["$","br",null,{}]]}]}]
303:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":".redisClient"}]],["$","br",null,{}]]}]}]
304:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"multi"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
305:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"zAdd"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", entries)"}]],["$","br",null,{}]]}]}]
306:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"expire"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","9",{"style":{"color":"#79C0FF"},"children":"INTERVAL "}],["$","span","10",{"style":{"color":"#FF7B72"},"children":"* "}],["$","span","11",{"style":{"color":"#79C0FF"},"children":"60"}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","13",{"style":{"color":"#FF7B72"},"children":"/ "}],["$","span","14",{"style":{"color":"#79C0FF"},"children":"1000"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":")"}]],["$","br",null,{}]]}]}]
307:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"exec"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
308:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
309:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
30a:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // start polling loop"}]],["$","br",null,{}]]}]}]
30b:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"startPolling"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
30c:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"    setInterval"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"async"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" () "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
30d:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
30e:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
30f:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"now "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" Date."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
310:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
311:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"      // 1 single command: get everything with score ∈ (lastTimestamp, now]"}]],["$","br",null,{}]]}]}]
312:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"raw "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= await "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"zRangeByScore"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
313:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
314:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"+ "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"1"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
315:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        now,"}]],["$","br",null,{}]]}]}]
316:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      );"}]],["$","br",null,{}]]}]}]
317:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
318:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (raw."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"> "}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}]
319:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"updates "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" raw."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"map"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"s"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=> "}],["$","span","9",{"style":{"color":"#79C0FF"},"children":"JSON"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","11",{"style":{"color":"#D2A8FF"},"children":"parse"}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":"(s) "}],["$","span","13",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","14",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
31a:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
31b:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"        // advance our cursor"}]],["$","br",null,{}]]}]}]
31c:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" now;"}]],["$","br",null,{}]]}]}]
31d:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
31e:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"        // emit"}]],["$","br",null,{}]]}]}]
31f:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".emitter."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"emit"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"db_updates\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":", updates);"}]],["$","br",null,{}]]}]}]
320:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"2ch"},"children":78}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }"}]],["$","br",null,{}]]}]}]
321:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"2ch"},"children":79}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }, "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"INTERVAL"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
322:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"2ch"},"children":80}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
323:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"2ch"},"children":81}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
324:["$","span","2",{"style":{"color":"#0A3069"},"children":"\"create\" "}]
325:["$","span","3",{"style":{"color":"#CF222E"},"children":"| "}]
326:["$","span","4",{"style":{"color":"#0A3069"},"children":"\"update\" "}]
327:["$","span","5",{"style":{"color":"#CF222E"},"children":"| "}]
328:["$","span","6",{"style":{"color":"#0A3069"},"children":"\"delete\""}]
329:["$","span","7",{"style":{"color":"#24292F"},"children":";"}]
32a:["$","br",null,{}]
32b:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#24292F"},"children":"};"}]],["$","br",null,{}]]}]}]
32c:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
32d:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabaseEventsService {"}]],["$","br",null,{}]]}]}]
32e:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#953800"},"children":" DB_KEY "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
32f:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#953800"},"children":" INTERVAL "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"1_000"}],["$","span","4",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
330:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static"}],["$","span","1",{"style":{"color":"#953800"},"children":" lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#24292F"},"children":"Date"}],["$","span","4",{"style":{"color":"#953800"},"children":"."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","6",{"style":{"color":"#953800"},"children":"();"}]],["$","br",null,{}]]}]}]
331:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
332:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static"}],["$","span","1",{"style":{"color":"#953800"},"children":" redisClient "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"createClient"}],["$","span","4",{"style":{"color":"#953800"},"children":"({"}]],["$","br",null,{}]]}]}]
333:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    url: process.env."}],["$","span","1",{"style":{"color":"#0550AE"},"children":"REDIS_URL"}],["$","span","2",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
334:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#953800"},"children":"  });"}]],["$","br",null,{}]]}]}]
335:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
336:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // our in‑process event emitter"}]],["$","br",null,{}]]}]}]
337:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static"}],["$","span","1",{"style":{"color":"#953800"},"children":" emitter "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"mitt"}],["$","span","4",{"style":{"color":"#953800"},"children":"<{"}]],["$","br",null,{}]]}]}]
338:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#953800"},"children":"    db_updates"}],["$","span","1",{"style":{"color":"#CF222E"},"children":":"}],["$","span","2",{"style":{"color":"#953800"},"children":" DBChange[];"}]],["$","br",null,{}]]}]}]
339:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#953800"},"children":"  }>();"}]],["$","br",null,{}]]}]}]
33a:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
33b:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // ensure Redis is connected"}]],["$","br",null,{}]]}]}]
33c:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
33d:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":".redisClient.isOpen) {"}]],["$","br",null,{}]]}]}]
33e:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
33f:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"      this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"on"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"error\""}],["$","span","5",{"style":{"color":"#24292F"},"children":", ("}],["$","span","6",{"style":{"color":"#953800"},"children":"err"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
340:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        console."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"error"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"Redis Client Error\""}],["$","span","4",{"style":{"color":"#24292F"},"children":", err);"}]],["$","br",null,{}]]}]}]
341:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      });"}]],["$","br",null,{}]]}]}]
342:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }"}]],["$","br",null,{}]]}]}]
343:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
344:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
345:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // push one update into our ZSET, with score = timestamp"}]],["$","br",null,{}]]}]}]
346:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"write"}],["$","span","2",{"style":{"color":"#953800"},"children":"(changes"}],["$","span","3",{"style":{"color":"#CF222E"},"children":":"}],["$","span","4",{"style":{"color":"#953800"},"children":" DBChange[]) "}],["$","span","5",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
347:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (changes."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"return"}],["$","span","7",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
348:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
349:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
34a:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
34b:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // build array of { score, value } objects"}]],["$","br",null,{}]]}]}]
34c:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"entries "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"map"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(({ "}],["$","span","6",{"style":{"color":"#953800"},"children":"id"}],["$","span","7",{"style":{"color":"#24292F"},"children":", "}],["$","span","8",{"style":{"color":"#953800"},"children":"entityType"}],["$","span","9",{"style":{"color":"#24292F"},"children":", "}],["$","span","10",{"style":{"color":"#953800"},"children":"type"}],["$","span","11",{"style":{"color":"#24292F"},"children":", "}],["$","span","12",{"style":{"color":"#953800"},"children":"date"}],["$","span","13",{"style":{"color":"#24292F"},"children":" }) "}],["$","span","14",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","15",{"style":{"color":"#24292F"},"children":" ({"}]],["$","br",null,{}]]}]}]
34d:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      score: Date."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
34e:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      value: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"JSON"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"stringify"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({ id, entityType, date, type }),"}]],["$","br",null,{}]]}]}]
34f:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }));"}]],["$","br",null,{}]]}]}]
350:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
351:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // one multi(): batch ZADD + EXPIRE"}]],["$","br",null,{}]]}]}]
352:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":".redisClient"}]],["$","br",null,{}]]}]}]
353:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"multi"}],["$","span","2",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
354:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"zAdd"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":"."}],["$","span","5",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#24292F"},"children":", entries)"}]],["$","br",null,{}]]}]}]
355:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"expire"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":"."}],["$","span","5",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#24292F"},"children":", ("}],["$","span","7",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","8",{"style":{"color":"#24292F"},"children":"."}],["$","span","9",{"style":{"color":"#0550AE"},"children":"INTERVAL "}],["$","span","10",{"style":{"color":"#CF222E"},"children":"* "}],["$","span","11",{"style":{"color":"#0550AE"},"children":"60"}],["$","span","12",{"style":{"color":"#24292F"},"children":") "}],["$","span","13",{"style":{"color":"#CF222E"},"children":"/ "}],["$","span","14",{"style":{"color":"#0550AE"},"children":"1000"}],["$","span","15",{"style":{"color":"#24292F"},"children":")"}]],["$","br",null,{}]]}]}]
356:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"exec"}],["$","span","2",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
357:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
358:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
359:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // start polling loop"}]],["$","br",null,{}]]}]}]
35a:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"startPolling"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
35b:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"    setInterval"}],["$","span","1",{"style":{"color":"#24292F"},"children":"("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"async"}],["$","span","3",{"style":{"color":"#24292F"},"children":" () "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","5",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
35c:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
35d:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
35e:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"now "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" Date."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","5",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
35f:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
360:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"      // 1 single command: get everything with score ∈ (lastTimestamp, now]"}]],["$","br",null,{}]]}]}]
361:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"raw "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= await "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"zRangeByScore"}],["$","span","6",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
362:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":"."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","3",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
363:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"+ "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"1"}],["$","span","4",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
364:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        now,"}]],["$","br",null,{}]]}]}]
365:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      );"}]],["$","br",null,{}]]}]}]
366:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
367:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (raw."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"> "}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") {"}]],["$","br",null,{}]]}]}]
368:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"updates "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" raw."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"map"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(("}],["$","span","6",{"style":{"color":"#953800"},"children":"s"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=> "}],["$","span","9",{"style":{"color":"#0550AE"},"children":"JSON"}],["$","span","10",{"style":{"color":"#24292F"},"children":"."}],["$","span","11",{"style":{"color":"#8250DF"},"children":"parse"}],["$","span","12",{"style":{"color":"#24292F"},"children":"(s) "}],["$","span","13",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","14",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","15",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
369:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
36a:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"        // advance our cursor"}]],["$","br",null,{}]]}]}]
36b:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" now;"}]],["$","br",null,{}]]}]}]
36c:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
36d:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"        // emit"}]],["$","br",null,{}]]}]}]
36e:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".emitter."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"emit"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"db_updates\""}],["$","span","5",{"style":{"color":"#24292F"},"children":", updates);"}]],["$","br",null,{}]]}]}]
36f:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"2ch"},"children":78}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }"}]],["$","br",null,{}]]}]}]
370:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"2ch"},"children":79}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }, "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#0550AE"},"children":"INTERVAL"}],["$","span","4",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
371:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"2ch"},"children":80}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
372:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"2ch"},"children":81}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
373:["$","span","2",{"style":{"color":"#A5D6FF"},"children":"\"create\" "}]
374:["$","span","3",{"style":{"color":"#FF7B72"},"children":"| "}]
375:["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"update\" "}]
376:["$","span","5",{"style":{"color":"#FF7B72"},"children":"| "}]
377:["$","span","6",{"style":{"color":"#A5D6FF"},"children":"\"delete\""}]
378:["$","span","7",{"style":{"color":"#C9D1D9"},"children":";"}]
379:["$","br",null,{}]
37a:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"};"}]],["$","br",null,{}]]}]}]
37b:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
37c:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"export default class"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DatabaseEventsService {"}]],["$","br",null,{}]]}]}]
37d:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" DB_KEY "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
37e:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" INTERVAL "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"1_000"}],["$","span","4",{"style":{"color":"#FFA657"},"children":";"}]],["$","br",null,{}]]}]}]
37f:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"Date"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","6",{"style":{"color":"#FFA657"},"children":"();"}]],["$","br",null,{}]]}]}]
380:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
381:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" redisClient "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"createClient"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"({"}]],["$","br",null,{}]]}]}]
382:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    url: process.env."}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"REDIS_URL"}],["$","span","2",{"style":{"color":"#FFA657"},"children":","}]],["$","br",null,{}]]}]}]
383:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  });"}]],["$","br",null,{}]]}]}]
384:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
385:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // our in‑process event emitter"}]],["$","br",null,{}]]}]}]
386:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static"}],["$","span","1",{"style":{"color":"#FFA657"},"children":" emitter "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= "}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"mitt"}],["$","span","4",{"style":{"color":"#FFA657"},"children":"<{"}]],["$","br",null,{}]]}]}]
387:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"    db_updates"}],["$","span","1",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","2",{"style":{"color":"#FFA657"},"children":" DBChange[];"}]],["$","br",null,{}]]}]}]
388:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"  }>();"}]],["$","br",null,{}]]}]}]
389:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
38a:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // ensure Redis is connected"}]],["$","br",null,{}]]}]}]
38b:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  private static async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
38c:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" ("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"!"}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":".redisClient.isOpen) {"}]],["$","br",null,{}]]}]}]
38d:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
38e:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"      this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"on"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"error\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"err"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
38f:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        console."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"error"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#A5D6FF"},"children":"\"Redis Client Error\""}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":", err);"}]],["$","br",null,{}]]}]}]
390:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      });"}]],["$","br",null,{}]]}]}]
391:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }"}]],["$","br",null,{}]]}]}]
392:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
393:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
394:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // push one update into our ZSET, with score = timestamp"}]],["$","br",null,{}]]}]}]
395:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static async "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"write"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"(changes"}],["$","span","3",{"style":{"color":"#FF7B72"},"children":":"}],["$","span","4",{"style":{"color":"#FFA657"},"children":" DBChange[]) "}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
396:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (changes."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"=== "}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","6",{"style":{"color":"#FF7B72"},"children":"return"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":";"}]],["$","br",null,{}]]}]}]
397:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
398:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
399:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
39a:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // build array of { score, value } objects"}]],["$","br",null,{}]]}]}]
39b:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"entries "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" changes."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"map"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(({ "}],["$","span","6",{"style":{"color":"#FFA657"},"children":"id"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","8",{"style":{"color":"#FFA657"},"children":"entityType"}],["$","span","9",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","10",{"style":{"color":"#FFA657"},"children":"type"}],["$","span","11",{"style":{"color":"#C9D1D9"},"children":", "}],["$","span","12",{"style":{"color":"#FFA657"},"children":"date"}],["$","span","13",{"style":{"color":"#C9D1D9"},"children":" }) "}],["$","span","14",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":" ({"}]],["$","br",null,{}]]}]}]
39c:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      score: Date."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"(),"}]],["$","br",null,{}]]}]}]
39d:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      value: "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"JSON"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"stringify"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"({ id, entityType, date, type }),"}]],["$","br",null,{}]]}]}]
39e:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }));"}]],["$","br",null,{}]]}]}]
39f:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3a0:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"    // one multi(): batch ZADD + EXPIRE"}]],["$","br",null,{}]]}]}]
3a1:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"    await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":".redisClient"}]],["$","br",null,{}]]}]}]
3a2:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"multi"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"()"}]],["$","br",null,{}]]}]}]
3a3:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"zAdd"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", entries)"}]],["$","br",null,{}]]}]}]
3a4:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"expire"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","5",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":", ("}],["$","span","7",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","8",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","9",{"style":{"color":"#79C0FF"},"children":"INTERVAL "}],["$","span","10",{"style":{"color":"#FF7B72"},"children":"* "}],["$","span","11",{"style":{"color":"#79C0FF"},"children":"60"}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","13",{"style":{"color":"#FF7B72"},"children":"/ "}],["$","span","14",{"style":{"color":"#79C0FF"},"children":"1000"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":")"}]],["$","br",null,{}]]}]}]
3a5:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      ."}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"exec"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
3a6:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
3a7:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#FFA657"},"children":""}]],["$","br",null,{}]]}]}]
3a8:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"  // start polling loop"}]],["$","br",null,{}]]}]}]
3a9:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"  public static "}],["$","span","1",{"style":{"color":"#D2A8FF"},"children":"startPolling"}],["$","span","2",{"style":{"color":"#FFA657"},"children":"() "}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"{"}]],["$","br",null,{}]]}]}]
3aa:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#D2A8FF"},"children":"    setInterval"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"async"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" () "}],["$","span","4",{"style":{"color":"#FF7B72"},"children":"=>"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":" {"}]],["$","br",null,{}]]}]}]
3ab:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      await "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#D2A8FF"},"children":"connect"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
3ac:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3ad:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"now "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" Date."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"now"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"();"}]],["$","br",null,{}]]}]}]
3ae:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3af:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"      // 1 single command: get everything with score ∈ (lastTimestamp, now]"}]],["$","br",null,{}]]}]}]
3b0:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"raw "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"= await "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":".redisClient."}],["$","span","5",{"style":{"color":"#D2A8FF"},"children":"zRangeByScore"}],["$","span","6",{"style":{"color":"#C9D1D9"},"children":"("}]],["$","br",null,{}]]}]}]
3b1:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"DB_KEY"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
3b2:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"+ "}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"1"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":","}]],["$","br",null,{}]]}]}]
3b3:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"        now,"}]],["$","br",null,{}]]}]}]
3b4:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      );"}]],["$","br",null,{}]]}]}]
3b5:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3b6:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"      if"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":" (raw."}],["$","span","2",{"style":{"color":"#79C0FF"},"children":"length "}],["$","span","3",{"style":{"color":"#FF7B72"},"children":"> "}],["$","span","4",{"style":{"color":"#79C0FF"},"children":"0"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":") {"}]],["$","br",null,{}]]}]}]
3b7:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#FF7B72"},"children":"        const "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"updates "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" raw."}],["$","span","4",{"style":{"color":"#D2A8FF"},"children":"map"}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":"(("}],["$","span","6",{"style":{"color":"#FFA657"},"children":"s"}],["$","span","7",{"style":{"color":"#C9D1D9"},"children":") "}],["$","span","8",{"style":{"color":"#FF7B72"},"children":"=> "}],["$","span","9",{"style":{"color":"#79C0FF"},"children":"JSON"}],["$","span","10",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","11",{"style":{"color":"#D2A8FF"},"children":"parse"}],["$","span","12",{"style":{"color":"#C9D1D9"},"children":"(s) "}],["$","span","13",{"style":{"color":"#FF7B72"},"children":"as "}],["$","span","14",{"style":{"color":"#FFA657"},"children":"DBChange"}],["$","span","15",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
3b8:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3b9:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"        // advance our cursor"}]],["$","br",null,{}]]}]}]
3ba:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#FF7B72"},"children":"="}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":" now;"}]],["$","br",null,{}]]}]}]
3bb:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":""}]],["$","br",null,{}]]}]}]
3bc:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#8B949E"},"children":"        // emit"}]],["$","br",null,{}]]}]}]
3bd:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#79C0FF"},"children":"        this"}],["$","span","1",{"style":{"color":"#C9D1D9"},"children":".emitter."}],["$","span","2",{"style":{"color":"#D2A8FF"},"children":"emit"}],["$","span","3",{"style":{"color":"#C9D1D9"},"children":"("}],["$","span","4",{"style":{"color":"#A5D6FF"},"children":"\"db_updates\""}],["$","span","5",{"style":{"color":"#C9D1D9"},"children":", updates);"}]],["$","br",null,{}]]}]}]
3be:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"2ch"},"children":78}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"      }"}]],["$","br",null,{}]]}]}]
3bf:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"2ch"},"children":79}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"    }, "}],["$","span","1",{"style":{"color":"#79C0FF"},"children":"this"}],["$","span","2",{"style":{"color":"#C9D1D9"},"children":"."}],["$","span","3",{"style":{"color":"#79C0FF"},"children":"INTERVAL"}],["$","span","4",{"style":{"color":"#C9D1D9"},"children":");"}]],["$","br",null,{}]]}]}]
3c0:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"2ch"},"children":80}],[["$","span","0",{"style":{"color":"#C9D1D9"},"children":"  }"}]],["$","br",null,{}]]}]}]
3c1:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"2ch"},"children":81}],[["$","span","0",{"style":{"color":"#FFA657"},"children":"}"}]],["$","br",null,{}]]}]}]
3c2:["$","span","2",{"style":{"color":"#0A3069"},"children":"\"create\" "}]
3c3:["$","span","3",{"style":{"color":"#CF222E"},"children":"| "}]
3c4:["$","span","4",{"style":{"color":"#0A3069"},"children":"\"update\" "}]
3c5:["$","span","5",{"style":{"color":"#CF222E"},"children":"| "}]
3c6:["$","span","6",{"style":{"color":"#0A3069"},"children":"\"delete\""}]
3c7:["$","span","7",{"style":{"color":"#24292F"},"children":";"}]
3c8:["$","br",null,{}]
3c9:["$","div","9",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":10,"style":{"width":"2ch"},"children":10}],[["$","span","0",{"style":{"color":"#24292F"},"children":"};"}]],["$","br",null,{}]]}]}]
3ca:["$","div","10",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":11,"style":{"width":"2ch"},"children":11}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3cb:["$","div","11",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":12,"style":{"width":"2ch"},"children":12}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"export default class"}],["$","span","1",{"style":{"color":"#953800"},"children":" DatabaseEventsService {"}]],["$","br",null,{}]]}]}]
3cc:["$","div","12",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":13,"style":{"width":"2ch"},"children":13}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#953800"},"children":" DB_KEY "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"db_updates\""}],["$","span","4",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
3cd:["$","div","13",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":14,"style":{"width":"2ch"},"children":14}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static readonly"}],["$","span","1",{"style":{"color":"#953800"},"children":" INTERVAL "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"1_000"}],["$","span","4",{"style":{"color":"#953800"},"children":";"}]],["$","br",null,{}]]}]}]
3ce:["$","div","14",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":15,"style":{"width":"2ch"},"children":15}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static"}],["$","span","1",{"style":{"color":"#953800"},"children":" lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#24292F"},"children":"Date"}],["$","span","4",{"style":{"color":"#953800"},"children":"."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","6",{"style":{"color":"#953800"},"children":"();"}]],["$","br",null,{}]]}]}]
3cf:["$","div","15",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":16,"style":{"width":"2ch"},"children":16}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
3d0:["$","div","16",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":17,"style":{"width":"2ch"},"children":17}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static"}],["$","span","1",{"style":{"color":"#953800"},"children":" redisClient "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"createClient"}],["$","span","4",{"style":{"color":"#953800"},"children":"({"}]],["$","br",null,{}]]}]}]
3d1:["$","div","17",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":18,"style":{"width":"2ch"},"children":18}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    url: process.env."}],["$","span","1",{"style":{"color":"#0550AE"},"children":"REDIS_URL"}],["$","span","2",{"style":{"color":"#953800"},"children":","}]],["$","br",null,{}]]}]}]
3d2:["$","div","18",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":19,"style":{"width":"2ch"},"children":19}],[["$","span","0",{"style":{"color":"#953800"},"children":"  });"}]],["$","br",null,{}]]}]}]
3d3:["$","div","19",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":20,"style":{"width":"2ch"},"children":20}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
3d4:["$","div","20",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":21,"style":{"width":"2ch"},"children":21}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // our in‑process event emitter"}]],["$","br",null,{}]]}]}]
3d5:["$","div","21",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":22,"style":{"width":"2ch"},"children":22}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static"}],["$","span","1",{"style":{"color":"#953800"},"children":" emitter "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= "}],["$","span","3",{"style":{"color":"#8250DF"},"children":"mitt"}],["$","span","4",{"style":{"color":"#953800"},"children":"<{"}]],["$","br",null,{}]]}]}]
3d6:["$","div","22",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":23,"style":{"width":"2ch"},"children":23}],[["$","span","0",{"style":{"color":"#953800"},"children":"    db_updates"}],["$","span","1",{"style":{"color":"#CF222E"},"children":":"}],["$","span","2",{"style":{"color":"#953800"},"children":" DBChange[];"}]],["$","br",null,{}]]}]}]
3d7:["$","div","23",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":24,"style":{"width":"2ch"},"children":24}],[["$","span","0",{"style":{"color":"#953800"},"children":"  }>();"}]],["$","br",null,{}]]}]}]
3d8:["$","div","24",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":25,"style":{"width":"2ch"},"children":25}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
3d9:["$","div","25",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":26,"style":{"width":"2ch"},"children":26}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // ensure Redis is connected"}]],["$","br",null,{}]]}]}]
3da:["$","div","26",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":27,"style":{"width":"2ch"},"children":27}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  private static async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
3db:["$","div","27",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":28,"style":{"width":"2ch"},"children":28}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" ("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"!"}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":".redisClient.isOpen) {"}]],["$","br",null,{}]]}]}]
3dc:["$","div","28",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":29,"style":{"width":"2ch"},"children":29}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
3dd:["$","div","29",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":30,"style":{"width":"2ch"},"children":30}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"      this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"on"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"error\""}],["$","span","5",{"style":{"color":"#24292F"},"children":", ("}],["$","span","6",{"style":{"color":"#953800"},"children":"err"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","9",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
3de:["$","div","30",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":31,"style":{"width":"2ch"},"children":31}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        console."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"error"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0A3069"},"children":"\"Redis Client Error\""}],["$","span","4",{"style":{"color":"#24292F"},"children":", err);"}]],["$","br",null,{}]]}]}]
3df:["$","div","31",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":32,"style":{"width":"2ch"},"children":32}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      });"}]],["$","br",null,{}]]}]}]
3e0:["$","div","32",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":33,"style":{"width":"2ch"},"children":33}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }"}]],["$","br",null,{}]]}]}]
3e1:["$","div","33",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":34,"style":{"width":"2ch"},"children":34}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
3e2:["$","div","34",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":35,"style":{"width":"2ch"},"children":35}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
3e3:["$","div","35",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":36,"style":{"width":"2ch"},"children":36}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // push one update into our ZSET, with score = timestamp"}]],["$","br",null,{}]]}]}]
3e4:["$","div","36",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":37,"style":{"width":"2ch"},"children":37}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static async "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"write"}],["$","span","2",{"style":{"color":"#953800"},"children":"(changes"}],["$","span","3",{"style":{"color":"#CF222E"},"children":":"}],["$","span","4",{"style":{"color":"#953800"},"children":" DBChange[]) "}],["$","span","5",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
3e5:["$","div","37",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":38,"style":{"width":"2ch"},"children":38}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (changes."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"=== "}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") "}],["$","span","6",{"style":{"color":"#CF222E"},"children":"return"}],["$","span","7",{"style":{"color":"#24292F"},"children":";"}]],["$","br",null,{}]]}]}]
3e6:["$","div","38",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":39,"style":{"width":"2ch"},"children":39}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3e7:["$","div","39",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":40,"style":{"width":"2ch"},"children":40}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
3e8:["$","div","40",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":41,"style":{"width":"2ch"},"children":41}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3e9:["$","div","41",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":42,"style":{"width":"2ch"},"children":42}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // build array of { score, value } objects"}]],["$","br",null,{}]]}]}]
3ea:["$","div","42",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":43,"style":{"width":"2ch"},"children":43}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"entries "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" changes."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"map"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(({ "}],["$","span","6",{"style":{"color":"#953800"},"children":"id"}],["$","span","7",{"style":{"color":"#24292F"},"children":", "}],["$","span","8",{"style":{"color":"#953800"},"children":"entityType"}],["$","span","9",{"style":{"color":"#24292F"},"children":", "}],["$","span","10",{"style":{"color":"#953800"},"children":"type"}],["$","span","11",{"style":{"color":"#24292F"},"children":", "}],["$","span","12",{"style":{"color":"#953800"},"children":"date"}],["$","span","13",{"style":{"color":"#24292F"},"children":" }) "}],["$","span","14",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","15",{"style":{"color":"#24292F"},"children":" ({"}]],["$","br",null,{}]]}]}]
3eb:["$","div","43",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":44,"style":{"width":"2ch"},"children":44}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      score: Date."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","2",{"style":{"color":"#24292F"},"children":"(),"}]],["$","br",null,{}]]}]}]
3ec:["$","div","44",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":45,"style":{"width":"2ch"},"children":45}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      value: "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"JSON"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"stringify"}],["$","span","4",{"style":{"color":"#24292F"},"children":"({ id, entityType, date, type }),"}]],["$","br",null,{}]]}]}]
3ed:["$","div","45",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":46,"style":{"width":"2ch"},"children":46}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }));"}]],["$","br",null,{}]]}]}]
3ee:["$","div","46",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":47,"style":{"width":"2ch"},"children":47}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3ef:["$","div","47",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":48,"style":{"width":"2ch"},"children":48}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"    // one multi(): batch ZADD + EXPIRE"}]],["$","br",null,{}]]}]}]
3f0:["$","div","48",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":49,"style":{"width":"2ch"},"children":49}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"    await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":".redisClient"}]],["$","br",null,{}]]}]}]
3f1:["$","div","49",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":50,"style":{"width":"2ch"},"children":50}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"multi"}],["$","span","2",{"style":{"color":"#24292F"},"children":"()"}]],["$","br",null,{}]]}]}]
3f2:["$","div","50",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":51,"style":{"width":"2ch"},"children":51}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"zAdd"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":"."}],["$","span","5",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#24292F"},"children":", entries)"}]],["$","br",null,{}]]}]}]
3f3:["$","div","51",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":52,"style":{"width":"2ch"},"children":52}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"expire"}],["$","span","2",{"style":{"color":"#24292F"},"children":"("}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":"."}],["$","span","5",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","6",{"style":{"color":"#24292F"},"children":", ("}],["$","span","7",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","8",{"style":{"color":"#24292F"},"children":"."}],["$","span","9",{"style":{"color":"#0550AE"},"children":"INTERVAL "}],["$","span","10",{"style":{"color":"#CF222E"},"children":"* "}],["$","span","11",{"style":{"color":"#0550AE"},"children":"60"}],["$","span","12",{"style":{"color":"#24292F"},"children":") "}],["$","span","13",{"style":{"color":"#CF222E"},"children":"/ "}],["$","span","14",{"style":{"color":"#0550AE"},"children":"1000"}],["$","span","15",{"style":{"color":"#24292F"},"children":")"}]],["$","br",null,{}]]}]}]
3f4:["$","div","52",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":53,"style":{"width":"2ch"},"children":53}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      ."}],["$","span","1",{"style":{"color":"#8250DF"},"children":"exec"}],["$","span","2",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
3f5:["$","div","53",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":54,"style":{"width":"2ch"},"children":54}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
3f6:["$","div","54",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":55,"style":{"width":"2ch"},"children":55}],[["$","span","0",{"style":{"color":"#953800"},"children":""}]],["$","br",null,{}]]}]}]
3f7:["$","div","55",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":56,"style":{"width":"2ch"},"children":56}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"  // start polling loop"}]],["$","br",null,{}]]}]}]
3f8:["$","div","56",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":57,"style":{"width":"2ch"},"children":57}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"  public static "}],["$","span","1",{"style":{"color":"#8250DF"},"children":"startPolling"}],["$","span","2",{"style":{"color":"#953800"},"children":"() "}],["$","span","3",{"style":{"color":"#24292F"},"children":"{"}]],["$","br",null,{}]]}]}]
3f9:["$","div","57",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":58,"style":{"width":"2ch"},"children":58}],[["$","span","0",{"style":{"color":"#8250DF"},"children":"    setInterval"}],["$","span","1",{"style":{"color":"#24292F"},"children":"("}],["$","span","2",{"style":{"color":"#CF222E"},"children":"async"}],["$","span","3",{"style":{"color":"#24292F"},"children":" () "}],["$","span","4",{"style":{"color":"#CF222E"},"children":"=>"}],["$","span","5",{"style":{"color":"#24292F"},"children":" {"}]],["$","br",null,{}]]}]}]
3fa:["$","div","58",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":59,"style":{"width":"2ch"},"children":59}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      await "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#8250DF"},"children":"connect"}],["$","span","4",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
3fb:["$","div","59",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":60,"style":{"width":"2ch"},"children":60}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3fc:["$","div","60",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":61,"style":{"width":"2ch"},"children":61}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"now "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" Date."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"now"}],["$","span","5",{"style":{"color":"#24292F"},"children":"();"}]],["$","br",null,{}]]}]}]
3fd:["$","div","61",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":62,"style":{"width":"2ch"},"children":62}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
3fe:["$","div","62",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":63,"style":{"width":"2ch"},"children":63}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"      // 1 single command: get everything with score ∈ (lastTimestamp, now]"}]],["$","br",null,{}]]}]}]
3ff:["$","div","63",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":64,"style":{"width":"2ch"},"children":64}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"raw "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"= await "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","4",{"style":{"color":"#24292F"},"children":".redisClient."}],["$","span","5",{"style":{"color":"#8250DF"},"children":"zRangeByScore"}],["$","span","6",{"style":{"color":"#24292F"},"children":"("}]],["$","br",null,{}]]}]}]
400:["$","div","64",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":65,"style":{"width":"2ch"},"children":65}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":"."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"DB_KEY"}],["$","span","3",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
401:["$","div","65",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":66,"style":{"width":"2ch"},"children":66}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"+ "}],["$","span","3",{"style":{"color":"#0550AE"},"children":"1"}],["$","span","4",{"style":{"color":"#24292F"},"children":","}]],["$","br",null,{}]]}]}]
402:["$","div","66",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":67,"style":{"width":"2ch"},"children":67}],[["$","span","0",{"style":{"color":"#24292F"},"children":"        now,"}]],["$","br",null,{}]]}]}]
403:["$","div","67",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":68,"style":{"width":"2ch"},"children":68}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      );"}]],["$","br",null,{}]]}]}]
404:["$","div","68",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":69,"style":{"width":"2ch"},"children":69}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
405:["$","div","69",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":70,"style":{"width":"2ch"},"children":70}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"      if"}],["$","span","1",{"style":{"color":"#24292F"},"children":" (raw."}],["$","span","2",{"style":{"color":"#0550AE"},"children":"length "}],["$","span","3",{"style":{"color":"#CF222E"},"children":"> "}],["$","span","4",{"style":{"color":"#0550AE"},"children":"0"}],["$","span","5",{"style":{"color":"#24292F"},"children":") {"}]],["$","br",null,{}]]}]}]
406:["$","div","70",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":71,"style":{"width":"2ch"},"children":71}],[["$","span","0",{"style":{"color":"#CF222E"},"children":"        const "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"updates "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" raw."}],["$","span","4",{"style":{"color":"#8250DF"},"children":"map"}],["$","span","5",{"style":{"color":"#24292F"},"children":"(("}],["$","span","6",{"style":{"color":"#953800"},"children":"s"}],["$","span","7",{"style":{"color":"#24292F"},"children":") "}],["$","span","8",{"style":{"color":"#CF222E"},"children":"=> "}],["$","span","9",{"style":{"color":"#0550AE"},"children":"JSON"}],["$","span","10",{"style":{"color":"#24292F"},"children":"."}],["$","span","11",{"style":{"color":"#8250DF"},"children":"parse"}],["$","span","12",{"style":{"color":"#24292F"},"children":"(s) "}],["$","span","13",{"style":{"color":"#CF222E"},"children":"as "}],["$","span","14",{"style":{"color":"#953800"},"children":"DBChange"}],["$","span","15",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
407:["$","div","71",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":72,"style":{"width":"2ch"},"children":72}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
408:["$","div","72",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":73,"style":{"width":"2ch"},"children":73}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"        // advance our cursor"}]],["$","br",null,{}]]}]}]
409:["$","div","73",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":74,"style":{"width":"2ch"},"children":74}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".lastTimestamp "}],["$","span","2",{"style":{"color":"#CF222E"},"children":"="}],["$","span","3",{"style":{"color":"#24292F"},"children":" now;"}]],["$","br",null,{}]]}]}]
40a:["$","div","74",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":75,"style":{"width":"2ch"},"children":75}],[["$","span","0",{"style":{"color":"#24292F"},"children":""}]],["$","br",null,{}]]}]}]
40b:["$","div","75",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":76,"style":{"width":"2ch"},"children":76}],[["$","span","0",{"style":{"color":"#6E7781"},"children":"        // emit"}]],["$","br",null,{}]]}]}]
40c:["$","div","76",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":77,"style":{"width":"2ch"},"children":77}],[["$","span","0",{"style":{"color":"#0550AE"},"children":"        this"}],["$","span","1",{"style":{"color":"#24292F"},"children":".emitter."}],["$","span","2",{"style":{"color":"#8250DF"},"children":"emit"}],["$","span","3",{"style":{"color":"#24292F"},"children":"("}],["$","span","4",{"style":{"color":"#0A3069"},"children":"\"db_updates\""}],["$","span","5",{"style":{"color":"#24292F"},"children":", updates);"}]],["$","br",null,{}]]}]}]
40d:["$","div","77",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":78,"style":{"width":"2ch"},"children":78}],[["$","span","0",{"style":{"color":"#24292F"},"children":"      }"}]],["$","br",null,{}]]}]}]
40e:["$","div","78",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":79,"style":{"width":"2ch"},"children":79}],[["$","span","0",{"style":{"color":"#24292F"},"children":"    }, "}],["$","span","1",{"style":{"color":"#0550AE"},"children":"this"}],["$","span","2",{"style":{"color":"#24292F"},"children":"."}],["$","span","3",{"style":{"color":"#0550AE"},"children":"INTERVAL"}],["$","span","4",{"style":{"color":"#24292F"},"children":");"}]],["$","br",null,{}]]}]}]
40f:["$","div","79",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":80,"style":{"width":"2ch"},"children":80}],[["$","span","0",{"style":{"color":"#24292F"},"children":"  }"}]],["$","br",null,{}]]}]}]
410:["$","div","80",{"style":{"padding":"0 1em"},"children":["$","span",null,{"children":[["$","span",null,{"data-bright-ln":81,"style":{"width":"2ch"},"children":81}],[["$","span","0",{"style":{"color":"#953800"},"children":"}"}]],["$","br",null,{}]]}]}]
