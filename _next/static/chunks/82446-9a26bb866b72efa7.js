(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82446],{91:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyComponentsSchemas=function(e,t,r){let n="components/schemas";if(!t||!Object.keys(t).length)return e;let o=i(e);o.$defs=o.$defs||{};let l=new Set;return function e(c){if(!c||"object"!=typeof c)return c;if(Array.isArray(c))return c.map(t=>e(t));let u={...c},d=u.$ref;if(d&&"string"==typeof d&&d.startsWith(`#/${n}/`)){let c=d.replace(`#/${n}/`,"");t[c]?(u.$ref=`#/$defs/${c}`,u["x-tsType"]??=`Mixins.${(0,s.upperFirst)((0,a.camelCase)(r))}.${(0,s.upperFirst)((0,a.camelCase)(c))}`):delete u.$ref,!l.has(c)&&t[c]&&(l.add(c),o.$defs[c]=e(i(t[c])))}for(let t in u)Object.prototype.hasOwnProperty.call(u,t)&&(u[t]=e(u[t]));return u}(o)};let a=r(3599),s=r(82165);function i(e){if(null===e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(i);let t={};for(let[r,a]of Object.entries(e))a instanceof Date||a instanceof RegExp||"function"==typeof a||(t[r]=i(a));return t}},758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584);t.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?(0,a.str)`must contain at least ${e} valid item(s)`:(0,a.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?(0,a._)`{minContains: ${e}}`:(0,a._)`{minContains: ${e}, maxContains: ${t}}`},code(e){let t,r,{gen:i,schema:n,parentSchema:o,data:l,it:c}=e,{minContains:u,maxContains:d}=o;c.opts.next?(t=void 0===u?1:u,r=d):t=1;let p=i.const("len",(0,a._)`${l}.length`);if(e.setParams({min:t,max:r}),void 0===r&&0===t)return void(0,s.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==r&&t>r){(0,s.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,s.alwaysValidSchema)(c,n)){let s=(0,a._)`${p} >= ${t}`;void 0!==r&&(s=(0,a._)`${s} && ${p} <= ${r}`),e.pass(s);return}c.items=!0;let m=i.name("valid");function f(){let e=i.name("_valid"),s=i.let("count",0);h(e,()=>i.if(e,()=>{var e;return e=s,void(i.code((0,a._)`${e}++`),void 0===r?i.if((0,a._)`${e} >= ${t}`,()=>i.assign(m,!0).break()):(i.if((0,a._)`${e} > ${r}`,()=>i.assign(m,!1).break()),1===t?i.assign(m,!0):i.if((0,a._)`${e} >= ${t}`,()=>i.assign(m,!0))))}))}function h(t,r){i.forRange("i",0,p,a=>{e.subschema({keyword:"contains",dataProp:a,dataPropType:s.Type.Num,compositeRule:!0},t),r()})}void 0===r&&1===t?h(m,()=>i.if(m,()=>i.break())):0===t?(i.let(m,!0),void 0!==r&&i.if((0,a._)`${l}.length > 0`,f)):(i.let(m,!1),f()),e.result(m,()=>e.reset())}}},947:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},1008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358);t.default={data:new a.Name("data"),valCxt:new a.Name("valCxt"),instancePath:new a.Name("instancePath"),parentData:new a.Name("parentData"),parentDataProperty:new a.Name("parentDataProperty"),rootData:new a.Name("rootData"),dynamicAnchors:new a.Name("dynamicAnchors"),vErrors:new a.Name("vErrors"),errors:new a.Name("errors"),this:new a.Name("this"),self:new a.Name("self"),scope:new a.Name("scope"),json:new a.Name("json"),jsonPos:new a.Name("jsonPos"),jsonLen:new a.Name("jsonLen"),jsonPart:new a.Name("jsonPart")}},2212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vovkSchemaToOpenAPI=function({rootEntry:e,schema:t,openAPIObject:r={},package:o={name:"my-rpc-client"}}){let l={},c={};for(let[r,s]of Object.entries(t.segments??{}))for(let t of Object.values(s.controllers))for(let[s,u]of Object.entries(t.handlers??{}))if(u.openapi){let[d,p]=n(u?.validation?.query),[m,f]=n(u?.validation?.body),[h,y]=n(u?.validation?.params),[v,b]=n(u?.validation?.output),[g,$]=n(u?.validation?.iteration);Object.assign(c,p,f,y,b,$);let{ts:_,rs:k,py:E}=(0,a.createCodeExamples)({package:o,handlerName:s,handlerSchema:u,controllerSchema:t}),O=d&&"type"in d&&"properties"in d?Object.entries(d.properties??{}).map(([e,t])=>({name:e,in:"query",required:!!d.required&&d.required.includes(e),schema:t})):null,w=h&&"type"in h&&"properties"in h?Object.entries(h.properties??{}).map(([e,t])=>({name:e,in:"path",required:!!h.required&&h.required.includes(e),schema:t})):null,P="/"+[e.replace(/^\/+|\/+$/g,""),r,t.prefix,u.path].filter(Boolean).join("/");l[P]=l[P]??{};let S=u.httpMethod.toLowerCase();l[P][S]??={},l[P][S]={...u.openapi,...l[P][S],"x-codeSamples":[...l[P][S]["x-codeSamples"]??[],...u.openapi["x-codeSamples"]??[],{label:"TypeScript RPC",lang:"typescript",source:_},{label:"Python RPC",lang:"python",source:E},{label:"Rust RPC",lang:"rust",source:k}],...O||w?{parameters:u.openapi.parameters??[...O||[],...w||[]]}:{},...l[P][S].parameters?{parameters:l[P][S].parameters}:{},...v&&"type"in v?{responses:{200:{description:"description"in v?v.description:"Success",content:{"application/json":{schema:v}}},...u.openapi?.responses}}:{},...g&&"type"in g?{responses:{200:{description:"description"in g?g.description:"JSON Lines response",content:{"application/jsonl":{schema:{...g,examples:g.examples??[[JSON.stringify((0,i.getJSONSchemaSample)(g)),JSON.stringify((0,i.getJSONSchemaSample)(g)),JSON.stringify((0,i.getJSONSchemaSample)(g))].join("\n")]}}}},...u.openapi?.responses}}:{},...l[P][S].responses?{responses:l[P][S].responses}:{},...m&&"type"in m?{requestBody:u.openapi?.requestBody??{description:"description"in m?m.description:"Request body",required:!0,content:{"application/json":{schema:m}}}}:{},...l[P][S].requestBody?{requestBody:l[P][S].requestBody}:{},tags:l[P][S].tags??u.openapi?.tags}}return{...r,openapi:"3.1.0",info:{title:o?.description??"API",version:o?.version??"0.0.1",...r?.info},components:{schemas:{...r?.components?.schemas??c,HttpStatus:{type:"integer",description:"HTTP status code",enum:Object.keys(s.HttpStatus).map(e=>s.HttpStatus[e]).filter(Boolean).filter(e=>"number"==typeof e)},VovkErrorResponse:{type:"object",description:"Vovk error response",properties:{cause:{description:"Error cause of any shape"},statusCode:{$ref:"#/components/schemas/HttpStatus"},message:{type:"string",description:"Error message"},isError:{type:"boolean",const:!0,description:"Indicates that this object represents an error"}},required:["statusCode","message","isError"],additionalProperties:!1},...r?.components?.schemas}},paths:l}};let a=r(42275),s=r(12784),i=r(26388);function n(e){if(!e)return[void 0,{}];let t={},r=(e,a=[])=>{if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(e=>r(e,a));let s={};for(let[i,n]of(Object.entries({...e.definitions,...e.$defs}).forEach(([e,s])=>{t[e]=r(s,[...a,e])}),Object.entries(e??{})))if("$defs"!==i&&"definitions"!==i)if("$ref"===i&&"string"==typeof n){let e=n.split("/"),t=e[e.length-1];s[i]=`#/components/schemas/${t}`}else s[i]=r(n,[...a,i]);return s};return[r(e),t]}},2472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.progressive=function(e,...t){let[r]=t,a={};return e(r).then(async e=>{for await(let t of e)for(let[e,r]of Object.entries(t))if(e in a)a[e].isSettled||(a[e].isSettled=!0,a[e].resolve(r));else{let{promise:t,resolve:s,reject:i}=Promise.withResolvers();a[e]={resolve:s,reject:i,promise:t,isSettled:!0},a[e].resolve(r)}return Object.keys(a).forEach(e=>{a[e].isSettled||(a[e].isSettled=!0,a[e].reject(Error(`The connection was closed without sending a value for "${e}"`)))}),e}).catch(e=>(Object.keys(a).forEach(t=>{a[t].isSettled||(a[t].isSettled=!0,a[t].reject(e))}),e)),new Proxy({},{get(e,t){if(t in a)return a[t].promise;let{promise:r,resolve:s,reject:i}=Promise.withResolvers();return a[t]={resolve:s,reject:i,promise:r,isSettled:!1},r}})}},2488:(e,t)=>{"use strict";function r(e,t){if(!e||"object"!=typeof e)return null;if(void 0!==e.example)return e.example;if(e.examples&&e.examples.length>0)return e.examples[0];if(void 0!==e.const)return e.const;if(e.$ref){return i=e.$ref,r(a(i,n=t),n)}if(e.enum&&e.enum.length>0)return e.enum[0];if(e.oneOf&&e.oneOf.length>0)return r(e.oneOf[0],t);if(e.anyOf&&e.anyOf.length>0)return r(e.anyOf[0],t);if(e.allOf&&e.allOf.length>0)return r(e.allOf.reduce((e,t)=>({...e,...t}),{}),t);if(e.type)switch(e.type){case"string":var i,n,o,l=e;if(l.format)switch(l.format){case"email":case"idn-email":return"user@example.com";case"uri":case"url":case"iri":return"https://example.com";case"date":return"2023-01-01";case"date-time":return"2023-01-01T00:00:00Z";case"time":return"12:00:00Z";case"duration":return"PT1H";case"uuid":return"00000000-0000-0000-0000-000000000000";case"regex":return"^[a-zA-Z0-9]+$";case"relative-json-pointer":return"/some/relative/path";case"color":return"#000000";case"hostname":return"example.com";case"zipcode":return"12345";case"phone":return"+123-456-7890";case"password":return"******";default:return"string"}return l.pattern?"pattern-string":"string";case"number":case"integer":return void 0!==(o=e).minimum&&void 0!==o.maximum||void 0!==o.minimum?o.minimum:void 0!==o.maximum?o.maximum:0;case"boolean":return!0;case"object":return s(e,t);case"array":var c=e,u=t;if(c.items){let e=c.items;return Array.from({length:Math.min(c.minItems||1,3)},()=>r(e,u))}return[];default:return null}return e.properties?s(e,t):null}function a(e,t){let r=e.split("/").slice(1),a=t;for(let e of r)if(void 0===(a=a[e]))return{};return a}function s(e,t){let a={};if(e.properties){let s=e.required||[];for(let[i,n]of Object.entries(e.properties))(s.includes(i)||0===s.length)&&(a[i]=r(n,t))}return e.additionalProperties&&"object"==typeof e.additionalProperties&&(a.additionalProp=r(e.additionalProperties,t)),a}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONSchemaExample=function(e,t,s){let{comment:i="//",stripQuotes:n=!1,indent:o=0}=t;return e&&"object"==typeof e?(s=s||e,function e(t,r,s,i,n,o){let l=" ".repeat(o);if(null===t)return"null";if("object"!=typeof t||t instanceof Date)return JSON.stringify(t);if(Array.isArray(t)){if(0===t.length)return"[]";let a=t.map(t=>{let a=e(t,r.items||{},s,i,n,o+2);return`${l}  ${a}`});return`[
${a.join(",\n")}
${l}]`}if("object"==typeof t){let c=Object.entries(t);if(0===c.length)return"{}";let u=[];if(0===o&&"object"===r.type&&r.description){let e=r.description.split("\n");u.push(`${l}  ${i} -----`),e.forEach(e=>{u.push(`${l}  ${i} ${e.trim()}`)}),u.push(`${l}  ${i} -----`)}return c.forEach(([t,d],p)=>{let m=r.properties?.[t]??{},f=m;m.$ref&&(f=a(m.$ref,s)),f.description&&f.description.split("\n").forEach(e=>{u.push(`${l}  ${i} ${e.trim()}`)});let h=n&&/^[A-Za-z_$][0-9A-Za-z_$]*$/.test(t)?t:JSON.stringify(t),y=e(d,f,s,i,n,o+2);u.push(`${l}  ${h}: ${y}${p<c.length-1?",":""}`)}),`{
${u.join("\n")}
${l}}`}return JSON.stringify(t)}(r(e,s),e,s,i,n,o)):"null"}},2494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(62798).validateUnion,error:{message:"must match a schema in anyOf"}}},2970:(e,t)=>{"use strict";function r(e){return 0===e.length?"":e[0].toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.VERB_MAP=void 0,t.capitalize=r,t.generateFnName=function(e,s,i={}){let n,{ignoreSegments:o}={...a,...i},l=s.replace(/^\/|\/$/g,"").split("/").filter(e=>!o?.includes(e.toLowerCase())).filter(Boolean),c=[],u=[];l.forEach(e=>{let t=e.match(/^{?([^}]+)}?$/);t?u.push(t[1]):c.push(e)}),n="GET"===e?u.length?t.VERB_MAP.GET.withParams:t.VERB_MAP.GET.noParams:t.VERB_MAP[e].default;let d=c.map(r).join(""),p=u.length?"By"+u.map(r).join(""):"",m=`${n}${d}${p}`;return m[0].toLowerCase()+m.slice(1)},t.VERB_MAP={GET:{noParams:"list",withParams:"get"},POST:{default:"create"},PUT:{default:"update"},PATCH:{default:"patch"},DELETE:{default:"delete"},HEAD:{default:"head"},OPTIONS:{default:"options"}};let a={ignoreSegments:["api"]}},3218:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateOnClient=void 0;let s=r(79969),i=a(r(56378)),n=a(r(91527)),o=a(r(16756)),l=a(r(90578)),c=r(81197),u=({data:e,schema:t,localize:r="en",type:a,endpoint:u,options:d,target:p})=>{if(e&&t){let m=t.$schema.includes("://json-schema.org/draft-07/schema")?"draft-07":"draft-2020-12",f=((e,t)=>{let r=new("draft-2020-12"===t?i.default:s.Ajv)({allErrors:!0,...e});return(0,n.default)(r),(0,l.default)(r),r.addKeyword("x-isDto"),r.addKeyword("x-formData"),r.addKeyword("x-tsType"),r.addFormat("binary",{type:"string",validate:e=>e instanceof File||e instanceof Blob}),r})(d??{},p??m);if(e instanceof FormData&&(e=Object.fromEntries(e.entries())),!f.validate(t,e))throw o.default[r](f.errors),new c.HttpException(c.HttpStatus.NULL,`Ajv validation failed. Invalid ${e instanceof FormData?"form":a} on client: ${f.errorsText()}`,{data:e,errors:f.errors,endpoint:u})}},d=({input:e,validation:t,localize:r="en",target:a,options:s})=>{u({data:e.body,schema:t.body,target:a,localize:r,endpoint:e.endpoint,options:s,type:"body"}),u({data:e.query,schema:t.query,target:a,localize:r,endpoint:e.endpoint,options:s,type:"query"}),u({data:e.params,schema:t.params,target:a,localize:r,endpoint:e.endpoint,options:s,type:"params"})},p=e=>{let t=e.meta?.config?.libs?.ajv,r=t?.options??{};return{options:r,localize:t?.localize??"en",target:t?.target}};t.validateOnClient=Object.assign((e,t,r)=>{let{options:a,localize:s,target:i}=p(r);return d({input:e,validation:t,target:i,localize:s,options:a})},{configure:({options:e,localize:t,target:r})=>(a,s,i)=>{let{options:n,localize:o,target:l}=p(i);d({input:a,validation:s,target:r??l,localize:t??o,options:e??n})}})},3552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;let a=r(36132),s=r(35154);function i(e,t){let{gen:r,schema:i,data:n,keyword:o,it:l}=e;l.items=!0;let c=r.const("len",(0,a._)`${n}.length`);if(!1===i)e.setParams({len:t.length}),e.pass((0,a._)`${c} <= ${t.length}`);else if("object"==typeof i&&!(0,s.alwaysValidSchema)(l,i)){let i=r.var("valid",(0,a._)`${c} <= ${t.length}`);r.if((0,a.not)(i),()=>{var n;return n=i,void r.forRange("i",t.length,c,t=>{e.subschema({keyword:o,dataProp:t,dataPropType:s.Type.Num},n),l.allErrors||r.if((0,a.not)(n),()=>r.break())})}),e.ok(i)}}t.validateAdditionalItems=i,t.default={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){let{parentSchema:t,it:r}=e,{items:a}=t;if(!Array.isArray(a))return void(0,s.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');i(e,a)}}},3599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=function(e){return((null==e?"":String(e)).replace(/[\s_-]+/g," ").trim().match(r)||[]).map((e,t)=>{let r=e.toLowerCase();return 0===t?r:r.charAt(0).toUpperCase()+r.slice(1)}).join("")};let r=/[\p{Lu}]{2,}(?=[\p{Lu}][\p{Ll}]+[0-9]*|\b)|[\p{Lu}]?[\p{Ll}]+[0-9]*|[\p{Lu}]|[0-9]+/gu},3769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var a=r(16037);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var s=r(29358);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});let i=r(71117),n=r(61476),o=r(29087),l=r(44872),c=r(29358),u=r(92636),d=r(30947),p=r(46584),m=r(80062),f=r(41343),h=(e,t)=>new RegExp(e,t);h.code="new RegExp";let y=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class ${constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...function(e){var t,r,a,s,i,n,o,l,c,u,d,p,m,y,v,b,g,$,_,k,E,O,w,P,S;let j=e.strict,N=null==(t=e.code)?void 0:t.optimize,R=!0===N||void 0===N?1:N||0,T=null!=(a=null==(r=e.code)?void 0:r.regExp)?a:h,x=null!=(s=e.uriResolver)?s:f.default;return{strictSchema:null==(n=null!=(i=e.strictSchema)?i:j)||n,strictNumbers:null==(l=null!=(o=e.strictNumbers)?o:j)||l,strictTypes:null!=(u=null!=(c=e.strictTypes)?c:j)?u:"log",strictTuples:null!=(p=null!=(d=e.strictTuples)?d:j)?p:"log",strictRequired:null!=(y=null!=(m=e.strictRequired)?m:j)&&y,code:e.code?{...e.code,optimize:R,regExp:T}:{optimize:R,regExp:T},loopRequired:null!=(v=e.loopRequired)?v:200,loopEnum:null!=(b=e.loopEnum)?b:200,meta:null==(g=e.meta)||g,messages:null==($=e.messages)||$,inlineRefs:null==(_=e.inlineRefs)||_,schemaId:null!=(k=e.schemaId)?k:"$id",addUsedSchema:null==(E=e.addUsedSchema)||E,validateSchema:null==(O=e.validateSchema)||O,validateFormats:null==(w=e.validateFormats)||w,unicodeRegExp:null==(P=e.unicodeRegExp)||P,int32range:null==(S=e.int32range)||S,uriResolver:x}}(e)};let{es5:t,lines:r}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:t,lines:r}),this.logger=function(e){if(!1===e)return S;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw Error("logger must implement log, warn and error methods")}(e.logger);let a=e.validateFormats;e.validateFormats=!1,this.RULES=(0,o.getRules)(),_.call(this,b,e,"NOT SUPPORTED"),_.call(this,g,e,"DEPRECATED","warn"),this._metaOpts=P.call(this),e.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&w.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),E.call(this),e.validateFormats=a}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:r}=this.opts,a=m;"id"===r&&((a={...m}).id=a.$id,delete a.$id),t&&e&&this.addMetaSchema(a,a[r],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);let a=r(t);return"$async"in r||(this.errors=r.errors),a}compile(e,t){let r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:r}=this.opts;return a.call(this,e,t);async function a(e,t){await s.call(this,e.$schema);let r=this._addSchema(e,t);return r.validate||i.call(this,r)}async function s(e){e&&!this.getSchema(e)&&await a.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof n.default))throw t;return o.call(this,t),await l.call(this,t.missingSchema),i.call(this,e)}}function o({missingSchema:e,missingRef:t}){if(this.refs[e])throw Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){let r=await c.call(this,e);this.refs[e]||await s.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function c(e){let t=this._loading[e];if(t)return t;try{return await (this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,a=this.opts.validateSchema){let s;if(Array.isArray(e)){for(let t of e)this.addSchema(t,void 0,r,a);return this}if("object"==typeof e){let{schemaId:t}=this.opts;if(void 0!==(s=e[t])&&"string"!=typeof s)throw Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||s),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,a,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){let r;if("boolean"==typeof e)return!0;if(void 0!==(r=e.$schema)&&"string"!=typeof r)throw Error("$schema must be a string");if(!(r=r||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let a=this.validate(r,e);if(!a&&t){let e="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(e);else throw Error(e)}return a}getSchema(e){let t;for(;"string"==typeof(t=k.call(this,e));)e=t;if(void 0===t){let{schemaId:r}=this.opts,a=new l.SchemaEnv({schema:{},schemaId:r});if(!(t=l.resolveSchema.call(this,a,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=k.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{this._cache.delete(e);let t=e[this.opts.schemaId];return t&&(t=(0,u.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else if("object"==typeof e&&void 0===t){if(Array.isArray(r=(t=e).keyword)&&!r.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(N.call(this,r,t),!t)return(0,p.eachItem)(r,e=>R.call(this,e)),this;x.call(this,t);let a={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,p.eachItem)(r,0===a.type.length?e=>R.call(this,e,a):e=>a.type.forEach(t=>R.call(this,e,a,t))),this}getKeyword(e){let t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;for(let r of(delete t.keywords[e],delete t.all[e],t.rules)){let t=r.rules.findIndex(t=>t.keyword===e);t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map(e=>`${r}${e.instancePath} ${e.message}`).reduce((e,r)=>e+t+r):"No errors"}$dataMetaSchema(e,t){let r=this.RULES.all;for(let a of(e=JSON.parse(JSON.stringify(e)),t)){let t=a.split("/").slice(1),s=e;for(let e of t)s=s[e];for(let e in r){let t=r[e];if("object"!=typeof t)continue;let{$data:a}=t.definition,i=s[e];a&&i&&(s[e]=M(i))}}return e}_removeAllSchemas(e,t){for(let r in e){let a=e[r];(!t||t.test(r))&&("string"==typeof a?delete e[r]:a&&!a.meta&&(this._cache.delete(a.schema),delete e[r]))}}_addSchema(e,t,r,a=this.opts.validateSchema,s=this.opts.addUsedSchema){let i,{schemaId:n}=this.opts;if("object"==typeof e)i=e[n];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof e)throw Error("schema must be object or boolean");let o=this._cache.get(e);if(void 0!==o)return o;r=(0,u.normalizeId)(i||r);let c=u.getSchemaRefs.call(this,e,r);return o=new l.SchemaEnv({schema:e,schemaId:n,meta:t,baseId:r,localRefs:c}),this._cache.set(o.schema,o),s&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=o),a&&this.validateSchema(e,!0),o}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,r,a="error"){for(let s in e)s in t&&this.logger[a](`${r}: option ${s}. ${e[s]}`)}function k(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function E(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function O(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function w(e){if(Array.isArray(e))return void this.addVocabulary(e);for(let t in this.logger.warn("keywords option as map is deprecated, pass array"),e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function P(){let e={...this.opts};for(let t of y)delete e[t];return e}$.ValidationError=i.default,$.MissingRefError=n.default,t.default=$;let S={log(){},warn(){},error(){}},j=/^[a-z_$][a-z0-9_$:-]*$/i;function N(e,t){let{RULES:r}=this;if((0,p.eachItem)(e,e=>{if(r.keywords[e])throw Error(`Keyword ${e} is already defined`);if(!j.test(e))throw Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw Error('$data keyword must have "code" or "validate" function')}function R(e,t,r){var a;let s=null==t?void 0:t.post;if(r&&s)throw Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,n=s?i.post:i.rules.find(({type:e})=>e===r);if(n||(n={type:r,rules:[]},i.rules.push(n)),i.keywords[e]=!0,!t)return;let o={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?T.call(this,n,o,t.before):n.rules.push(o),i.all[e]=o,null==(a=t.implements)||a.forEach(e=>this.addKeyword(e))}function T(e,t,r){let a=e.rules.findIndex(e=>e.keyword===r);a>=0?e.rules.splice(a,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function x(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=M(t)),e.validateSchema=this.compile(t,!0))}let I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(e){return{anyOf:[e,I]}}},3855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.progressive=t.createFetcher=t.fetcher=t.createRPC=void 0;var a=r(49988);Object.defineProperty(t,"createRPC",{enumerable:!0,get:function(){return a.createRPC}});var s=r(29916);Object.defineProperty(t,"fetcher",{enumerable:!0,get:function(){return s.fetcher}}),Object.defineProperty(t,"createFetcher",{enumerable:!0,get:function(){return s.createFetcher}});var i=r(2472);Object.defineProperty(t,"progressive",{enumerable:!0,get:function(){return i.progressive}})},4306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132);t.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxItems"===e?"more":"fewer"} than ${t} items`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:s}=e,i="maxItems"===t?a.operators.GT:a.operators.LT;e.fail$data((0,a._)`${r}.length ${i} ${s}`)}}},4384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;let a=r(36132),s=r(35154),i=r(95316);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>(0,a.str)`must have ${1===t?"property":"properties"} ${r} when property ${e} is present`,params:({params:{property:e,depsCount:t,deps:r,missingProperty:s}})=>(0,a._)`{property: ${e},
    missingProperty: ${s},
    depsCount: ${t},
    deps: ${r}}`};let n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){let[t,r]=function({schema:e}){let t={},r={};for(let a in e)"__proto__"!==a&&((Array.isArray(e[a])?t:r)[a]=e[a]);return[t,r]}(e);o(e,t),l(e,r)}};function o(e,t=e.schema){let{gen:r,data:s,it:n}=e;if(0===Object.keys(t).length)return;let l=r.let("missing");for(let o in t){let c=t[o];if(0===c.length)continue;let u=(0,i.propertyInData)(r,s,o,n.opts.ownProperties);e.setParams({property:o,depsCount:c.length,deps:c.join(", ")}),n.allErrors?r.if(u,()=>{for(let t of c)(0,i.checkReportMissingProp)(e,t)}):(r.if((0,a._)`${u} && (${(0,i.checkMissingProp)(e,c,l)})`),(0,i.reportMissingProp)(e,l),r.else())}}function l(e,t=e.schema){let{gen:r,data:a,keyword:n,it:o}=e,c=r.name("valid");for(let l in t)(0,s.alwaysValidSchema)(o,t[l])||(r.if((0,i.propertyInData)(r,a,l,o.opts.ownProperties),()=>{let t=e.subschema({keyword:n,schemaProp:l},c);e.mergeValidEvaluated(t,c)},()=>r.var(c,!0)),e.ok(c))}t.validatePropertyDeps=o,t.validateSchemaDeps=l,t.default=n},4940:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":case"maxItems":e="";var t=r.params.limit;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"additionalProperties":e="must NOT have additional properties";break;case"anyOf":e='must match a schema in "anyOf"';break;case"const":e="must be equal to constant";break;case"contains":e="must contain a valid item";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="must have propert",1==t?e+="y":e+="ies",e+=" "+r.params.deps+" when property "+r.params.property+" is present";break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='must pass "'+r.keyword+'" keyword validation'}break;case"enum":e="must be equal to one of the allowed values";break;case"false schema":e="boolean schema is false";break;case"format":e='must match format "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="must be "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='must match "'+r.params.failingKeyword+'" schema';break;case"maxLength":e="";var t=r.params.limit;e+="must NOT be longer than "+t+" character",1!=t&&(e+="s");break;case"maxProperties":e="";var t=r.params.limit;e+="must NOT have more than "+t+" propert",1==t?e+="y":e+="ies";break;case"minItems":e="";var t=r.params.limit;e+="must NOT have less than "+t+" item",1!=t&&(e+="s");break;case"minLength":e="";var t=r.params.limit;e+="must NOT be shorter than "+t+" character",1!=t&&(e+="s");break;case"minProperties":e="";var t=r.params.limit;e+="must NOT have less than "+t+" propert",1==t?e+="y":e+="ies";break;case"multipleOf":e="must be a multiple of "+r.params.multipleOf;break;case"not":e='must NOT be valid according to schema in "not"';break;case"oneOf":e='must match exactly one schema in "oneOf"';break;case"pattern":e='must match pattern "'+r.params.pattern+'"';break;case"patternRequired":e='must have property matching pattern "'+r.params.missingPattern+'"';break;case"propertyNames":e="property name is invalid";break;case"required":e="must have required property "+r.params.missingProperty;break;case"type":e="must be "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="must NOT have duplicate items (items ## "+r.params.j+" and "+r.params.i+" are identical)";break;default:e='must pass "'+r.keyword+'" keyword validation'}r.message=e}}},5048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(62798),s=r(29358),i=r(46584);t.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,s.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,s._)`{missingProperty: ${e}}`},code(e){let{gen:t,schema:r,schemaCode:n,data:o,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===r.length)return;let d=r.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(s.nil,p);else for(let t of r)(0,a.checkReportMissingProp)(e,t)}():function(){let i=t.let("missing");if(d||l){let r=t.let("valid",!0);e.block$data(r,()=>{var l,c;return l=i,c=r,void(e.setParams({missingProperty:l}),t.forOf(l,n,()=>{t.assign(c,(0,a.propertyInData)(t,o,l,u.ownProperties)),t.if((0,s.not)(c),()=>{e.error(),t.break()})},s.nil))}),e.ok(r)}else t.if((0,a.checkMissingProp)(e,r,i)),(0,a.reportMissingProp)(e,i),t.else()}(),u.strictRequired){let t=e.parentSchema.properties,{definedProperties:a}=e.it;for(let e of r)if((null==t?void 0:t[e])===void 0&&!a.has(e)){let t=c.schemaEnv.baseId+c.errSchemaPath,r=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,i.checkStrictMode)(c,r,c.opts.strictRequired)}}function p(){t.forOf("prop",n,r=>{e.setParams({missingProperty:r}),t.if((0,a.noPropertyInData)(t,o,r,u.ownProperties),()=>e.error())})}}}},5442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHandler=t.DEFAULT_ERROR_MESSAGE=void 0;let a=r(56156);t.DEFAULT_ERROR_MESSAGE="Unknown error at defaultHandler";let s=async({response:e,schema:r})=>{let s;try{s=await e.json()}catch(r){throw new a.HttpException(e.status,r?.message??t.DEFAULT_ERROR_MESSAGE)}if(!e.ok){let i=r.openapi&&"x-errorMessageKey"in r.openapi?r.openapi["x-errorMessageKey"]:"message",n=s;throw new a.HttpException(e.status,i.split(".").reduce((e,t)=>e&&"object"==typeof e?e[t]:void 0,n)??t.DEFAULT_ERROR_MESSAGE,n?.cause??JSON.stringify(s))}return s};t.defaultHandler=s},5754:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},5912:(e,t,r)=>{let a=r(41206),s={$schema:"https://vovk.dev/api/spec/v3/schema.json",segments:{"":r(57444)},meta:{apiRoot:"/api",...a}};e.exports.w=s},6098:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;let a=r(36132),s=r(83919),i=r(62878),n=r(32770),o=r(35154),l=r(90379);class c{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!=(t=e.baseId)?t:(0,n.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function u(e){let t,r,o=p.call(this,e);if(o)return o;let c=(0,n.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:u,lines:d}=this.opts.code,{ownProperties:m}=this.opts,f=new a.CodeGen(this.scope,{es5:u,lines:d,ownProperties:m});e.$async&&(t=f.scopeValue("Error",{ref:s.default,code:(0,a._)`require("ajv/dist/runtime/validation_error").default`}));let h=f.scopeName("validate");e.validateName=h;let y={gen:f,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[a.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,a.stringify)(e.schema)}:{ref:e.schema}),validateName:h,ValidationError:t,schema:e.schema,schemaEnv:e,rootId:c,baseId:e.baseId||c,schemaPath:a.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,a._)`""`,opts:this.opts,self:this};try{this._compilations.add(e),(0,l.validateFunctionCode)(y),f.optimize(this.opts.code.optimize);let t=f.toString();r=`${f.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(r=this.opts.code.process(r,e));let s=Function(`${i.default.self}`,`${i.default.scope}`,r)(this,this.scope.get());if(this.scope.value(h,{ref:s}),s.errors=null,s.schema=e.schema,s.schemaEnv=e,e.$async&&(s.$async=!0),!0===this.opts.code.source&&(s.source={validateName:h,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){let{props:e,items:t}=y;s.evaluated={props:e instanceof a.Name?void 0:e,items:t instanceof a.Name?void 0:t,dynamicProps:e instanceof a.Name,dynamicItems:t instanceof a.Name},s.source&&(s.source.evaluated=(0,a.stringify)(s.evaluated))}return e.validate=s,e}catch(t){throw delete e.validate,delete e.validateName,r&&this.logger.error("Error compiling schema, function code:",r),t}finally{this._compilations.delete(e)}}function d(e){return(0,n.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function p(e){for(let a of this._compilations){var t,r;if(t=a,r=e,t.schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return a}}function m(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||f.call(this,e,t)}function f(e,t){let r=this.opts.uriResolver.parse(t),a=(0,n._getFullPath)(this.opts.uriResolver,r),s=(0,n.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&a===s)return y.call(this,r,e);let i=(0,n.normalizeId)(a),o=this.refs[i]||this.schemas[i];if("string"==typeof o){let t=f.call(this,e,o);if("object"!=typeof(null==t?void 0:t.schema))return;return y.call(this,r,t)}if("object"==typeof(null==o?void 0:o.schema)){if(o.validate||u.call(this,o),i===(0,n.normalizeId)(t)){let{schema:t}=o,{schemaId:r}=this.opts,a=t[r];return a&&(s=(0,n.resolveUrl)(this.opts.uriResolver,s,a)),new c({schema:t,schemaId:r,root:e,baseId:s})}return y.call(this,r,o)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,r){var a;r=(0,n.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let i=m.call(this,e,r);if(void 0===i){let s=null==(a=e.localRefs)?void 0:a[r],{schemaId:n}=this.opts;s&&(i=new c({schema:s,schemaId:n,root:e,baseId:t}))}if(void 0!==i)return e.refs[r]=d.call(this,i)},t.getCompilingSchema=p,t.resolveSchema=f;let h=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:r,root:a}){var s;let i;if((null==(s=e.fragment)?void 0:s[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;let e=r[(0,o.unescapeFragment)(a)];if(void 0===e)return;let s="object"==typeof(r=e)&&r[this.opts.schemaId];!h.has(a)&&s&&(t=(0,n.resolveUrl)(this.opts.uriResolver,t,s))}if("boolean"!=typeof r&&r.$ref&&!(0,o.schemaHasRulesButRef)(r,this.RULES)){let e=(0,n.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=f.call(this,a,e)}let{schemaId:l}=this.opts;if((i=i||new c({schema:r,schemaId:l,root:a,baseId:t})).schema!==i.root.schema)return i}},6458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(30947),s=r(29358),i=r(46584),n=r(86189);t.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,s.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,s._)`{i: ${e}, j: ${t}}`},code(e){let{gen:t,data:r,$data:o,schema:l,parentSchema:c,schemaCode:u,it:d}=e;if(!o&&!l)return;let p=t.let("valid"),m=c.items?(0,a.getSchemaTypes)(c.items):[];e.block$data(p,function(){let o=t.let("i",(0,s._)`${r}.length`),l=t.let("j");e.setParams({i:o,j:l}),t.assign(p,!0),t.if((0,s._)`${o} > 1`,()=>(m.length>0&&!m.some(e=>"object"===e||"array"===e)?function(i,n){let o=t.name("item"),l=(0,a.checkDataTypes)(m,o,d.opts.strictNumbers,a.DataType.Wrong),c=t.const("indices",(0,s._)`{}`);t.for((0,s._)`;${i}--;`,()=>{t.let(o,(0,s._)`${r}[${i}]`),t.if(l,(0,s._)`continue`),m.length>1&&t.if((0,s._)`typeof ${o} == "string"`,(0,s._)`${o} += "_"`),t.if((0,s._)`typeof ${c}[${o}] == "number"`,()=>{t.assign(n,(0,s._)`${c}[${o}]`),e.error(),t.assign(p,!1).break()}).code((0,s._)`${c}[${o}] = ${i}`)})}:function(a,o){let l=(0,i.useFunc)(t,n.default),c=t.name("outer");t.label(c).for((0,s._)`;${a}--;`,()=>t.for((0,s._)`${o} = ${a}; ${o}--;`,()=>t.if((0,s._)`${l}(${r}[${a}], ${r}[${o}])`,()=>{e.error(),t.assign(p,!1).break(c)})))})(o,l))},(0,s._)`${u} === false`),e.ok(p)}}},6638:(e,t)=>{"use strict";function r(e,t){if(!e||"object"!=typeof e)return null;if(t=t||e,void 0!==e.example)return e.example;if(e.examples&&e.examples.length>0)return e.examples[0];if(void 0!==e.const)return e.const;if(e.$ref){var s,i=e.$ref,n=t;let a=i.split("/").slice(1),o=n;for(let e of a)if(void 0===(o=o[e]))return null;return r(o,n)}if(e.enum&&e.enum.length>0)return e.enum[0];if(e.oneOf&&e.oneOf.length>0)return r(e.oneOf[0],t);if(e.anyOf&&e.anyOf.length>0)return r(e.anyOf[0],t);if(e.allOf&&e.allOf.length>0)return r(e.allOf.reduce((e,t)=>({...e,...t}),{}),t);if(e.type)switch(e.type){case"string":var o=e;if(o.format)switch(o.format){case"email":case"idn-email":return"user@example.com";case"uri":case"url":case"iri":return"https://example.com";case"date":return"2023-01-01";case"date-time":return"2023-01-01T00:00:00Z";case"time":return"12:00:00Z";case"duration":return"PT1H";case"uuid":return"00000000-0000-0000-0000-000000000000";case"regex":return"^[a-zA-Z0-9]+$";case"relative-json-pointer":return"/some/relative/path";case"color":return"#000000";case"hostname":return"example.com";case"zipcode":return"12345";case"phone":return"+123-456-7890";case"password":return"******";default:return"string"}return o.pattern?"pattern-string":"string";case"number":case"integer":return void 0!==(s=e).minimum&&void 0!==s.maximum||void 0!==s.minimum?s.minimum:void 0!==s.maximum?s.maximum:0;case"boolean":return!0;case"object":return a(e,t);case"array":var l=e,c=t;if(l.items){let e=l.items;return Array.from({length:Math.min(l.minItems||1,3)},()=>r(e,c))}return[];default:return null}return e.properties?a(e,t):null}function a(e,t){let a={};if(e.properties){let s=e.required||[];for(let[i,n]of Object.entries(e.properties))(s.includes(i)||0===s.length)&&(a[i]=r(n,t))}return e.additionalProperties&&"object"==typeof e.additionalProperties&&(a.additionalProp=r(e.additionalProperties,t)),a}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONSchemaSample=r},6729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36793);a.code='require("ajv/dist/runtime/uri").default',t.default=a},6929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358);t.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${t} properties`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:s}=e,i="maxProperties"===t?a.operators.GT:a.operators.LT;e.fail$data((0,a._)`Object.keys(${r}).length ${i} ${s}`)}}},7886:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+="non dovrebbe avere pi\xf9 di "+t+" element",1==t?e+="o":e+="i";break;case"additionalProperties":e="non deve avere attributi aggiuntivi";break;case"anyOf":e='deve corrispondere ad uno degli schema in "anyOf"';break;case"const":e="deve essere uguale alla costante";break;case"contains":e="deve contentere un elemento valido";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="dovrebbe avere ",1==t?e+="l'":e+="gli ",e+="attribut",1==t?e+="o":e+="i",e+=" "+r.params.deps+" quando l'attributo "+r.params.property+" \xe8 presente";break;case"discriminator":switch(r.params.error){case"tag":e='il tag "'+r.params.tag+'" deve essere di tipo stringa';break;case"mapping":e='il valore del tag "'+r.params.tag+'" deve essere nei oneOf';break;default:e='deve essere valido secondo il criterio "'+r.keyword+'"'}break;case"enum":e="deve essere uguale ad uno dei valori consentiti";break;case"false schema":e="lo schema booleano \xe8 falso";break;case"format":e='deve corrispondere al formato "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="deve essere "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='deve corrispondere allo schema "'+r.params.failingKeyword+'"';break;case"maxItems":e="";var t=r.params.limit;e+="non deve avere pi\xf9 di "+t+" element",1==t?e+="o":e+="i";break;case"maxLength":e="";var t=r.params.limit;e+="non deve essere pi\xf9 lungo di "+t+" caratter",1==t?e+="e":e+="i";break;case"maxProperties":e="";var t=r.params.limit;e+="non deve avere pi\xf9 di "+t+" attribut",1==t?e+="o":e+="i";break;case"minItems":e="";var t=r.params.limit;e+="non deve avere meno di "+t+" element",1==t?e+="o":e+="i";break;case"minLength":e="";var t=r.params.limit;e+="non deve essere meno lungo di "+t+" caratter",1==t?e+="e":e+="i";break;case"minProperties":e="";var t=r.params.limit;e+="non deve avere meno di "+t+" attribut",1==t?e+="o":e+="i";break;case"multipleOf":e="deve essere un multiplo di "+r.params.multipleOf;break;case"not":e='non deve essere valido in base allo schema di "non"';break;case"oneOf":e='deve corrispondere esattamente ad uno degli schema in "oneOf"';break;case"pattern":e='deve corrispondere al formato "'+r.params.pattern+'"';break;case"patternRequired":e='deve avere un attributo che corrisponda al formato "'+r.params.missingPattern+'"';break;case"propertyNames":e="il nome dell'attritbuto non \xe8 valido";break;case"required":e="deve avere l'attributo obbligatorio "+r.params.missingProperty;break;case"type":e="deve essere di tipo "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="non deve avere pi\xf9 di "+t+" elementi",1==t?e+="o":e+="i";break;case"unevaluatedProperties":e="non deve avere attributi non valutati";break;case"uniqueItems":e="non deve avere duplicati (gli elementi ## "+r.params.j+" e "+r.params.i+" sono uguali)";break;default:e='deve essere valido secondo il criterio "'+r.keyword+'"'}r.message=e}}},8629:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;let r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},9172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStreamHandler=t.DEFAULT_ERROR_MESSAGE=void 0;let a=r(72934),s=r(77346);r(44506),t.DEFAULT_ERROR_MESSAGE="Unknown error at defaultStreamHandler";let i=async({response:e,controller:r})=>{if(!e.ok){let r;try{r=await e.json()}catch{}throw new s.HttpException(e.status,r.message??t.DEFAULT_ERROR_MESSAGE)}if(!e.body)throw new s.HttpException(a.HttpStatus.NULL,"Stream body is falsy. Check your controller code.");let i=e.body.getReader(),n=!1,o=new Set;async function*l(){let e="",t=0;for(;;){let r;try{let e;if({value:r,done:e}=await i.read(),e)break}catch(t){await i.cancel();let e=Error("Stream error. "+String(t));throw e.cause=t,e}for(let a of(e+="number"==typeof r?String.fromCharCode(r):new TextDecoder().decode(r)).split("\n").filter(Boolean)){let r;try{r=JSON.parse(a),e=""}catch{break}if(r){if(o.forEach(e=>{n||e(r,t)}),t++,"isError"in r&&"reason"in r){let e=r.reason;if(await i.cancel(),"string"==typeof e)throw Error(e);throw e}n||(yield r)}}}}return{status:e.status,[Symbol.asyncIterator]:l,[Symbol.dispose]:()=>r.abort(),[Symbol.asyncDispose]:()=>r.abort(),onIterate:e=>n?()=>{}:(o.add(e),()=>{o.delete(e)}),abort:()=>(n=!0,r.abort())}};t.defaultStreamHandler=i},9405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(26819),s=r(65590),i=r(13562),n=r(30839),o=r(57663),l=r(11786),c=r(4306),u=r(47488),d=r(34102),p=r(22250);t.default=[a.default,s.default,i.default,n.default,o.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,p.default]},9444:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},9515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e||"object"!=typeof e)return"";let t=[];for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let a=e[r];t.push(...function e(t,r){return null==r?[]:"object"==typeof r?Array.isArray(r)?r.flatMap((r,a)=>e(`${t}[${a}]`,r)):Object.keys(r).flatMap(a=>e(`${t}[${a}]`,r[a])):[`${encodeURIComponent(t)}=${encodeURIComponent(String(r))}`]}(r,a))}return t.join("&")}},10759:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withValidationLibrary=function({isForm:e,disableServerSideValidation:t,skipSchemaEmission:r,validateEachIteration:a,body:c,query:u,params:d,output:p,iteration:m,handle:f,toJSONSchema:h,validate:y}){let v=!1===t?[]:!0===t?l:t??[],b=!1===r?[]:!0===r?l:r??[],g=async(e,t)=>{let{__disableClientValidation:r}=e.vovk.meta(),n=await f(e,t);if(r)return n;if(p&&m)throw new s.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,"Output and iteration are mutually exclusive. You can't use them together.");if(p&&!v.includes("output")){if(!n)throw new s.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,"Output is required. You probably forgot to return something from your handler.");n=await y(n,p,{type:"output",req:e})??n}if(m&&!v.includes("iteration")){if(!n||"function"!=typeof n[Symbol.asyncIterator])throw new s.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,"Data is not an async iterable but iteration validation is defined.");return async function*(){let t=0;for await(let r of n)(a||0===t)&&(r=await y(r,m,{type:"iteration",req:e,status:200,i:t})??r),t++,yield r}()}if(a)throw new s.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,"validateEachIteration is set but iteration is not defined.");return n},$=async(t,r)=>{let{__disableClientValidation:a}=t.vovk.meta();if(!a){if(c&&!v.includes("body")){let r=await t.vovk[e?"form":"body"](),a=await y(r,c,{type:e?"form":"body",req:t})??r;t.json=()=>Promise.resolve(r),t.vovk[e?"form":"body"]=()=>Promise.resolve(a)}if(u&&!v.includes("query")){let e=t.vovk.query(),r=await y(e,u,{type:"query",req:t})??e;t.vovk.query=()=>r}if(d&&!v.includes("params")){let e=t.vovk.params(),r=await y(e,d,{type:"params",req:t})??e;t.vovk.params=()=>r}}return g(t,r)},_=Object.assign($,{fn:function(e){let t={vovk:{body:()=>Promise.resolve(e?.body??{}),query:()=>e?.query??{},params:()=>e?.params??{},meta:e=>(0,n.default)(t,e),form:()=>{throw Error("Form data is not supported in this context.")}}};return t.vovk.meta({__disableClientValidation:e?.disableClientValidation,...e?.meta}),($.wrapper??$)(t,e?.params??{})},models:{...void 0!==c?{body:c}:{},...void 0!==u?{query:u}:{},...void 0!==d?{params:d}:{},...void 0!==p?{output:p}:{},...void 0!==m?{iteration:m}:{}}});if(h){let t=(t,r)=>Object.assign(h(t,{type:r}),"body"===r&&e?{"x-formData":e}:{}),r={};c&&!b.includes("body")&&(r.body=t(c,"body")),u&&!b.includes("query")&&(r.query=t(u,"query")),d&&!b.includes("params")&&(r.params=t(d,"params")),p&&!b.includes("output")&&(r.output=t(p,"output")),m&&!b.includes("iteration")&&(r.iteration=t(m,"iteration")),(0,o.setHandlerSchema)(_,{validation:r})}return _};let s=r(77346),i=r(72934),n=a(r(45292)),o=r(73852),l=["body","query","params","output","iteration"]},11786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(95316),s=r(36132),i=r(35154);t.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,s.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,s._)`{missingProperty: ${e}}`},code(e){let{gen:t,schema:r,schemaCode:n,data:o,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===r.length)return;let d=r.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(s.nil,p);else for(let t of r)(0,a.checkReportMissingProp)(e,t)}():function(){let i=t.let("missing");if(d||l){let r=t.let("valid",!0);e.block$data(r,()=>{var l,c;return l=i,c=r,void(e.setParams({missingProperty:l}),t.forOf(l,n,()=>{t.assign(c,(0,a.propertyInData)(t,o,l,u.ownProperties)),t.if((0,s.not)(c),()=>{e.error(),t.break()})},s.nil))}),e.ok(r)}else t.if((0,a.checkMissingProp)(e,r,i)),(0,a.reportMissingProp)(e,i),t.else()}(),u.strictRequired){let t=e.parentSchema.properties,{definedProperties:a}=e.it;for(let e of r)if((null==t?void 0:t[e])===void 0&&!a.has(e)){let t=c.schemaEnv.baseId+c.errSchemaPath,r=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,i.checkStrictMode)(c,r,c.opts.strictRequired)}}function p(){t.forOf("prop",n,r=>{e.setParams({missingProperty:r}),t.if((0,a.noPropertyInData)(t,o,r,u.ownProperties),()=>e.error())})}}}},12171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(27433),s=r(14791),i=r(59024),n=r(84809),o=r(21853),l=r(947),c=r(27048),u=r(97345),d=["/properties"];t.default=function(e){return[a,s,i,n,o,t(this,l),c,t(this,u)].forEach(e=>this.addMetaSchema(e,void 0,!1)),this;function t(t,r){return e?t.$dataMetaSchema(r,d):r}}},12784:(e,t)=>{"use strict";var r,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.VovkSchemaIdEnum=t.HttpStatus=t.HttpMethod=void 0,function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e.HEAD="HEAD",e.OPTIONS="OPTIONS"}(r||(t.HttpMethod=r={})),function(e){e[e.NULL=0]="NULL",e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.EARLYHINTS=103]="EARLYHINTS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.AMBIGUOUS=300]="AMBIGUOUS",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",e[e.MISDIRECTED=421]="MISDIRECTED",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(a||(t.HttpStatus=a={})),function(e){e.META="https://vovk.dev/api/spec/v3/meta.json",e.CONFIG="https://vovk.dev/api/spec/v3/config.json",e.SEGMENT="https://vovk.dev/api/spec/v3/segment.json",e.SCHEMA="https://vovk.dev/api/spec/v3/schema.json"}(s||(t.VovkSchemaIdEnum=s={}))},13562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(35154),i=r(21164);t.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxLength"===e?"more":"fewer"} than ${t} characters`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:n,it:o}=e,l="maxLength"===t?a.operators.GT:a.operators.LT,c=!1===o.opts.unicode?(0,a._)`${r}.length`:(0,a._)`${(0,s.useFunc)(e.gen,i.default)}(${r})`;e.fail$data((0,a._)`${c} ${l} ${n}`)}}},13860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(35154);t.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?(0,a.str)`must contain at least ${e} valid item(s)`:(0,a.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?(0,a._)`{minContains: ${e}}`:(0,a._)`{minContains: ${e}, maxContains: ${t}}`},code(e){let t,r,{gen:i,schema:n,parentSchema:o,data:l,it:c}=e,{minContains:u,maxContains:d}=o;c.opts.next?(t=void 0===u?1:u,r=d):t=1;let p=i.const("len",(0,a._)`${l}.length`);if(e.setParams({min:t,max:r}),void 0===r&&0===t)return void(0,s.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==r&&t>r){(0,s.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,s.alwaysValidSchema)(c,n)){let s=(0,a._)`${p} >= ${t}`;void 0!==r&&(s=(0,a._)`${s} && ${p} <= ${r}`),e.pass(s);return}c.items=!0;let m=i.name("valid");function f(){let e=i.name("_valid"),s=i.let("count",0);h(e,()=>i.if(e,()=>{var e;return e=s,void(i.code((0,a._)`${e}++`),void 0===r?i.if((0,a._)`${e} >= ${t}`,()=>i.assign(m,!0).break()):(i.if((0,a._)`${e} > ${r}`,()=>i.assign(m,!1).break()),1===t?i.assign(m,!0):i.if((0,a._)`${e} >= ${t}`,()=>i.assign(m,!0))))}))}function h(t,r){i.forRange("i",0,p,a=>{e.subschema({keyword:"contains",dataProp:a,dataPropType:s.Type.Num,compositeRule:!0},t),r()})}void 0===r&&1===t?h(m,()=>i.if(m,()=>i.break())):0===t?(i.let(m,!0),void 0!==r&&i.if((0,a._)`${l}.length > 0`,f)):(i.let(m,!1),f()),e.result(m,()=>e.reset())}}},14791:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},14932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getControllerSchema=s,t.default=i;let a=r(12784);async function s(e,t,r){let a=r?e._handlers:Object.fromEntries(Object.entries(e._handlers??{}).map(([e,{validation:t,...r}])=>[e,r]));return{rpcModuleName:t,originalControllerName:e.name,prefix:e._prefix??"",handlers:a}}async function i(e){let t=e?.exposeValidation??!0,r=e.emitSchema??!0,i={$schema:a.VovkSchemaIdEnum.SEGMENT,emitSchema:r,segmentName:e.segmentName??"",segmentType:"segment",controllers:{}};if(e.forceApiRoot&&(i.forceApiRoot=e.forceApiRoot),!r)return i;for(let[r,a]of Object.entries(e.controllers??{}))i.controllers[r]=await s(a,r,t);return i}},14981:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":case"maxItems":e="";var t=a.params.limit;e+="mag niet meer dan "+t+" item",1!=t&&(e+="s"),e+=" bevatten";break;case"additionalProperties":e="mag geen extra eigenschappen bevatten";break;case"anyOf":e='moet overeenkomen met een schema in "anyOf"';break;case"const":e="moet gelijk zijn aan constante";break;case"contains":e="moet een geldig item bevatten";break;case"dependencies":case"dependentRequired":e="";var t=a.params.depsCount;e+="moet de eigenschap",1!=t&&(e+="pen"),e+=" "+a.params.deps+" bevatten als "+a.params.property+" is gedefinieerd";break;case"discriminator":switch(a.params.error){case"tag":e='tag "'+a.params.tag+'" moet een tekenreeks zijn';break;case"mapping":e='de waarde van het veld "'+a.params.tag+'" moet voorkomen in de oneOf';break;default:e='moet sleutelwoord validatie "'+a.keyword+'" doorstaan'}break;case"enum":e="moet overeenkomen met \xe9\xe9n van de voorgedefinieerde waarden";break;case"false schema":e="boolean schema is fout";break;case"format":e='moet overeenkomen met het volgende formaat: "'+a.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="moet "+(a.params.comparison+" ")+a.params.limit+" zijn";break;case"if":e='moet overeenkomen met "'+a.params.failingKeyword+'" schema';break;case"maxLength":e="";var t=a.params.limit;e+="mag niet langer dan "+t+" karakter",1!=t&&(e+="s"),e+=" zijn";break;case"maxProperties":e="";var t=a.params.limit;e+="mag niet meer dan "+t+" eigenschap",1!=t&&(e+="pen"),e+=" bevatten";break;case"minItems":e="";var t=a.params.limit;e+="mag niet minder dan "+t+" item",1!=t&&(e+="s"),e+=" bevatten";break;case"minLength":e="";var t=a.params.limit;e+="mag niet korter dan "+t+" karakter",1!=t&&(e+="s"),e+=" zijn";break;case"minProperties":e="";var t=a.params.limit;e+="mag niet minder dan "+t+" eigenschap",1!=t&&(e+="pen"),e+=" bevatten";break;case"multipleOf":e="moet een veelvoud van "+a.params.multipleOf+" zijn";break;case"not":e='mag niet overeenkomen met een schema in "not"';break;case"oneOf":e='moet overeenkomen met \xe9\xe9n schema in "oneOf"';break;case"pattern":e='moet overeenkomen met het volgende patroon: "'+a.params.pattern+'"';break;case"patternRequired":e='moet een eigenschap bevatten die overeenkomt met het pattroon: "'+a.params.missingPattern+'"';break;case"propertyNames":e="eigenschapnaam is ongeldig";break;case"required":e="moet de eigenschap "+a.params.missingProperty+" bevatten";break;case"type":e="";var r=a.params.type;e+="moet een ","number"==r?e+="nummer":"integer"==r?e+="geheel getal":"string"==r?e+="tekenreeks":"boolean"==r&&(e+="ja of nee waarde"),e+=" ("+r+") bevatten";break;case"unevaluatedItems":e="";var t=a.params.len;e+="mag niet meer dan "+t+" item",1!=t&&(e+="s"),e+=" bevatten";break;case"unevaluatedProperties":e="mag geen ongecontroleerde eigenschappen bevatten";break;case"uniqueItems":e="mag geen gedupliceerde items bevatten (items ## "+a.params.j+" en "+a.params.i+" zijn identiek)";break;default:e='moet sleutelwoord validatie "'+a.keyword+'" doorstaan'}a.message=e}}},15158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(82731),s=r(59774);t.default=[a.default,s.default]},15948:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;let a=r(27134),s=r(95316),i=r(36132),n=r(62878),o=r(6098),l=r(35154);function c(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,i._)`${r.scopeValue("wrapper",{ref:t})}.validate`}function u(e,t,r,a){let{gen:o,it:c}=e,{allErrors:u,schemaEnv:d,opts:p}=c,m=p.passContext?n.default.this:i.nil;function f(e){let t=(0,i._)`${e}.errors`;o.assign(n.default.vErrors,(0,i._)`${n.default.vErrors} === null ? ${t} : ${n.default.vErrors}.concat(${t})`),o.assign(n.default.errors,(0,i._)`${n.default.vErrors}.length`)}function h(e){var t;if(!c.opts.unevaluated)return;let a=null==(t=null==r?void 0:r.validate)?void 0:t.evaluated;if(!0!==c.props)if(a&&!a.dynamicProps)void 0!==a.props&&(c.props=l.mergeEvaluated.props(o,a.props,c.props));else{let t=o.var("props",(0,i._)`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(o,t,c.props,i.Name)}if(!0!==c.items)if(a&&!a.dynamicItems)void 0!==a.items&&(c.items=l.mergeEvaluated.items(o,a.items,c.items));else{let t=o.var("items",(0,i._)`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(o,t,c.items,i.Name)}}a?function(){if(!d.$async)throw Error("async schema referenced by sync schema");let r=o.let("valid");o.try(()=>{o.code((0,i._)`await ${(0,s.callValidateCode)(e,t,m)}`),h(t),u||o.assign(r,!0)},e=>{o.if((0,i._)`!(${e} instanceof ${c.ValidationError})`,()=>o.throw(e)),f(e),u||o.assign(r,!1)}),e.ok(r)}():e.result((0,s.callValidateCode)(e,t,m),()=>h(t),()=>f(t))}t.getValidate=c,t.callRef=u,t.default={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:s}=e,{baseId:n,schemaEnv:l,validateName:d,opts:p,self:m}=s,{root:f}=l;if(("#"===r||"#/"===r)&&n===f.baseId){if(l===f)return u(e,d,l,l.$async);let r=t.scopeValue("root",{ref:f});return u(e,(0,i._)`${r}.validate`,f,f.$async)}let h=o.resolveRef.call(m,f,n,r);if(void 0===h)throw new a.default(s.opts.uriResolver,n,r);return h instanceof o.SchemaEnv?function(t){let r=c(e,t);u(e,r,t,t.$async)}(h):function(a){let s=t.scopeValue("schema",!0===p.code.source?{ref:a,code:(0,i.stringify)(a)}:{ref:a}),n=t.name("valid"),o=e.subschema({schema:a,dataTypes:[],schemaPath:i.nil,topSchemaRef:s,errSchemaPath:r},n);e.mergeEvaluated(o),e.ok(n)}(h)}}},16037:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;let a=r(55636),s=r(30947),i=r(75836),n=r(30947),o=r(96505),l=r(55974),c=r(17716),u=r(29358),d=r(1008),p=r(92636),m=r(46584),f=r(27247);function h({gen:e,validateName:t,schema:r,schemaEnv:a,opts:s},i){var n;s.code.es5?e.func(t,(0,u._)`${d.default.data}, ${d.default.valCxt}`,a.$async,()=>{var t,a;e.code((0,u._)`"use strict"; ${y(r,s)}`),t=e,a=s,t.if(d.default.valCxt,()=>{t.var(d.default.instancePath,(0,u._)`${d.default.valCxt}.${d.default.instancePath}`),t.var(d.default.parentData,(0,u._)`${d.default.valCxt}.${d.default.parentData}`),t.var(d.default.parentDataProperty,(0,u._)`${d.default.valCxt}.${d.default.parentDataProperty}`),t.var(d.default.rootData,(0,u._)`${d.default.valCxt}.${d.default.rootData}`),a.dynamicRef&&t.var(d.default.dynamicAnchors,(0,u._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{t.var(d.default.instancePath,(0,u._)`""`),t.var(d.default.parentData,(0,u._)`undefined`),t.var(d.default.parentDataProperty,(0,u._)`undefined`),t.var(d.default.rootData,d.default.data),a.dynamicRef&&t.var(d.default.dynamicAnchors,(0,u._)`{}`)}),e.code(i)}):e.func(t,(0,u._)`${d.default.data}, ${(n=s,(0,u._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${n.dynamicRef?(0,u._)`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`)}`,a.$async,()=>e.code(y(r,s)).code(i))}function y(e,t){let r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,u._)`/*# sourceURL=${r} */`:u.nil}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function g(e){(0,m.checkUnknownRules)(e),function(e){let{schema:t,errSchemaPath:r,opts:a,self:s}=e;t.$ref&&a.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function $(e,t){if(e.opts.jtd)return k(e,[],!1,t);let r=(0,s.getSchemaTypes)(e.schema),a=(0,s.coerceAndCheckDataType)(e,r);k(e,r,!a,t)}function _({gen:e,schemaEnv:t,schema:r,errSchemaPath:a,opts:s}){let i=r.$comment;if(!0===s.$comment)e.code((0,u._)`${d.default.self}.logger.log(${i})`);else if("function"==typeof s.$comment){let r=(0,u.str)`${a}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,u._)`${d.default.self}.opts.$comment(${i}, ${r}, ${s}.schema)`)}}function k(e,t,r,a){var s,o,l,c;let{gen:p,schema:f,data:h,allErrors:y,opts:v,self:b}=e,{RULES:g}=b;if(f.$ref&&(v.ignoreKeywordsWithRef||!(0,m.schemaHasRulesButRef)(f,g)))return void p.block(()=>S(e,"$ref",g.all.$ref.definition));function $(s){(0,i.shouldUseGroup)(f,s)&&(s.type?(p.if((0,n.checkDataType)(s.type,h,v.strictNumbers)),E(e,s),1===t.length&&t[0]===s.type&&r&&(p.else(),(0,n.reportTypeError)(e)),p.endIf()):E(e,s),y||p.if((0,u._)`${d.default.errors} === ${a||0}`))}v.jtd||(s=e,o=t,!s.schemaEnv.meta&&s.opts.strictTypes&&(function(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(t=>{O(e.dataTypes,t)||w(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),function(e,t){let r=[];for(let a of e.dataTypes)O(t,a)?r.push(a):t.includes("integer")&&"number"===a&&r.push("integer");e.dataTypes=r}(e,t)}}(s,o),s.opts.allowUnionTypes||(l=s,(c=o).length>1&&!(2===c.length&&c.includes("null"))&&w(l,"use allowUnionTypes to allow union type keyword")),function(e,t){let r=e.self.RULES.all;for(let a in r){let s=r[a];if("object"==typeof s&&(0,i.shouldUseRule)(e.schema,s)){let{type:r}=s.definition;r.length&&!r.some(e=>{var r,a;return r=t,a=e,r.includes(a)||"number"===a&&r.includes("integer")})&&w(e,`missing type "${r.join(",")}" for keyword "${a}"`)}}}(s,s.dataTypes))),p.block(()=>{for(let e of g.rules)$(e);$(g.post)})}function E(e,t){let{gen:r,schema:a,opts:{useDefaults:s}}=e;s&&(0,o.assignDefaults)(e,t.type),r.block(()=>{for(let r of t.rules)(0,i.shouldUseRule)(a,r)&&S(e,r.keyword,r.definition,t.type)})}function O(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function w(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,m.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){if(b(e)&&(g(e),v(e)))return void function(e){let{schema:t,opts:r,gen:a}=e;h(e,()=>{r.$comment&&t.$comment&&_(e),function(e){let{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,m.checkStrictMode)(e,"default is ignored in the schema root")}(e),a.let(d.default.vErrors,null),a.let(d.default.errors,0),r.unevaluated&&function(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,u._)`${r}.evaluated`),t.if((0,u._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,u._)`${e.evaluated}.props`,(0,u._)`undefined`)),t.if((0,u._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,u._)`${e.evaluated}.items`,(0,u._)`undefined`))}(e),$(e),function(e){let{gen:t,schemaEnv:r,validateName:a,ValidationError:s,opts:i}=e;r.$async?t.if((0,u._)`${d.default.errors} === 0`,()=>t.return(d.default.data),()=>t.throw((0,u._)`new ${s}(${d.default.vErrors})`)):(t.assign((0,u._)`${a}.errors`,d.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:r,items:a}){r instanceof u.Name&&e.assign((0,u._)`${t}.props`,r),a instanceof u.Name&&e.assign((0,u._)`${t}.items`,a)}(e),t.return((0,u._)`${d.default.errors} === 0`))}(e)})}(e);h(e,()=>(0,a.topBoolOrEmptySchema)(e))};class P{constructor(e,t,r){if((0,l.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",R(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,r){this.failResult((0,u.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,u._)`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=u.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=u.nil,t=u.nil){if(!this.$data)return;let{gen:r,schemaCode:a,schemaType:s,def:i}=this;r.if((0,u.or)((0,u._)`${a} === undefined`,t)),e!==u.nil&&r.assign(e,!0),(s.length||i.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&r.assign(e,!1)),r.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:r,def:a,it:s}=this;return(0,u.or)(function(){if(r.length){if(!(t instanceof u.Name))throw Error("ajv implementation error");let e=Array.isArray(r)?r:[r];return(0,u._)`${(0,n.checkDataTypes)(e,t,s.opts.strictNumbers,n.DataType.Wrong)}`}return u.nil}(),function(){if(a.validateSchema){let r=e.scopeValue("validate$data",{ref:a.validateSchema});return(0,u._)`!${r}(${t})`}return u.nil}())}subschema(e,t){let r=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(r,this.it,e),(0,c.extendSubschemaMode)(r,e);let s={...this.it,...r,items:void 0,props:void 0};return!function(e,t){if(b(e)&&(g(e),v(e))){var r=e,s=t;let{schema:a,gen:i,opts:n}=r;n.$comment&&a.$comment&&_(r),function(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,p.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(r),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw Error("async schema in sync schema")}(r);let o=i.const("_errs",d.default.errors);$(r,o),i.var(s,(0,u._)`${o} === ${d.default.errors}`);return}(0,a.boolOrEmptySchema)(e,t)}(s,t),s}mergeEvaluated(e,t){let{it:r,gen:a}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=m.mergeEvaluated.props(a,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=m.mergeEvaluated.items(a,e.items,r.items,t)))}mergeValidEvaluated(e,t){let{it:r,gen:a}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return a.if(t,()=>this.mergeEvaluated(e,u.Name)),!0}}function S(e,t,r,a){let s=new P(e,r,t);"code"in r?r.code(s,a):s.$data&&r.validate?(0,l.funcKeywordCode)(s,r):"macro"in r?(0,l.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,l.funcKeywordCode)(s,r)}t.KeywordCxt=P;let j=/^\/(?:[^~]|~0|~1)*$/,N=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function R(e,{dataLevel:t,dataNames:r,dataPathArr:a}){let s,i;if(""===e)return d.default.rootData;if("/"===e[0]){if(!j.test(e))throw Error(`Invalid JSON-pointer: ${e}`);s=e,i=d.default.rootData}else{let n=N.exec(e);if(!n)throw Error(`Invalid JSON-pointer: ${e}`);let l=+n[1];if("#"===(s=n[2])){if(l>=t)throw Error(o("property/index",l));return a[t-l]}if(l>t)throw Error(o("data",l));if(i=r[t-l],!s)return i}let n=i;for(let e of s.split("/"))e&&(i=(0,u._)`${i}${(0,u.getProperty)((0,m.unescapeJsonPointer)(e))}`,n=(0,u._)`${n} && ${i}`);return n;function o(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=R},16756:(e,t,r)=>{"use strict";e.exports={en:r(4940),ar:r(98108),ca:r(38303),cs:r(93581),de:r(79144),es:r(94075),fi:r(33262),fr:r(52595),hu:r(40580),id:r(86590),it:r(7886),ja:r(51002),ko:r(26601),nb:r(42299),nl:r(14981),pl:r(51039),"pt-BR":r(75764),ru:r(89438),sk:r(99877),sv:r(95022),th:r(44047),zh:r(26621),"zh-TW":r(43803)}},17617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(46584);t.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){void 0===t.contains&&(0,a.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}}},17716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;let a=r(29358),s=r(46584);t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:l}){if(void 0!==t&&void 0!==i)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){let i=e.schema[t];return void 0===r?{schema:i,schemaPath:(0,a._)`${e.schemaPath}${(0,a.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,a._)`${e.schemaPath}${(0,a.getProperty)(t)}${(0,a.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,s.escapeFragment)(r)}`}}if(void 0!==i){if(void 0===n||void 0===o||void 0===l)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:l,errSchemaPath:o}}throw Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:i,data:n,dataTypes:o,propertyName:l}){if(void 0!==n&&void 0!==r)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=t;if(void 0!==r){let{errorPath:n,dataPathArr:o,opts:l}=t;u(c.let("data",(0,a._)`${t.data}${(0,a.getProperty)(r)}`,!0)),e.errorPath=(0,a.str)`${n}${(0,s.getErrorPath)(r,i,l.jsPropertySyntax)}`,e.parentDataProperty=(0,a._)`${r}`,e.dataPathArr=[...o,e.parentDataProperty]}function u(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==n&&(u(n instanceof a.Name?n:c.let("data",n,!0)),void 0!==l&&(e.propertyName=l)),o&&(e.dataTypes=o)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:a,createErrors:s,allErrors:i}){void 0!==a&&(e.compositeRule=a),void 0!==s&&(e.createErrors=s),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}},18264:function(e,t,r){"use strict";var a,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VovkApp=void 0;let i=r(72934),n=r(77346),o=r(30853),l=s(r(50927)),c=s(r(45292)),u=s(r(41935));class d{static getHeadersFromOptions(e){return e?{...e.cors?{"access-control-allow-origin":"*","access-control-allow-methods":"GET, POST, PUT, DELETE, OPTIONS, HEAD","access-control-allow-headers":"content-type, authorization"}:{},...e.headers??{}}:{}}routes={GET:new Map,POST:new Map,PUT:new Map,PATCH:new Map,DELETE:new Map,HEAD:new Map,OPTIONS:new Map};GET=async(e,t)=>this.#e(i.HttpMethod.GET,e,await t.params);POST=async(e,t)=>this.#e(i.HttpMethod.POST,e,await t.params);PUT=async(e,t)=>this.#e(i.HttpMethod.PUT,e,await t.params);PATCH=async(e,t)=>this.#e(i.HttpMethod.PATCH,e,await t.params);DELETE=async(e,t)=>this.#e(i.HttpMethod.DELETE,e,await t.params);HEAD=async(e,t)=>this.#e(i.HttpMethod.HEAD,e,await t.params);OPTIONS=async(e,t)=>this.#e(i.HttpMethod.OPTIONS,e,await t.params);respond=(e,t,r)=>new Response(JSON.stringify(t),{status:e,headers:{"content-type":"application/json",...a.getHeadersFromOptions(r)}});#t=(e,t,r,a)=>this.respond(e,{cause:a,statusCode:e,message:t,isError:!0},r);#r=({handlers:e,path:t,params:r})=>{let a={};if(0===Object.keys(r).length)return{handler:e[""],methodParams:a};let s=Object.keys(e),o=[],l=t.join("/");if((o=s.filter(e=>!e.includes("{")&&e===l)).length||(o=s.filter(e=>{let r=e.split("/");if(r.length!==t.length)return!1;let s={};for(let a=0;a<r.length;a++){let o=r[a],l=t[a];if(o.includes("{")){let t=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\{(\w+)\\}/g,"(?<$1>[^/]+)"),r=l.match(RegExp(`^${t}$`))?.groups??{};for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(t in s)throw new n.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,`Duplicate parameter "${t}" at ${e}`);s[t]=r[t]}}else if(o!==l)return!1}return a=s,!0})),o.length>1)throw new n.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,`Conflicting routes found: ${o.join(", ")}`);let[c]=o;return c?{handler:e[c],methodParams:a}:{handler:null,methodParams:a}};#e=async(e,t,r)=>{let s=this.routes[e],n=r[Object.keys(r)[0]],d={};s.forEach((e,t)=>{let r=t._prefix??"";Object.entries(e??{}).forEach(([e,a])=>{d[[r,e].filter(Boolean).join("/")]={staticMethod:a,controller:t}})});let{handler:p,methodParams:m}=this.#r({handlers:d,path:n,params:r});if(!p)return this.#t(i.HttpStatus.NOT_FOUND,`${Object.keys(d)} - Route ${n.join("/")} is not found`);let{staticMethod:f,controller:h}=p;t.vovk={body:()=>t.json(),query:()=>(0,l.default)(t),meta:e=>(0,c.default)(t,e),form:()=>(0,u.default)(t),params:()=>m};try{await f._options?.before?.call(h,t);let e=await f.call(h,t,m);if(e instanceof Response)return e;if("object"==typeof e&&e&&!(e instanceof Array)&&(Reflect.has(e,Symbol.iterator)&&"function"==typeof e[Symbol.iterator]||Reflect.has(e,Symbol.asyncIterator)&&"function"==typeof e[Symbol.asyncIterator])){let r=new o.JSONLinesResponse(t,{headers:{...a.getHeadersFromOptions(f._options)}});return(async()=>{try{for await(let t of e)r.send(t)}catch(e){return r.throw(e)}return r.close()})(),r}return this.respond(200,e??null,f._options)}catch(e){try{await h._onError?.(e,t)}catch(e){console.error(e)}if("NEXT_REDIRECT"!==e.message&&"NEXT_NOT_FOUND"!==e.message){let t=e.statusCode||i.HttpStatus.INTERNAL_SERVER_ERROR;return this.#t(t,e.message,f._options,e.cause)}throw e}}}t.VovkApp=d,a=d},18621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;let r=new WeakMap;async function a(e){if(r.has(e))return r.get(e);let t=await e.formData();e.formData=()=>Promise.resolve(t);let a={};for(let[e,r]of t.entries())r instanceof File?a[e]?Array.isArray(a[e])?a[e].push(r):a[e]=[a[e],r]:a[e]=r:a[e]=r.toString();return r.set(e,a),a}},18744:e=>{"use strict";e.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},19129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(34398);t.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:a.error,code:e=>(0,a.validatePropertyDeps)(e)}},20804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=function(e,t){return function(...r){return function(a,s){let i=a[s];if("function"!=typeof i)throw Error(`Unable to decorate: ${s} is not a function`);let n=i._sourceMethod??i,o=function(t,s){let n=async()=>await i.call(a,t,s);return e?e.call(a,t,n,...r):n()};a[s]=o,o._controller=a,o._sourceMethod=n,o.fn=i.fn,o.models=i.models,n.wrapper=o,i._controller=a;let l=a._handlers?.[s]??null,c=t?.call(a,...r),u="function"==typeof c?c(l,{handlerName:s}):c,d={...l,...u?.validation?{validation:u.validation}:{},...u?.openapi?{openapi:u.openapi}:{},...u?.misc?{misc:u.misc}:{}};o.schema=d,a._handlers={...a._handlers,[s]:d}}}}},21164:(e,t)=>{"use strict";function r(e){let t,r=e.length,a=0,s=0;for(;s<r;)a++,(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<r&&(64512&(t=e.charCodeAt(s)))==56320&&s++;return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},21755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(51616);a.code='require("ajv/dist/runtime/equal").default',t.default=a},21853:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},21887:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;let a=r(36132),s=r(35154),i=r(95316);function n(e,t,r=e.schema){let{gen:i,parentSchema:o,data:l,keyword:c,it:u}=e;(function(e){let{opts:a,errSchemaPath:i}=u,n=r.length,o=n===e.minItems&&(n===e.maxItems||!1===e[t]);if(a.strictTuples&&!o){let e=`"${c}" is ${n}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,s.checkStrictMode)(u,e,a.strictTuples)}})(o),u.opts.unevaluated&&r.length&&!0!==u.items&&(u.items=s.mergeEvaluated.items(i,r.length,u.items));let d=i.name("valid"),p=i.const("len",(0,a._)`${l}.length`);r.forEach((t,r)=>{(0,s.alwaysValidSchema)(u,t)||(i.if((0,a._)`${p} > ${r}`,()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},d)),e.ok(d))})}t.validateTuple=n,t.default={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return n(e,"additionalItems",t);r.items=!0,(0,s.alwaysValidSchema)(r,t)||e.ok((0,i.validateArray)(e))}}},22250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(35154),i=r(21755);t.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,a._)`{allowedValues: ${e}}`},code(e){let t,r,{gen:n,data:o,$data:l,schema:c,schemaCode:u,it:d}=e;if(!l&&0===c.length)throw Error("enum must have non-empty array");let p=c.length>=d.opts.loopEnum,m=()=>null!=t?t:t=(0,s.useFunc)(n,i.default);if(p||l)r=n.let("valid"),e.block$data(r,function(){n.assign(r,!1),n.forOf("v",u,e=>n.if((0,a._)`${m()}(${o}, ${e})`,()=>n.assign(r,!0).break()))});else{if(!Array.isArray(c))throw Error("ajv implementation error");let e=n.const("vSchema",u);r=(0,a.or)(...c.map((t,r)=>(function(e,t){let r=c[t];return"object"==typeof r&&null!==r?(0,a._)`${m()}(${o}, ${e}[${t}])`:(0,a._)`${o} === ${r}`})(e,r)))}e.pass(r)}}},22875:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(21887);t.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,a.validateTuple)(e,"items")}},22921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e||"object"!=typeof e)return"";let t=[];for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let a=e[r];t.push(...function e(t,r){return null==r?[]:"object"==typeof r?Array.isArray(r)?r.flatMap((r,a)=>e(`${t}[${a}]`,r)):Object.keys(r).flatMap(a=>e(`${t}[${a}]`,r[a])):[`${encodeURIComponent(t)}=${encodeURIComponent(String(r))}`]}(r,a))}return t.join("&")}},23128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(35154);t.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,a._)`{propertyName: ${e.propertyName}}`},code(e){let{gen:t,schema:r,data:i,it:n}=e;if((0,s.alwaysValidSchema)(n,r))return;let o=t.name("valid");t.forIn("key",i,r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},o),t.if((0,a.not)(o),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(o)}}},23239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(46584);t.default={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw Error("ajv implementation error");let i=t.name("valid");r.forEach((t,r)=>{if((0,a.alwaysValidSchema)(s,t))return;let n=e.subschema({keyword:"allOf",schemaProp:r},i);e.ok(i),e.mergeEvaluated(n)})}}},26129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=a.operators,i={maximum:{okStr:"<=",ok:s.LTE,fail:s.GT},minimum:{okStr:">=",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}};t.default={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,a._)`{comparison: ${i[e].okStr}, limit: ${t}}`},code(e){let{keyword:t,data:r,schemaCode:s}=e;e.fail$data((0,a._)`${r} ${i[t].fail} ${s} || isNaN(${r})`)}}},26388:(e,t)=>{"use strict";function r(e,t){if(!e||"object"!=typeof e)return null;if(t=t||e,void 0!==e.example)return e.example;if(e.examples&&e.examples.length>0)return e.examples[0];if(void 0!==e.const)return e.const;if(e.$ref){var s,i=e.$ref,n=t;let a=i.split("/").slice(1),o=n;for(let e of a)if(void 0===(o=o[e]))return null;return r(o,n)}if(e.enum&&e.enum.length>0)return e.enum[0];if(e.oneOf&&e.oneOf.length>0)return r(e.oneOf[0],t);if(e.anyOf&&e.anyOf.length>0)return r(e.anyOf[0],t);if(e.allOf&&e.allOf.length>0)return r(e.allOf.reduce((e,t)=>({...e,...t}),{}),t);if(e.type)switch(e.type){case"string":var o=e;if(o.format)switch(o.format){case"email":case"idn-email":return"user@example.com";case"uri":case"url":case"iri":return"https://example.com";case"date":return"2023-01-01";case"date-time":return"2023-01-01T00:00:00Z";case"time":return"12:00:00Z";case"duration":return"PT1H";case"uuid":return"00000000-0000-0000-0000-000000000000";case"regex":return"^[a-zA-Z0-9]+$";case"relative-json-pointer":return"/some/relative/path";case"color":return"#000000";case"hostname":return"example.com";case"zipcode":return"12345";case"phone":return"+123-456-7890";case"password":return"******";default:return"string"}return o.pattern?"pattern-string":"string";case"number":case"integer":return void 0!==(s=e).minimum&&void 0!==s.maximum||void 0!==s.minimum?s.minimum:void 0!==s.maximum?s.maximum:0;case"boolean":return!0;case"object":return a(e,t);case"array":var l=e,c=t;if(l.items){let e=l.items;return Array.from({length:Math.min(l.minItems||1,3)},()=>r(e,c))}return[];default:return null}return e.properties?a(e,t):null}function a(e,t){let a={};if(e.properties){let s=e.required||[];for(let[i,n]of Object.entries(e.properties))(s.includes(i)||0===s.length)&&(a[i]=r(n,t))}return e.additionalProperties&&"object"==typeof e.additionalProperties&&(a.additionalProp=r(e.additionalProperties,t)),a}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONSchemaSample=r},26601:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+=" 항목은 아이템을 "+t+"개 이상 가질 수 없습니다";break;case"additionalProperties":e="추가적인 속성은 허용되지 않습니다";break;case"anyOf":e='"anyOf"의 스키마와 일치해야 합니다';break;case"const":e="상수와 같아야합니다";break;case"contains":e="올바른 아이템을 포함해야 합니다";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+=r.params.property+"속성이 있는 경우, "+r.params.deps+" 속성이 있어야합니다";break;case"discriminator":switch(r.params.error){case"tag":e='"'+r.params.tag+'"태그는 반드시 문자열이여야 합니다';break;case"mapping":e='"'+r.params.tag+'"태그의 값은 반드시 oneOf에 있어야 합니다';break;default:e='"'+r.keyword+'"키워드 검사를 통과해야 합니다'}break;case"enum":e="미리 정의된 값중 하나여야 합니다";break;case"false schema":e="boolean 스키마는 올바르지 않습니다";break;case"format":e='"'+r.params.format+'" 포맷과 일치해야 합니다';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e=" "+(r.params.comparison+" ")+r.params.limit+" 이여야 합니다";break;case"if":e='"'+r.params.failingKeyword+'" 스키마와 일치해야 합니다';break;case"maxItems":e="";var t=r.params.limit;e+="아이템이 최대 "+t+"개이여야 합니다";break;case"maxLength":e="";var t=r.params.limit;e+="최대 "+t+"글자여야 합니다";break;case"maxProperties":e="";var t=r.params.limit;e+="속성은 최대 "+t+"개 이내여야 합니다";break;case"minItems":e="";var t=r.params.limit;e+="아이템이 최소 "+t+"개이여야 합니다";break;case"minLength":e="";var t=r.params.limit;e+="최소 "+t+"글자여야 합니다";break;case"minProperties":e="";var t=r.params.limit;e+="속성은 최소 "+t+"개 이상이여야 합니다";break;case"multipleOf":e=""+r.params.multipleOf+"의 배수여야 합니다";break;case"not":e='"not"스키마에 따라 유효하지 않아야 합니다';break;case"oneOf":e='"oneOf" 스키마중 하나와 정확하게 일치해야 합니다';break;case"pattern":e='"'+r.params.pattern+'"패턴과 일치해야 합니다';break;case"patternRequired":e='"'+r.params.missingPattern+'"패턴과 일치하는 속성을 가져야 합니다';break;case"propertyNames":e="속성명이 올바르지 않습니다";break;case"required":e=""+r.params.missingProperty+" 속성은 필수입니다";break;case"type":e=""+r.params.type+"이여야 합니다";break;case"unevaluatedItems":e="";var t=r.params.len;e+="항목이 "+t+"개 아이템을 초과하면 안됩니다";break;case"unevaluatedProperties":e="평가되지 않은 속성이 없어야합니다.";break;case"uniqueItems":e="중복 아이템이 없어야 합니다 (아이템"+r.params.j+"과 아이템"+r.params.i+"가 동일합니다)";break;default:e='"'+r.keyword+'"키워드 검사를 통과해야 합니다'}r.message=e}}},26610:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(35154);t.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:s}=e;if((0,a.alwaysValidSchema)(s,r))return void e.fail();let i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}},26621:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":e="";var t=a.params.limit;e+="不允许超过"+t+"个元素";break;case"additionalProperties":e="不允许有额外的属性";break;case"anyOf":e="数据应为 anyOf 所指定的其中一个";break;case"const":e="应当等于常量";break;case"contains":e="应当包含一个有效项";break;case"dependencies":case"dependentRequired":e="";var t=a.params.depsCount;e+="应当拥有属性"+a.params.property+"的依赖属性"+a.params.deps;break;case"discriminator":switch(a.params.error){case"tag":e='标签 "'+a.params.tag+'" 的类型必须为字符串';break;case"mapping":e='标签 "'+a.params.tag+'" 的值必须在 oneOf 之中';break;default:e='应当通过 "'+a.keyword+' 关键词校验"'}break;case"enum":e="应当是预设定的枚举值之一";break;case"false schema":e="布尔模式出错";break;case"format":e='应当匹配格式 "'+a.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="应当是 "+r;break;case"if":e='应当匹配模式 "'+a.params.failingKeyword+'" ';break;case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="应当为 "+r;break;case"maxItems":e="";var t=a.params.limit;e+="不应多于 "+t+" 个项";break;case"maxLength":e="";var t=a.params.limit;e+="不应多于 "+t+" 个字符";break;case"maxProperties":e="";var t=a.params.limit;e+="不应有多于 "+t+" 个属性";break;case"minItems":e="";var t=a.params.limit;e+="不应少于 "+t+" 个项";break;case"minLength":e="";var t=a.params.limit;e+="不应少于 "+t+" 个字符";break;case"minProperties":e="";var t=a.params.limit;e+="不应有少于 "+t+" 个属性";break;case"multipleOf":e="应当是 "+a.params.multipleOf+" 的整数倍";break;case"not":e='不应当匹配 "not" schema';break;case"oneOf":e='只能匹配一个 "oneOf" 中的 schema';break;case"pattern":e='应当匹配模式 "'+a.params.pattern+'"';break;case"patternRequired":e="应当有属性匹配模式 "+a.params.missingPattern;break;case"propertyNames":e="属性名 无效";break;case"required":e="应当有必需属性 "+a.params.missingProperty;break;case"type":e="应当是 "+a.params.type+" 类型";break;case"unevaluatedItems":e="";var t=a.params.len;e+=" 不允许有超过 "+t+" 个元素";break;case"unevaluatedProperties":e="不允许存在未求值的属性";break;case"uniqueItems":e="不应当含有重复项 (第 "+a.params.j+" 项与第 "+a.params.i+" 项是重复的)";break;default:e='应当通过 "'+a.keyword+' 关键词校验"'}a.message=e}}},26819:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=a.operators,i={maximum:{okStr:"<=",ok:s.LTE,fail:s.GT},minimum:{okStr:">=",ok:s.GTE,fail:s.LT},exclusiveMaximum:{okStr:"<",ok:s.LT,fail:s.GTE},exclusiveMinimum:{okStr:">",ok:s.GT,fail:s.LTE}};t.default={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,a._)`{comparison: ${i[e].okStr}, limit: ${t}}`},code(e){let{keyword:t,data:r,schemaCode:s}=e;e.fail$data((0,a._)`${r} ${i[t].fail} ${s} || isNaN(${r})`)}}},27048:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},27134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(32770);class s extends Error{constructor(e,t,r,s){super(s||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,a.resolveUrl)(e,t,r),this.missingSchema=(0,a.normalizeId)((0,a.getFullPath)(e,this.missingRef))}}t.default=s},27247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;let a=r(29358),s=r(46584),i=r(1008);function n(e,t){let r=e.const("err",t);e.if((0,a._)`${i.default.vErrors} === null`,()=>e.assign(i.default.vErrors,(0,a._)`[${r}]`),(0,a._)`${i.default.vErrors}.push(${r})`),e.code((0,a._)`${i.default.errors}++`)}function o(e,t){let{gen:r,validateName:s,schemaEnv:i}=e;i.$async?r.throw((0,a._)`new ${e.ValidationError}(${t})`):(r.assign((0,a._)`${s}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>(0,a.str)`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,a.str)`"${e}" keyword must be ${t} ($data)`:(0,a.str)`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,s,i){let{it:l}=e,{gen:u,compositeRule:d,allErrors:p}=l,m=c(e,r,s);(null!=i?i:d||p)?n(u,m):o(l,(0,a._)`[${m}]`)},t.reportExtraError=function(e,r=t.keywordError,a){let{it:s}=e,{gen:l,compositeRule:u,allErrors:d}=s;n(l,c(e,r,a)),u||d||o(s,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if((0,a._)`${i.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,a._)`${i.default.vErrors}.length`,t),()=>e.assign(i.default.vErrors,null)))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:s,errsCount:n,it:o}){if(void 0===n)throw Error("ajv implementation error");let l=e.name("err");e.forRange("i",n,i.default.errors,n=>{e.const(l,(0,a._)`${i.default.vErrors}[${n}]`),e.if((0,a._)`${l}.instancePath === undefined`,()=>e.assign((0,a._)`${l}.instancePath`,(0,a.strConcat)(i.default.instancePath,o.errorPath))),e.assign((0,a._)`${l}.schemaPath`,(0,a.str)`${o.errSchemaPath}/${t}`),o.opts.verbose&&(e.assign((0,a._)`${l}.schema`,r),e.assign((0,a._)`${l}.data`,s))})};let l={keyword:new a.Name("keyword"),schemaPath:new a.Name("schemaPath"),params:new a.Name("params"),propertyName:new a.Name("propertyName"),message:new a.Name("message"),schema:new a.Name("schema"),parentSchema:new a.Name("parentSchema")};function c(e,t,r){let{createErrors:n}=e.it;return!1===n?(0,a._)`{}`:function(e,t,r={}){let{gen:n,it:o}=e,c=[function({errorPath:e},{instancePath:t}){let r=t?(0,a.str)`${e}${(0,s.getErrorPath)(t,s.Type.Str)}`:e;return[i.default.instancePath,(0,a.strConcat)(i.default.instancePath,r)]}(o,r),function({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:i}){let n=i?t:(0,a.str)`${t}/${e}`;return r&&(n=(0,a.str)`${n}${(0,s.getErrorPath)(r,s.Type.Str)}`),[l.schemaPath,n]}(e,r)];return function(e,{params:t,message:r},s){let{keyword:n,data:o,schemaValue:c,it:u}=e,{opts:d,propertyName:p,topSchemaRef:m,schemaPath:f}=u;s.push([l.keyword,n],[l.params,"function"==typeof t?t(e):t||(0,a._)`{}`]),d.messages&&s.push([l.message,"function"==typeof r?r(e):r]),d.verbose&&s.push([l.schema,c],[l.parentSchema,(0,a._)`${m}${f}`],[i.default.data,o]),p&&s.push([l.propertyName,p])}(e,t,c),n.object(...c)}(e,t,r)}},27433:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},27846:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584);t.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,a._)`{propertyName: ${e.propertyName}}`},code(e){let{gen:t,schema:r,data:i,it:n}=e;if((0,s.alwaysValidSchema)(n,r))return;let o=t.name("valid");t.forIn("key",i,r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},o),t.if((0,a.not)(o),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(o)}}},28946:(e,t)=>{"use strict";async function r(e,t){e._getSchema=r=>{if(!r)throw Error("Error setting client validators. Controller not found. Did you forget to use an HTTP decorator?");if(!Object.getOwnPropertyNames(r).find(t=>r[t]._sourceMethod===e))throw Error("Error setting client validators. Handler not found.");return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.setHandlerSchema=r},29087:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;let r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},29358:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;let a=r(89931),s=r(32782);var i=r(89931);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var n=r(32782);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new a._Code(">"),GTE:new a._Code(">="),LT:new a._Code("<"),LTE:new a._Code("<="),EQ:new a._Code("==="),NEQ:new a._Code("!=="),NOT:new a._Code("!"),OR:new a._Code("||"),AND:new a._Code("&&"),ADD:new a._Code("+")};class o{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends o{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){let r=e?s.varKinds.var:this.varKind,a=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${a};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=x(this.rhs,e,t)),this}get names(){return this.rhs instanceof a._CodeOrName?this.rhs.names:{}}}class c extends o{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof a.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=x(this.rhs,e,t),this}get names(){return T(this.lhs instanceof a.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,r,a){super(e,r,a),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class p extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){let t=this.label?` ${this.label}`:"";return`break${t};`+e}}class m extends o{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends o{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=x(this.code,e,t),this}get names(){return this.code instanceof a._CodeOrName?this.code.names:{}}}class h extends o{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,r)=>t+r.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:r}=this,a=r.length;for(;a--;){let s=r[a];s.optimizeNames(e,t)||(function(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}(e,s.names),r.splice(a,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>R(e,t.names),{})}}class y extends h{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends h{}class b extends y{}b.kind="else";class g extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){let e=t.optimizeNodes();t=this.else=Array.isArray(e)?new b(e):e}return t?!1===e?t instanceof g?t:t.nodes:this.nodes.length?this:new g(I(e),t instanceof g?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null==(r=this.else)?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=x(this.condition,e,t),this}get names(){let e=super.names;return T(e,this.condition),this.else&&R(e,this.else.names),e}}g.kind="if";class $ extends y{}$.kind="for";class _ extends ${constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=x(this.iteration,e,t),this}get names(){return R(super.names,this.iteration.names)}}class k extends ${constructor(e,t,r,a){super(),this.varKind=e,this.name=t,this.from=r,this.to=a}render(e){let t=e.es5?s.varKinds.var:this.varKind,{name:r,from:a,to:i}=this;return`for(${t} ${r}=${a}; ${r}<${i}; ${r}++)`+super.render(e)}get names(){let e=T(super.names,this.from);return T(e,this.to)}}class E extends ${constructor(e,t,r,a){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=a}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=x(this.iterable,e,t),this}get names(){return R(super.names,this.iterable.names)}}class O extends y{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){let t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}O.kind="func";class w extends h{render(e){return"return "+super.render(e)}}w.kind="return";class P extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null==(e=this.catch)||e.optimizeNodes(),null==(t=this.finally)||t.optimizeNodes(),this}optimizeNames(e,t){var r,a;return super.optimizeNames(e,t),null==(r=this.catch)||r.optimizeNames(e,t),null==(a=this.finally)||a.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&R(e,this.catch.names),this.finally&&R(e,this.finally.names),e}}class S extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}S.kind="catch";class j extends y{render(e){return"finally"+super.render(e)}}j.kind="finally";class N{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new s.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,a){let s=this._scope.toName(t);return void 0!==r&&a&&(this._constants[s.str]=r),this._leafNode(new l(e,s,r)),s}const(e,t,r){return this._def(s.varKinds.const,e,t,r)}let(e,t,r){return this._def(s.varKinds.let,e,t,r)}var(e,t,r){return this._def(s.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new c(e,t,r))}add(e,r){return this._leafNode(new u(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==a.nil&&this._leafNode(new f(e)),this}object(...e){let t=["{"];for(let[r,s]of e)t.length>1&&t.push(","),t.push(r),(r!==s||this.opts.es5)&&(t.push(":"),(0,a.addCodeArg)(t,s));return t.push("}"),new a._Code(t)}if(e,t,r){if(this._blockNode(new g(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new g(e))}else(){return this._elseNode(new b)}endIf(){return this._endBlockNode(g,b)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new _(e),t)}forRange(e,t,r,a,i=this.opts.es5?s.varKinds.var:s.varKinds.let){let n=this._scope.toName(e);return this._for(new k(i,n,t,r),()=>a(n))}forOf(e,t,r,i=s.varKinds.const){let n=this._scope.toName(e);if(this.opts.es5){let e=t instanceof a.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,a._)`${e}.length`,t=>{this.var(n,(0,a._)`${e}[${t}]`),r(n)})}return this._for(new E("of",i,n,t),()=>r(n))}forIn(e,t,r,i=this.opts.es5?s.varKinds.var:s.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,a._)`Object.keys(${t})`,r);let n=this._scope.toName(e);return this._for(new E("in",i,n,t),()=>r(n))}endFor(){return this._endBlockNode($)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new p(e))}return(e){let t=new w;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(w)}try(e,t,r){if(!t&&!r)throw Error('CodeGen: "try" without "catch" and "finally"');let a=new P;if(this._blockNode(a),this.code(e),t){let e=this.name("e");this._currNode=a.catch=new S(e),t(e)}return r&&(this._currNode=a.finally=new j,this.code(r)),this._endBlockNode(S,j)}throw(e){return this._leafNode(new m(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(void 0===t)throw Error("CodeGen: not in self-balancing block");let r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=a.nil,r,s){return this._blockNode(new O(e,t,r)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof g))throw Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}}function R(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function T(e,t){return t instanceof a._CodeOrName?R(e,t.names):e}function x(e,t,r){var s;if(e instanceof a.Name)return i(e);if(!((s=e)instanceof a._Code&&s._items.some(e=>e instanceof a.Name&&1===t[e.str]&&void 0!==r[e.str])))return e;return new a._Code(e._items.reduce((e,t)=>(t instanceof a.Name&&(t=i(t)),t instanceof a._Code?e.push(...t._items):e.push(t),e),[]));function i(e){let a=r[e.str];return void 0===a||1!==t[e.str]?e:(delete t[e.str],a)}}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,a._)`!${D(e)}`}t.CodeGen=N,t.not=I;let M=C(t.operators.AND);t.and=function(...e){return e.reduce(M)};let A=C(t.operators.OR);function C(e){return(t,r)=>t===a.nil?r:r===a.nil?t:(0,a._)`${D(t)} ${e} ${D(r)}`}function D(e){return e instanceof a.Name?e:(0,a._)`(${e})`}t.or=function(...e){return e.reduce(A)}},29916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcher=t.DEFAULT_ERROR_MESSAGE=void 0,t.createFetcher=i;let a=r(12784),s=r(56156);function i({prepareRequestInit:e,transformResponse:r,onSuccess:n,onError:o}={}){return async({httpMethod:i,getEndpoint:l,validate:c,defaultHandler:u,defaultStreamHandler:d,schema:p},m)=>{let f=null,h=null,y=null;try{let{meta:o,apiRoot:v,disableClientValidation:b,init:g,interpretAs:$}=m,{body:_,query:k,params:E}=m,O=l({apiRoot:v,params:E,query:k}),w=Array.from(new URL(O.startsWith("/")?`http://localhost${O}`:O).pathname.matchAll(/\{([^}]+)\}/g)).map(e=>e[1]);if(w.length)throw new s.HttpException(a.HttpStatus.NULL,`Unused params: ${w.join(", ")} in ${O}`,{body:_,query:k,params:E,endpoint:O});if(!b)try{({body:_,query:k,params:E}=await c(m,{endpoint:O})??{body:_,query:k,params:E})}catch(e){if(e instanceof s.HttpException)throw e;throw new s.HttpException(a.HttpStatus.NULL,e.message??t.DEFAULT_ERROR_MESSAGE,{body:_,query:k,params:E,endpoint:O})}y={method:i,...g,headers:{accept:"application/jsonl, application/json",..._ instanceof FormData?{}:{"content-type":"application/json"},...o?{"x-meta":JSON.stringify(o)}:{},...g?.headers}},_ instanceof FormData?y.body=_:_&&(y.body=JSON.stringify(_)),y=e?await e(y,m):y;let P=new AbortController;y.signal=P.signal;try{f=await fetch(O,y)}catch(e){throw new s.HttpException(a.HttpStatus.NULL,(e?.message??t.DEFAULT_ERROR_MESSAGE)+" "+O,{body:_,query:k,params:E,endpoint:O})}let S=$??f.headers.get("content-type");return h=S?.startsWith("application/jsonl")?d({response:f,controller:P,schema:p}):S?.startsWith("application/json")?u({response:f,schema:p}):f,h=await h,h=r?await r(h,m,f,y):h,await n?.(h,m,f,y),[h,f]}catch(e){throw await o?.(e,m,f,y,h),e}}}t.DEFAULT_ERROR_MESSAGE="Unknown error at default fetcher",t.fetcher=i()},30502:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createRPC=void 0;let s=r(58954),i=r(70364),n=r(9172),o=a(r(22921)),l=(e,t,r)=>{let a=e,s=r?(0,o.default)(r):null;for(let[e,r]of Object.entries(t??{}))a=a.replace(`{${e}}`,r);return`${a}${s?"?":""}${s}`};t.createRPC=(e,t,r,a,o)=>{a??=s.fetcher;let c=o?.segmentNameOverride??t,u=e.segments[t];if(!u)throw Error(`Unable to create RPC module. Segment schema is missing for segment "${t}".`);let d=e.segments[t]?.controllers[r],p={};if(!d)throw Error(`Unable to create RPC module. Controller schema is missing for module "${r}" from segment "${t}".`);let m=(d.prefix??"").trim().replace(/^\/|\/$/g,"");for(let[t,r]of Object.entries(d.handlers??{})){let{path:s,httpMethod:f,validation:h}=r,y=({apiRoot:e,params:t,query:r})=>{let a=d.forceApiRoot??u.forceApiRoot;return[(e=e??a??o?.apiRoot??"/api").startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?"":"/",e,a?"":c,l([m,s].filter(Boolean).join("/"),t,r)].filter(Boolean).join("/").replace(/([^:])\/+/g,"$1/")},v=async(s={})=>{let l={name:t,httpMethod:f,getEndpoint:y,validate:async(t,{endpoint:r})=>{let a=s.validateOnClient??o?.validateOnClient;if(a&&h){if("function"!=typeof a)throw Error("validateOnClient must be a function");return await a({...t},h,{fullSchema:e,endpoint:r})??t}return t},defaultHandler:i.defaultHandler,defaultStreamHandler:n.defaultStreamHandler,schema:r},c={...o,...s,body:s.body??null,query:s.query??{},params:s.params??{}};if(!a)throw Error("Fetcher is not provided");let[u,d]=await a(l,c);return s.transform?s.transform(u,d):u};v.schema=r,v.controllerSchema=d,v.segmentSchema=u,v.fullSchema=e,v.isRPC=!0,v.path=[c,m,s].filter(Boolean).join("/"),v.queryKey=e=>[v.segmentSchema.segmentName,v.controllerSchema.prefix??"",v.controllerSchema.rpcModuleName,v.schema.path,v.schema.httpMethod,...e??[]],p[t]=v}return p}},30546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(63195),i=r(44872),n=r(61476),o=r(46584);t.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===s.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,a._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){let{gen:t,data:r,schema:l,parentSchema:c,it:u}=e,{oneOf:d}=c;if(!u.opts.discriminator)throw Error("discriminator: requires discriminator option");let p=l.propertyName;if("string"!=typeof p)throw Error("discriminator: requires propertyName");if(l.mapping)throw Error("discriminator: mapping is not supported");if(!d)throw Error("discriminator: requires oneOf keyword");let m=t.let("valid",!1),f=t.const("tag",(0,a._)`${r}${(0,a.getProperty)(p)}`);t.if((0,a._)`typeof ${f} == "string"`,()=>(function(){let r=function(){var e;let t={},r=s(c),a=!0;for(let t=0;t<d.length;t++){let c=d[t];if((null==c?void 0:c.$ref)&&!(0,o.schemaHasRulesButRef)(c,u.self.RULES)){let e=c.$ref;if((c=i.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,e))instanceof i.SchemaEnv&&(c=c.schema),void 0===c)throw new n.default(u.opts.uriResolver,u.baseId,e)}let m=null==(e=null==c?void 0:c.properties)?void 0:e[p];if("object"!=typeof m)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);a=a&&(r||s(c)),function(e,t){if(e.const)l(e.const,t);else if(e.enum)for(let r of e.enum)l(r,t);else throw Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}(m,t)}if(!a)throw Error(`discriminator: "${p}" must be required`);return t;function s({required:e}){return Array.isArray(e)&&e.includes(p)}function l(e,r){if("string"!=typeof e||e in t)throw Error(`discriminator: "${p}" values must be unique strings`);t[e]=r}}();for(let s in t.if(!1),r)t.elseIf((0,a._)`${f} === ${s}`),t.assign(m,function(r){let s=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:r},s);return e.mergeEvaluated(i,a.Name),s}(r[s]));t.else(),e.error(!1,{discrError:s.DiscrError.Mapping,tag:f,tagName:p}),t.endIf()})(),()=>e.error(!1,{discrError:s.DiscrError.Tag,tag:f,tagName:p})),e.ok(m)}}},30839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(95316),s=r(36132);t.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,s.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,s._)`{pattern: ${e}}`},code(e){let{data:t,$data:r,schema:i,schemaCode:n,it:o}=e,l=o.opts.unicodeRegExp?"u":"",c=r?(0,s._)`(new RegExp(${n}, ${l}))`:(0,a.usePattern)(e,i);e.fail$data((0,s._)`!${c}.test(${t})`)}}},30853:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONLinesResponse=void 0,r(44506);class a extends Response{isClosed=!1;controller;encoder;readableStream;iteratorQueue=[];iteratorResolvers=[];constructor(e,t){let r,a=new TextEncoder,s=new ReadableStream({cancel:()=>{this.isClosed=!0},start:e=>{r=e}});super(s,{...t,headers:{"content-type":!e||e?.headers?.get("accept")?.includes("application/jsonl")?"application/jsonl; charset=utf-8":"text/plain; charset=utf-8",...t?.headers}}),this.readableStream=e?s:null,this.encoder=e?a:null,this.controller=e?r:null,e?.signal?.addEventListener("abort",this.close,{once:!0})}send=e=>{let{controller:t,encoder:r}=this;this.isClosed||(t?.enqueue(r?.encode(JSON.stringify(e)+"\n")),this.iteratorResolvers.length>0?this.iteratorResolvers.shift()({value:e,done:!1}):this.iteratorQueue.push(e))};close=()=>{let{controller:e}=this;if(!this.isClosed)for(this.isClosed=!0,e?.close();this.iteratorResolvers.length>0;)this.iteratorResolvers.shift()({done:!0,value:void 0})};throw=e=>(this.send({isError:!0,reason:e instanceof Error?e.message:e}),this.close());[Symbol.dispose]=()=>this.close();[Symbol.asyncDispose]=()=>this.close();[Symbol.asyncIterator]=()=>({next:async()=>this.iteratorQueue.length>0?{value:this.iteratorQueue.shift(),done:!1}:this.isClosed?{done:!0,value:void 0}:new Promise(e=>{this.iteratorResolvers.push(e)})})}t.JSONLinesResponse=a},30947:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;let s=r(29087),i=r(75836),n=r(27247),o=r(29358),l=r(46584);function c(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(s.isJSONType))return t;throw Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(a||(t.DataType=a={})),t.getSchemaTypes=function(e){let t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){var r,s;let{gen:n,data:l,opts:c}=e,d=(r=t,(s=c.coerceTypes)?r.filter(e=>u.has(e)||"array"===s&&"array"===e):[]),m=t.length>0&&!(0===d.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(m){let r=p(t,l,c.strictNumbers,a.Wrong);n.if(r,()=>{d.length?function(e,t,r){let{gen:a,data:s,opts:i}=e,n=a.let("dataType",(0,o._)`typeof ${s}`),l=a.let("coerced",(0,o._)`undefined`);for(let e of("array"===i.coerceTypes&&a.if((0,o._)`${n} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>a.assign(s,(0,o._)`${s}[0]`).assign(n,(0,o._)`typeof ${s}`).if(p(t,s,i.strictNumbers),()=>a.assign(l,s))),a.if((0,o._)`${l} !== undefined`),r))(u.has(e)||"array"===e&&"array"===i.coerceTypes)&&function(e){switch(e){case"string":a.elseIf((0,o._)`${n} == "number" || ${n} == "boolean"`).assign(l,(0,o._)`"" + ${s}`).elseIf((0,o._)`${s} === null`).assign(l,(0,o._)`""`);return;case"number":a.elseIf((0,o._)`${n} == "boolean" || ${s} === null
              || (${n} == "string" && ${s} && ${s} == +${s})`).assign(l,(0,o._)`+${s}`);return;case"integer":a.elseIf((0,o._)`${n} === "boolean" || ${s} === null
              || (${n} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,(0,o._)`+${s}`);return;case"boolean":a.elseIf((0,o._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf((0,o._)`${s} === "true" || ${s} === 1`).assign(l,!0);return;case"null":a.elseIf((0,o._)`${s} === "" || ${s} === 0 || ${s} === false`),a.assign(l,null);return;case"array":a.elseIf((0,o._)`${n} === "string" || ${n} === "number"
              || ${n} === "boolean" || ${s} === null`).assign(l,(0,o._)`[${s}]`)}}(e);a.else(),f(e),a.endIf(),a.if((0,o._)`${l} !== undefined`,()=>{a.assign(s,l),function({gen:e,parentData:t,parentDataProperty:r},a){e.if((0,o._)`${t} !== undefined`,()=>e.assign((0,o._)`${t}[${r}]`,a))}(e,l)})}(e,t,d):f(e)})}return m};let u=new Set(["string","number","integer","boolean","null"]);function d(e,t,r,s=a.Correct){let i,n=s===a.Correct?o.operators.EQ:o.operators.NEQ;switch(e){case"null":return(0,o._)`${t} ${n} null`;case"array":i=(0,o._)`Array.isArray(${t})`;break;case"object":i=(0,o._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=l((0,o._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=l();break;default:return(0,o._)`typeof ${t} ${n} ${e}`}return s===a.Correct?i:(0,o.not)(i);function l(e=o.nil){return(0,o.and)((0,o._)`typeof ${t} == "number"`,e,r?(0,o._)`isFinite(${t})`:o.nil)}}function p(e,t,r,a){let s;if(1===e.length)return d(e[0],t,r,a);let i=(0,l.toHash)(e);if(i.array&&i.object){let e=(0,o._)`typeof ${t} != "object"`;s=i.null?e:(0,o._)`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else s=o.nil;for(let e in i.number&&delete i.integer,i)s=(0,o.and)(s,d(e,t,r,a));return s}t.checkDataType=d,t.checkDataTypes=p;let m={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?(0,o._)`{type: ${e}}`:(0,o._)`{type: ${t}}`};function f(e){let t=function(e){let{gen:t,data:r,schema:a}=e,s=(0,l.schemaRefOrVal)(e,a,"type");return{gen:t,keyword:"type",data:r,schema:a.type,schemaCode:s,schemaValue:s,parentSchema:a,params:{},it:e}}(e);(0,n.reportError)(t,m)}t.reportTypeError=f},31710:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(66895),s=r(42051),i=r(71377),n=r(34991),o=r(91370),l=r(15158),c=r(69083),u=r(91202);t.default=[n.default,a.default,s.default,(0,i.default)(!0),c.default,u.metadataVocabulary,u.contentVocabulary,o.default,l.default]},32770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;let a=r(35154),s=r(51616),i=r(90787),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!function e(t){for(let r in t){if(o.has(r))return!0;let a=t[r];if(Array.isArray(a)&&a.some(e)||"object"==typeof a&&e(a))return!0}return!1}(e):!!t&&function e(t){let r=0;for(let s in t)if("$ref"===s||(r++,!n.has(s)&&("object"==typeof t[s]&&(0,a.eachItem)(t[s],t=>r+=e(t)),r===1/0)))return 1/0;return r}(e)<=t)};let o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e,t="",r){!1!==r&&(t=d(t));let a=e.parse(t);return c(e,a)}function c(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=c;let u=/#\/?$/;function d(e){return e?e.replace(u,""):""}t.normalizeId=d,t.resolveUrl=function(e,t,r){return r=d(r),e.resolve(t,r)};let p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};let{schemaId:r,uriResolver:a}=this.opts,n=d(e[r]||t),o={"":n},c=l(a,n,!1),u={},m=new Set;return i(e,{allKeys:!0},(e,t,a,s)=>{if(void 0===s)return;let i=c+t,n=o[s];function l(t){let r=this.opts.uriResolver.resolve;if(t=d(n?r(n,t):t),m.has(t))throw h(t);m.add(t);let a=this.refs[t];return"string"==typeof a&&(a=this.refs[a]),"object"==typeof a?f(e,a.schema,t):t!==d(i)&&("#"===t[0]?(f(e,u[t],t),u[t]=e):this.refs[t]=i),t}function y(e){if("string"==typeof e){if(!p.test(e))throw Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[r]&&(n=l.call(this,e[r])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),o[t]=n}),u;function f(e,t,r){if(void 0!==t&&!s(e,t))throw h(r)}function h(e){return Error(`reference "${e}" resolves to more than one schema`)}}},32782:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;let s=r(89931);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(a||(t.UsedValueState=a={})),t.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class n{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof s.Name?e:this.name(e)}name(e){return new s.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if((null==(r=null==(t=this._parent)?void 0:t._prefixes)?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=n;class o extends s.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=(0,s._)`.${new s.Name(t)}[${r}]`}}t.ValueScopeName=o;let l=(0,s._)`\n`;class c extends n{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:s.nil}}get(){return this._scope}name(e){return new o(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw Error("CodeGen: ref must be passed in value");let a=this.toName(e),{prefix:s}=a,i=null!=(r=t.key)?r:t.ref,n=this._values[s];if(n){let e=n.get(i);if(e)return e}else n=this._values[s]=new Map;n.set(i,a);let o=this._scope[s]||(this._scope[s]=[]),l=o.length;return o[l]=t.ref,a.setValue(t,{property:s,itemIndex:l}),a}getValue(e,t){let r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw Error(`CodeGen: name "${t}" has no value`);return(0,s._)`${e}${t.scopePath}`})}scopeCode(e=this._values,t,r){return this._reduceValues(e,e=>{if(void 0===e.value)throw Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,r)}_reduceValues(e,r,n={},o){let l=s.nil;for(let c in e){let u=e[c];if(!u)continue;let d=n[c]=n[c]||new Map;u.forEach(e=>{if(d.has(e))return;d.set(e,a.Started);let n=r(e);if(n){let r=this.opts.es5?t.varKinds.var:t.varKinds.const;l=(0,s._)`${l}${r} ${e} = ${n};${this.opts._n}`}else if(n=null==o?void 0:o(e))l=(0,s._)`${l}${n}${this.opts._n}`;else throw new i(e);d.set(e,a.Completed)})}return l}}t.ValueScope=c},32849:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(62798),s=r(29358);t.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,s.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,s._)`{pattern: ${e}}`},code(e){let{data:t,$data:r,schema:i,schemaCode:n,it:o}=e,l=o.opts.unicodeRegExp?"u":"",c=r?(0,s._)`(new RegExp(${n}, ${l}))`:(0,a.usePattern)(e,i);e.fail$data((0,s._)`!${c}.test(${t})`)}}},32889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(93913),s=r(9405),i=r(38443),n=r(80693),o=r(61536);t.default=[a.default,s.default,(0,i.default)(),n.default,o.metadataVocabulary,o.contentVocabulary]},33021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;let a=r(29358),s=r(46584),i=r(62798);function n(e,t,r=e.schema){let{gen:i,parentSchema:o,data:l,keyword:c,it:u}=e;(function(e){let{opts:a,errSchemaPath:i}=u,n=r.length,o=n===e.minItems&&(n===e.maxItems||!1===e[t]);if(a.strictTuples&&!o){let e=`"${c}" is ${n}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,s.checkStrictMode)(u,e,a.strictTuples)}})(o),u.opts.unevaluated&&r.length&&!0!==u.items&&(u.items=s.mergeEvaluated.items(i,r.length,u.items));let d=i.name("valid"),p=i.const("len",(0,a._)`${l}.length`);r.forEach((t,r)=>{(0,s.alwaysValidSchema)(u,t)||(i.if((0,a._)`${p} > ${r}`,()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},d)),e.ok(d))})}t.validateTuple=n,t.default={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return n(e,"additionalItems",t);r.items=!0,(0,s.alwaysValidSchema)(r,t)||e.ok((0,i.validateArray)(e))}}},33262:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":e="";var t=a.params.limit;e+="saa sis\xe4lt\xe4\xe4 enint\xe4\xe4n "+t,1==t?e+=":n elementin":e+=" elementti\xe4";break;case"additionalProperties":e="ei saa sis\xe4lt\xe4\xe4 ylim\xe4\xe4r\xe4isi\xe4 ominaisuuksia";break;case"anyOf":e='t\xe4ytyy vastata "anyOf" skeemaa';break;case"const":e="t\xe4ytyy olla yht\xe4 kuin vakio";break;case"contains":e="t\xe4ytyy sis\xe4lt\xe4\xe4 kelvollinen elementti";break;case"dependencies":case"dependentRequired":e="";var t=a.params.depsCount;e+="t\xe4ytyy sis\xe4lt\xe4\xe4 "+a.params.deps+" ominaisuu",1==t?e+="s":e+="det",e+=" kun "+a.params.property+"-ominaisuus on l\xe4sn\xe4";break;case"discriminator":switch(a.params.error){case"tag":e='tunniste "'+a.params.tag+'" t\xe4ytyy olla merkkijono';break;case"mapping":e='tunnisteen "'+a.params.tag+'" arvon muoto pit\xe4\xe4 olla oneOf';break;default:e='t\xe4ytyy l\xe4p\xe4ist\xe4 "'+a.keyword+'" avainsanatarkistus'}break;case"enum":e="t\xe4ytyy olla yht\xe4 kuin jokin sallituista arvoista";break;case"false schema":e="boolean skeema on v\xe4\xe4r\xe4";break;case"format":e='t\xe4ytyy vastata muotoa "'+a.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="t\xe4ytyy olla "+(a.params.comparison+" ")+a.params.limit;break;case"if":e='t\xe4ytyy vastata "'+a.params.failingKeyword+'" skeemaa';break;case"maxItems":e="";var t=a.params.limit;e+="tulee sis\xe4lt\xe4\xe4 enint\xe4\xe4n "+t+" ",1==t?e+="elementti":e+="elementti\xe4";break;case"maxLength":e="";var t=a.params.limit;e+="ei saa olla pidempi kuin "+t+" merkki",1!=t&&(e+="\xe4");break;case"maxProperties":e="";var t=a.params.limit;e+="tulee sis\xe4lt\xe4\xe4 enint\xe4\xe4n "+t+" ",1==t?e+="ominaisuus":e+="ominaisuutta";break;case"minItems":e="";var t=a.params.limit;e+="tulee sis\xe4lt\xe4\xe4 v\xe4hint\xe4\xe4n "+t+" ",1==t?e+="elementti":e+="elementti\xe4";break;case"minLength":e="";var t=a.params.limit;e+="ei saa olla lyhyempi kuin "+t+" merkki",1!=t&&(e+="\xe4");break;case"minProperties":e="";var t=a.params.limit;e+="tulee sis\xe4lt\xe4\xe4 v\xe4hint\xe4\xe4n "+t+" ",1==t?e+="ominaisuus":e+="ominaisuutta";break;case"multipleOf":e="t\xe4ytyy olla moninkertainen: "+a.params.multipleOf;break;case"not":e='ei saa olla hyv\xe4ksytty skeeman "not" mukaan';break;case"oneOf":e='t\xe4ytyy vastata t\xe4sm\xe4lleen yht\xe4 "oneOf" -kohdassa m\xe4\xe4ritelty\xe4 skeemaa';break;case"pattern":e='t\xe4ytyy vastata muotoa "'+a.params.pattern+'"';break;case"patternRequired":e='t\xe4ytyy sis\xe4lt\xe4\xe4 ominaisuus joka vastaa kaavaa "'+a.params.missingPattern+'"';break;case"propertyNames":e="ominaisuuden nimi on virheellinen";break;case"required":e="t\xe4ytyy sis\xe4lt\xe4\xe4 vaadittu ominaisuus "+a.params.missingProperty;break;case"type":e="";var r=a.params.type;e+="t\xe4ytyy olla ","number"==r?e+="numero":"integer"==r?e+="kokonaisluku":"string"==r?e+="merkkijono":"boolean"==r?e+="boolean":e+=r;break;case"unevaluatedItems":e="";var t=a.params.len;e+="ei saa olla enemm\xe4n kuin "+t+" elementti",1!=t&&(e+="\xe4");break;case"unevaluatedProperties":e="ei saa sis\xe4lt\xe4\xe4 arvioimattomia ominaisuuksia";break;case"uniqueItems":e="ei saa sis\xe4lt\xe4\xe4 duplikaatteja (elementit ## "+a.params.j+" ja "+a.params.i+" ovat identtiset)";break;default:e='t\xe4ytyy l\xe4p\xe4ist\xe4 "'+a.keyword+'" avainsanatarkistus'}a.message=e}}},33768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584),i=r(86189);t.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,a._)`{allowedValue: ${e}}`},code(e){let{gen:t,data:r,$data:n,schemaCode:o,schema:l}=e;n||l&&"object"==typeof l?e.fail$data((0,a._)`!${(0,s.useFunc)(t,i.default)}(${r}, ${o})`):e.fail((0,a._)`${l} !== ${r}`)}}},34102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(35154),i=r(21755);t.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,a._)`{allowedValue: ${e}}`},code(e){let{gen:t,data:r,$data:n,schemaCode:o,schema:l}=e;n||l&&"object"==typeof l?e.fail$data((0,a._)`!${(0,s.useFunc)(t,i.default)}(${r}, ${o})`):e.fail((0,a._)`${l} !== ${r}`)}}},34398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;let a=r(29358),s=r(46584),i=r(62798);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>(0,a.str)`must have ${1===t?"property":"properties"} ${r} when property ${e} is present`,params:({params:{property:e,depsCount:t,deps:r,missingProperty:s}})=>(0,a._)`{property: ${e},
    missingProperty: ${s},
    depsCount: ${t},
    deps: ${r}}`};let n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){let[t,r]=function({schema:e}){let t={},r={};for(let a in e)"__proto__"!==a&&((Array.isArray(e[a])?t:r)[a]=e[a]);return[t,r]}(e);o(e,t),l(e,r)}};function o(e,t=e.schema){let{gen:r,data:s,it:n}=e;if(0===Object.keys(t).length)return;let l=r.let("missing");for(let o in t){let c=t[o];if(0===c.length)continue;let u=(0,i.propertyInData)(r,s,o,n.opts.ownProperties);e.setParams({property:o,depsCount:c.length,deps:c.join(", ")}),n.allErrors?r.if(u,()=>{for(let t of c)(0,i.checkReportMissingProp)(e,t)}):(r.if((0,a._)`${u} && (${(0,i.checkMissingProp)(e,c,l)})`),(0,i.reportMissingProp)(e,l),r.else())}}function l(e,t=e.schema){let{gen:r,data:a,keyword:n,it:o}=e,c=r.name("valid");for(let l in t)(0,s.alwaysValidSchema)(o,t[l])||(r.if((0,i.propertyInData)(r,a,l,o.opts.ownProperties),()=>{let t=e.subschema({keyword:n,schemaProp:l},c);e.mergeValidEvaluated(t,c)},()=>r.var(c,!0)),e.ok(c))}t.validatePropertyDeps=o,t.validateSchemaDeps=l,t.default=n},34604:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584),i=r(66726);t.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxLength"===e?"more":"fewer"} than ${t} characters`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:n,it:o}=e,l="maxLength"===t?a.operators.GT:a.operators.LT,c=!1===o.opts.unicode?(0,a._)`${r}.length`:(0,a._)`${(0,s.useFunc)(e.gen,i.default)}(${r})`;e.fail$data((0,a._)`${c} ${l} ${n}`)}}},34991:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(80031),s=r(63915),i=r(37998),n=r(57728);t.default=[a.default,s.default,i.default,n.default]},35154:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;let s=r(36132),i=r(47257);function n(e,t=e.schema){let{opts:r,self:a}=e;if(!r.strictSchema||"boolean"==typeof t)return;let s=a.RULES.keywords;for(let r in t)s[r]||f(e,`unknown keyword: "${r}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(let r in e)if(t[r])return!0;return!1}function l(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:a}){return(i,n,o,l)=>{let c=void 0===o?n:o instanceof s.Name?(n instanceof s.Name?e(i,n,o):t(i,n,o),o):n instanceof s.Name?(t(i,o,n),n):r(n,o);return l!==s.Name||c instanceof s.Name?c:a(i,c)}}function d(e,t){if(!0===t)return e.var("props",!0);let r=e.var("props",(0,s._)`{}`);return void 0!==t&&p(e,r,t),r}function p(e,t,r){Object.keys(r).forEach(r=>e.assign((0,s._)`${t}${(0,s.getProperty)(r)}`,!0))}t.toHash=function(e){let t={};for(let r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(n(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=n,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(let r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,a,i){if(!i){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return(0,s._)`${r}`}return(0,s._)`${e}${t}${(0,s.getProperty)(a)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(l(e))},t.escapeJsonPointer=l,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,r)=>e.if((0,s._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,s._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,s._)`${r} || {}`).code((0,s._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,s._)`${r} !== true`,()=>{!0===t?e.assign(r,!0):(e.assign(r,(0,s._)`${r} || {}`),p(e,r,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:d}),items:u({mergeNames:(e,t,r)=>e.if((0,s._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,s._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,s._)`${r} !== true`,()=>e.assign(r,!0===t||(0,s._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=d,t.setEvaluated=p;let m={};function f(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:m[t.code]||(m[t.code]=new i._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(a||(t.Type=a={})),t.getErrorPath=function(e,t,r){if(e instanceof s.Name){let i=t===a.Num;return r?i?(0,s._)`"[" + ${e} + "]"`:(0,s._)`"['" + ${e} + "']"`:i?(0,s._)`"/" + ${e}`:(0,s._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,s.getProperty)(e).toString():"/"+l(e)},t.checkStrictMode=f},35233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=function(e){return((null==e?"":String(e)).replace(/[\s_-]+/g," ").trim().match(r)||[]).map((e,t)=>{let r=e.toLowerCase();return 0===t?r:r.charAt(0).toUpperCase()+r.slice(1)}).join("")};let r=/[\p{Lu}]{2,}(?=[\p{Lu}][\p{Ll}]+[0-9]*|\b)|[\p{Lu}]?[\p{Ll}]+[0-9]*|[\p{Lu}]|[0-9]+/gu},35294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(35154);function i(e,t){let r=e.schema[t];return void 0!==r&&!(0,s.alwaysValidSchema)(e,r)}t.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,a.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,a._)`{failingKeyword: ${e.ifClause}}`},code(e){let{gen:t,parentSchema:r,it:n}=e;void 0===r.then&&void 0===r.else&&(0,s.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let o=i(n,"then"),l=i(n,"else");if(!o&&!l)return;let c=t.let("valid",!0),u=t.name("_valid");if(function(){let t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),o&&l){let r=t.let("ifClause");e.setParams({ifClause:r}),t.if(u,d("then",r),d("else",r))}else o?t.if(u,d("then")):t.if((0,a.not)(u),d("else"));function d(r,s){return()=>{let i=e.subschema({keyword:r},u);t.assign(c,u),e.mergeValidEvaluated(i,c),s?t.assign(s,(0,a._)`${r}`):e.setParams({ifClause:r})}}e.pass(c,()=>e.error(!0))}}},35724:(e,t)=>{"use strict";function r(e){return 0===e.length?"":e[0].toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.VERB_MAP=void 0,t.capitalize=r,t.generateFnName=function(e,s,i={}){let n,{ignoreSegments:o}={...a,...i},l=s.replace(/^\/|\/$/g,"").split("/").filter(e=>!o?.includes(e.toLowerCase())).filter(Boolean),c=[],u=[];l.forEach(e=>{let t=e.match(/^{?([^}]+)}?$/);t?u.push(t[1]):c.push(e)}),n="GET"===e?u.length?t.VERB_MAP.GET.withParams:t.VERB_MAP.GET.noParams:t.VERB_MAP[e].default;let d=c.map(r).join(""),p=u.length?"By"+u.map(r).join(""):"",m=`${n}${d}${p}`;return m[0].toLowerCase()+m.slice(1)},t.VERB_MAP={GET:{noParams:"list",withParams:"get"},POST:{default:"create"},PUT:{default:"update"},PATCH:{default:"patch"},DELETE:{default:"delete"},HEAD:{default:"head"},OPTIONS:{default:"options"}};let a={ignoreSegments:["api"]}},36132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;let a=r(47257),s=r(78332);var i=r(47257);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var n=r(78332);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new a._Code(">"),GTE:new a._Code(">="),LT:new a._Code("<"),LTE:new a._Code("<="),EQ:new a._Code("==="),NEQ:new a._Code("!=="),NOT:new a._Code("!"),OR:new a._Code("||"),AND:new a._Code("&&"),ADD:new a._Code("+")};class o{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends o{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){let r=e?s.varKinds.var:this.varKind,a=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${a};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=x(this.rhs,e,t)),this}get names(){return this.rhs instanceof a._CodeOrName?this.rhs.names:{}}}class c extends o{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof a.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=x(this.rhs,e,t),this}get names(){return T(this.lhs instanceof a.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,r,a){super(e,r,a),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class p extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){let t=this.label?` ${this.label}`:"";return`break${t};`+e}}class m extends o{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends o{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=x(this.code,e,t),this}get names(){return this.code instanceof a._CodeOrName?this.code.names:{}}}class h extends o{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,r)=>t+r.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:r}=this,a=r.length;for(;a--;){let s=r[a];s.optimizeNames(e,t)||(function(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}(e,s.names),r.splice(a,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>R(e,t.names),{})}}class y extends h{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends h{}class b extends y{}b.kind="else";class g extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){let e=t.optimizeNodes();t=this.else=Array.isArray(e)?new b(e):e}return t?!1===e?t instanceof g?t:t.nodes:this.nodes.length?this:new g(I(e),t instanceof g?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null==(r=this.else)?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=x(this.condition,e,t),this}get names(){let e=super.names;return T(e,this.condition),this.else&&R(e,this.else.names),e}}g.kind="if";class $ extends y{}$.kind="for";class _ extends ${constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=x(this.iteration,e,t),this}get names(){return R(super.names,this.iteration.names)}}class k extends ${constructor(e,t,r,a){super(),this.varKind=e,this.name=t,this.from=r,this.to=a}render(e){let t=e.es5?s.varKinds.var:this.varKind,{name:r,from:a,to:i}=this;return`for(${t} ${r}=${a}; ${r}<${i}; ${r}++)`+super.render(e)}get names(){let e=T(super.names,this.from);return T(e,this.to)}}class E extends ${constructor(e,t,r,a){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=a}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=x(this.iterable,e,t),this}get names(){return R(super.names,this.iterable.names)}}class O extends y{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){let t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}O.kind="func";class w extends h{render(e){return"return "+super.render(e)}}w.kind="return";class P extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null==(e=this.catch)||e.optimizeNodes(),null==(t=this.finally)||t.optimizeNodes(),this}optimizeNames(e,t){var r,a;return super.optimizeNames(e,t),null==(r=this.catch)||r.optimizeNames(e,t),null==(a=this.finally)||a.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&R(e,this.catch.names),this.finally&&R(e,this.finally.names),e}}class S extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}S.kind="catch";class j extends y{render(e){return"finally"+super.render(e)}}j.kind="finally";class N{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new s.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,a){let s=this._scope.toName(t);return void 0!==r&&a&&(this._constants[s.str]=r),this._leafNode(new l(e,s,r)),s}const(e,t,r){return this._def(s.varKinds.const,e,t,r)}let(e,t,r){return this._def(s.varKinds.let,e,t,r)}var(e,t,r){return this._def(s.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new c(e,t,r))}add(e,r){return this._leafNode(new u(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==a.nil&&this._leafNode(new f(e)),this}object(...e){let t=["{"];for(let[r,s]of e)t.length>1&&t.push(","),t.push(r),(r!==s||this.opts.es5)&&(t.push(":"),(0,a.addCodeArg)(t,s));return t.push("}"),new a._Code(t)}if(e,t,r){if(this._blockNode(new g(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new g(e))}else(){return this._elseNode(new b)}endIf(){return this._endBlockNode(g,b)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new _(e),t)}forRange(e,t,r,a,i=this.opts.es5?s.varKinds.var:s.varKinds.let){let n=this._scope.toName(e);return this._for(new k(i,n,t,r),()=>a(n))}forOf(e,t,r,i=s.varKinds.const){let n=this._scope.toName(e);if(this.opts.es5){let e=t instanceof a.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,a._)`${e}.length`,t=>{this.var(n,(0,a._)`${e}[${t}]`),r(n)})}return this._for(new E("of",i,n,t),()=>r(n))}forIn(e,t,r,i=this.opts.es5?s.varKinds.var:s.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,a._)`Object.keys(${t})`,r);let n=this._scope.toName(e);return this._for(new E("in",i,n,t),()=>r(n))}endFor(){return this._endBlockNode($)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new p(e))}return(e){let t=new w;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(w)}try(e,t,r){if(!t&&!r)throw Error('CodeGen: "try" without "catch" and "finally"');let a=new P;if(this._blockNode(a),this.code(e),t){let e=this.name("e");this._currNode=a.catch=new S(e),t(e)}return r&&(this._currNode=a.finally=new j,this.code(r)),this._endBlockNode(S,j)}throw(e){return this._leafNode(new m(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(void 0===t)throw Error("CodeGen: not in self-balancing block");let r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=a.nil,r,s){return this._blockNode(new O(e,t,r)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof g))throw Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}}function R(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function T(e,t){return t instanceof a._CodeOrName?R(e,t.names):e}function x(e,t,r){var s;if(e instanceof a.Name)return i(e);if(!((s=e)instanceof a._Code&&s._items.some(e=>e instanceof a.Name&&1===t[e.str]&&void 0!==r[e.str])))return e;return new a._Code(e._items.reduce((e,t)=>(t instanceof a.Name&&(t=i(t)),t instanceof a._Code?e.push(...t._items):e.push(t),e),[]));function i(e){let a=r[e.str];return void 0===a||1!==t[e.str]?e:(delete t[e.str],a)}}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,a._)`!${D(e)}`}t.CodeGen=N,t.not=I;let M=C(t.operators.AND);t.and=function(...e){return e.reduce(M)};let A=C(t.operators.OR);function C(e){return(t,r)=>t===a.nil?r:r===a.nil?t:(0,a._)`${D(t)} ${e} ${D(r)}`}function D(e){return e instanceof a.Name?e:(0,a._)`(${e})`}t.or=function(...e){return e.reduce(A)}},36793:(e,t,r)=>{"use strict";let{normalizeIPv6:a,normalizeIPv4:s,removeDotSegments:i,recomposeAuthority:n,normalizeComponentEncoding:o}=r(40652),l=r(96189);function c(e,t,r,a){let s={};return a||(e=m(u(e,r),r),t=m(u(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=i(t.path||""),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=i(t.path||""),s.query=t.query):(t.path?("/"===t.path.charAt(0)?s.path=i(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path:s.path="/"+t.path,s.path=i(s.path)),s.query=t.query):(s.path=e.path,void 0!==t.query?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function u(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},a=Object.assign({},t),s=[],o=l[(a.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,a),void 0!==r.path&&(a.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),void 0!==r.scheme&&(r.path=r.path.split("%3A").join(":")))),"suffix"!==a.reference&&r.scheme&&s.push(r.scheme,":");let c=n(r);if(void 0!==c&&("suffix"!==a.reference&&s.push("//"),s.push(c),r.path&&"/"!==r.path.charAt(0)&&s.push("/")),void 0!==r.path){let e=r.path;a.absolutePath||o&&o.absolutePath||(e=i(e)),void 0===c&&(e=e.replace(/^\/\//u,"/%2F")),s.push(e)}return void 0!==r.query&&s.push("?",r.query),void 0!==r.fragment&&s.push("#",r.fragment),s.join("")}let d=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t))),p=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function m(e,t){let r=Object.assign({},t),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=-1!==e.indexOf("%"),o=!1;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let c=e.match(p);if(c){if(i.scheme=c[1],i.userinfo=c[3],i.host=c[4],i.port=parseInt(c[5],10),i.path=c[6]||"",i.query=c[7],i.fragment=c[8],isNaN(i.port)&&(i.port=c[5]),i.host){let e=s(i.host);if(!1===e.isIPV4){let t=a(e.host);i.host=t.host.toLowerCase(),o=t.isIPV6}else i.host=e.host,o=!0}void 0!==i.scheme||void 0!==i.userinfo||void 0!==i.host||void 0!==i.port||void 0!==i.query||i.path?void 0===i.scheme?i.reference="relative":void 0===i.fragment?i.reference="absolute":i.reference="uri":i.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==i.reference&&(i.error=i.error||"URI is not a "+r.reference+" reference.");let e=l[(r.scheme||i.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!e||!e.unicodeSupport)&&i.host&&(r.domainHost||e&&e.domainHost)&&!1===o&&function(e){let t=0;for(let r=0,a=e.length;r<a;++r)if((t=e.charCodeAt(r))>126||d[t])return!0;return!1}(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII: "+e}(!e||e&&!e.skipNormalize)&&(n&&void 0!==i.scheme&&(i.scheme=unescape(i.scheme)),n&&void 0!==i.host&&(i.host=unescape(i.host)),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),e&&e.parse&&e.parse(i,r)}else i.error=i.error||"URI can not be parsed.";return i}let f={SCHEMES:l,normalize:function(e,t){return"string"==typeof e?e=u(m(e,t),t):"object"==typeof e&&(e=m(u(e,t),t)),e},resolve:function(e,t,r){let a=Object.assign({scheme:"null"},r);return u(c(m(e,a),m(t,a),a,!0),{...a,skipEscape:!0})},resolveComponents:c,equal:function(e,t,r){return"string"==typeof e?e=u(o(m(e=unescape(e),r),!0),{...r,skipEscape:!0}):"object"==typeof e&&(e=u(o(e,!0),{...r,skipEscape:!0})),"string"==typeof t?t=u(o(m(t=unescape(t),r),!0),{...r,skipEscape:!0}):"object"==typeof t&&(t=u(o(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:u,parse:m};e.exports=f,e.exports.default=f,e.exports.fastUri=f},37474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(16037),s=r(62798),i=r(46584),n=r(44747);t.default={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:o,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===o.additionalProperties&&n.default.code(new a.KeywordCxt(c,n.default,"additionalProperties"));let u=(0,s.allSchemaProperties)(r);for(let e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=i.mergeEvaluated.props(t,(0,i.toHash)(u),c.props));let d=u.filter(e=>!(0,i.alwaysValidSchema)(c,r[e]));if(0===d.length)return;let p=t.name("valid");for(let a of d){var m;(m=a,c.opts.useDefaults&&!c.compositeRule&&void 0!==r[m].default)?f(a):(t.if((0,s.propertyInData)(t,l,a,c.opts.ownProperties)),f(a),c.allErrors||t.else().var(p,!0),t.endIf()),e.it.definedProperties.add(a),e.ok(p)}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},p)}}}},37581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyComponentsSchemas=function(e,t,r){let n="components/schemas";if(!t||!Object.keys(t).length)return e;let o=i(e);o.$defs=o.$defs||{};let l=new Set;return function e(c){if(!c||"object"!=typeof c)return c;if(Array.isArray(c))return c.map(t=>e(t));let u={...c},d=u.$ref;if(d&&"string"==typeof d&&d.startsWith(`#/${n}/`)){let c=d.replace(`#/${n}/`,"");t[c]?(u.$ref=`#/$defs/${c}`,u["x-tsType"]??=`Mixins.${(0,s.upperFirst)((0,a.camelCase)(r))}.${(0,s.upperFirst)((0,a.camelCase)(c))}`):delete u.$ref,!l.has(c)&&t[c]&&(l.add(c),o.$defs[c]=e(i(t[c])))}for(let t in u)Object.prototype.hasOwnProperty.call(u,t)&&(u[t]=e(u[t]));return u}(o)};let a=r(35233),s=r(62375);function i(e){if(null===e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(i);let t={};for(let[r,a]of Object.entries(e))a instanceof Date||a instanceof RegExp||"function"==typeof a||(t[r]=i(a));return t}},37879:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(66895),s=r(42051),i=r(71377),n=r(69083),o=r(91202);t.default=[a.default,s.default,(0,i.default)(),n.default,o.metadataVocabulary,o.contentVocabulary]},37998:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(80031),s=r(46584);t.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,a.dynamicAnchor)(e,""):(0,s.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}}},38303:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+="no ha de tenir m\xe9s de "+t+" element",1!=t&&(e+="s");break;case"additionalProperties":e="no ha de tenir propietats addicionals";break;case"anyOf":e='ha de coincidir amb algun esquema definit a "anyOf"';break;case"const":e="ha de ser igual a la constant";break;case"contains":e="ha de contenir un \xedtem v\xe0lid";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="ha de contenir la propietat",1!=t&&(e+="s"),e+=" "+r.params.deps+" quan la propietat "+r.params.property+" \xe9s present";break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='ha de passar la validaci\xf3 de la clau "'+r.keyword+'"'}break;case"enum":e="ha de ser igual a un dels valors predefinits";break;case"false schema":e="l’esquema \xe9s fals";break;case"format":e='ha de coincidir amb el format "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="ha de ser "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='ha de correspondre’s amb l’esquema "'+r.params.failingKeyword+'"';break;case"maxItems":e="";var t=r.params.limit;e+="no ha de tenir m\xe9s de "+t+" \xedtem",1!=t&&(e+="s");break;case"maxLength":e="";var t=r.params.limit;e+="no pot contenir m\xe9s de "+t+" car\xe0cter",1!=t&&(e+="s");break;case"maxProperties":e="";var t=r.params.limit;e+="no pot contenir m\xe9s de "+t+" propietat",1!=t&&(e+="s");break;case"minItems":e="";var t=r.params.limit;e+="no ha de tenir menys de "+t+" \xedtem",1!=t&&(e+="s");break;case"minLength":e="";var t=r.params.limit;e+="no pot contenir menys de "+t+" car\xe0cter",1!=t&&(e+="s");break;case"minProperties":e="";var t=r.params.limit;e+="no pot contenir menys de "+t+" propietat",1!=t&&(e+="s");break;case"multipleOf":e="ha de ser m\xfaltiple de "+r.params.multipleOf;break;case"not":e='no ha de ser v\xe0lid d’acord amb l’esquema definit a "not"';break;case"oneOf":e='ha de coincidir nom\xe9s amb un esquema definit a "oneOf"';break;case"pattern":e='ha de coincidir amb el patr\xf3 "'+r.params.pattern+'"';break;case"patternRequired":e='la propietat ha de coincidir amb el patr\xf3 "'+r.params.missingPattern+'"';break;case"propertyNames":e="la propietat no \xe9s v\xe0lida";break;case"required":e="ha de tenir la propietat requerida "+r.params.missingProperty;break;case"type":e="ha de ser del tipus "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="no ha de tenir \xedtems duplicats (els \xedtems ## "+r.params.j+" i "+r.params.i+" s\xf3n id\xe8ntics)";break;default:e='ha de passar la validaci\xf3 de la clau "'+r.keyword+'"'}r.message=e}}},38443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(3552),s=r(22875),i=r(21887),n=r(96127),o=r(13860),l=r(4384),c=r(23128),u=r(88853),d=r(86740),p=r(72412),m=r(26610),f=r(87672),h=r(50642),y=r(46813),v=r(35294),b=r(80827);t.default=function(e=!1){let t=[m.default,f.default,h.default,y.default,v.default,b.default,c.default,u.default,l.default,d.default,p.default];return e?t.push(s.default,n.default):t.push(a.default,i.default),t.push(o.default),t}},39251:(e,t,r)=>{"use strict";var a;t.Se=t.GO=t.KW=void 0;let s=r(65032),i=(r(72934),r(48149));Object.defineProperty(t,"KW",{enumerable:!0,get:function(){return i.createRPC}}),Object.defineProperty(t,"GO",{enumerable:!0,get:function(){return i.fetcher}}),Object.defineProperty(t,"Se",{enumerable:!0,get:function(){return i.progressive}}),r(65060),r(77346),r(20804),r(30853),r(52322),r(10759),r(75709),r(69032),r(66605),r(54053),r(41355),(a=(0,s.createVovkApp)()).get,a.post,a.put,a.patch,a.del,a.head,a.options,a.prefix,a.initSegment},40068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584);t.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,a._)`{passingSchemas: ${e.passing}}`},code(e){let{gen:t,schema:r,parentSchema:i,it:n}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=t.let("valid",!1),l=t.let("passing",null),c=t.name("_valid");e.setParams({passing:l}),t.block(function(){r.forEach((r,i)=>{let u;(0,s.alwaysValidSchema)(n,r)?t.var(c,!0):u=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},c),i>0&&t.if((0,a._)`${c} && ${o}`).assign(o,!1).assign(l,(0,a._)`[${l}, ${i}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(l,i),u&&e.mergeEvaluated(u,a.Name)})})}),e.result(o,()=>e.reset(),()=>e.error(!0))}}},40474:(e,t)=>{"use strict";function r(e,t){if(!e||"object"!=typeof e)return null;if(void 0!==e.example)return e.example;if(e.examples&&e.examples.length>0)return e.examples[0];if(void 0!==e.const)return e.const;if(e.$ref){return i=e.$ref,r(a(i,n=t),n)}if(e.enum&&e.enum.length>0)return e.enum[0];if(e.oneOf&&e.oneOf.length>0)return r(e.oneOf[0],t);if(e.anyOf&&e.anyOf.length>0)return r(e.anyOf[0],t);if(e.allOf&&e.allOf.length>0)return r(e.allOf.reduce((e,t)=>({...e,...t}),{}),t);if(e.type)switch(e.type){case"string":var i,n,o,l=e;if(l.format)switch(l.format){case"email":case"idn-email":return"user@example.com";case"uri":case"url":case"iri":return"https://example.com";case"date":return"2023-01-01";case"date-time":return"2023-01-01T00:00:00Z";case"time":return"12:00:00Z";case"duration":return"PT1H";case"uuid":return"00000000-0000-0000-0000-000000000000";case"regex":return"^[a-zA-Z0-9]+$";case"relative-json-pointer":return"/some/relative/path";case"color":return"#000000";case"hostname":return"example.com";case"zipcode":return"12345";case"phone":return"+123-456-7890";case"password":return"******";default:return"string"}return l.pattern?"pattern-string":"string";case"number":case"integer":return void 0!==(o=e).minimum&&void 0!==o.maximum||void 0!==o.minimum?o.minimum:void 0!==o.maximum?o.maximum:0;case"boolean":return!0;case"object":return s(e,t);case"array":var c=e,u=t;if(c.items){let e=c.items;return Array.from({length:Math.min(c.minItems||1,3)},()=>r(e,u))}return[];default:return null}return e.properties?s(e,t):null}function a(e,t){let r=e.split("/").slice(1),a=t;for(let e of r)if(void 0===(a=a[e]))return{};return a}function s(e,t){let a={};if(e.properties){let s=e.required||[];for(let[i,n]of Object.entries(e.properties))(s.includes(i)||0===s.length)&&(a[i]=r(n,t))}return e.additionalProperties&&"object"==typeof e.additionalProperties&&(a.additionalProp=r(e.additionalProperties,t)),a}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONSchemaExample=function(e,t,s){let{comment:i="//",stripQuotes:n=!1,indent:o=0}=t;return e&&"object"==typeof e?(s=s||e,function e(t,r,s,i,n,o){let l=" ".repeat(o);if(null===t)return"null";if("object"!=typeof t||t instanceof Date)return JSON.stringify(t);if(Array.isArray(t)){if(0===t.length)return"[]";let a=t.map(t=>{let a=e(t,r.items||{},s,i,n,o+2);return`${l}  ${a}`});return`[
${a.join(",\n")}
${l}]`}if("object"==typeof t){let c=Object.entries(t);if(0===c.length)return"{}";let u=[];if(0===o&&"object"===r.type&&r.description){let e=r.description.split("\n");u.push(`${l}  ${i} -----`),e.forEach(e=>{u.push(`${l}  ${i} ${e.trim()}`)}),u.push(`${l}  ${i} -----`)}return c.forEach(([t,d],p)=>{let m=r.properties?.[t]??{},f=m;m.$ref&&(f=a(m.$ref,s)),f.description&&f.description.split("\n").forEach(e=>{u.push(`${l}  ${i} ${e.trim()}`)});let h=n&&/^[A-Za-z_$][0-9A-Za-z_$]*$/.test(t)?t:JSON.stringify(t),y=e(d,f,s,i,n,o+2);u.push(`${l}  ${h}: ${y}${p<c.length-1?",":""}`)}),`{
${u.join("\n")}
${l}}`}return JSON.stringify(t)}(r(e,s),e,s,i,n,o)):"null"}},40580:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":case"maxItems":e="";var t=a.params.limit;e+="nem lehet t\xf6bb, mint "+t+" eleme";break;case"additionalProperties":e="nem lehetnek tov\xe1bbi elemei";break;case"anyOf":e='meg kell feleljen legal\xe1bb egy "anyOf" alaknak';break;case"const":e="must be equal to constant";break;case"contains":e="must contain a valid item";break;case"dependencies":case"dependentRequired":e="";var t=a.params.depsCount;e+="-nak kell legyen",t>1&&(e+="ek"),e+=" a k\xf6vetkező tulajdons\xe1ga",1!=t&&(e+="i"),e+=": "+a.params.deps+", ha van "+a.params.property+" tulajdons\xe1ga";break;case"discriminator":switch(a.params.error){case"tag":e='tag "'+a.params.tag+'" must be string';break;case"mapping":e='value of tag "'+a.params.tag+'" must be in oneOf';break;default:e='must pass "'+a.keyword+'" keyword validation'}break;case"enum":e="egyenlő kell legyen valamely előre meghat\xe1rozott \xe9rt\xe9kkel";break;case"false schema":e="boolean schema is false";break;case"format":e='meg kell feleljen a k\xf6vetkező form\xe1tumnak: "'+a.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="must be "+r;break;case"if":e='must match "'+a.params.failingKeyword+'" schema';break;case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="kell legyen "+r;break;case"maxLength":e="";var t=a.params.limit;e+="nem lehet hosszabb, mint "+t+" szimb\xf3lum";break;case"maxProperties":e="";var t=a.params.limit;e+="nem lehet t\xf6bb, mint "+t+" tulajdons\xe1ga";break;case"minItems":e="";var t=a.params.limit;e+="nem lehet kevesebb, mint "+t+" eleme";break;case"minLength":e="";var t=a.params.limit;e+="nem lehet r\xf6videbb, mint "+t+" szimb\xf3lum";break;case"minProperties":e="";var t=a.params.limit;e+="nem lehet kevesebb, mint "+t+" tulajdons\xe1ga";break;case"multipleOf":e="a t\xf6bbsz\xf6r\xf6se kell legyen a k\xf6vetkező sz\xe1mnak: "+a.params.multipleOf;break;case"not":e='nem lehet \xe9rv\xe9nyes a "not" alaknak megfelelően';break;case"oneOf":e='meg kell feleljen pontosan egy "oneOf" alaknak';break;case"pattern":e='meg kell feleljen a k\xf6vetkező mint\xe1nak: "'+a.params.pattern+'"';break;case"patternRequired":e='must have property matching pattern "'+a.params.missingPattern+'"';break;case"propertyNames":e="property name is invalid";break;case"required":e="kell legyen "+a.params.missingProperty+" tulajdons\xe1ga";break;case"type":e=""+a.params.type+" kell legyen";break;case"unevaluatedItems":e="";var t=a.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="nem lehetnek azonos elemei ("+a.params.j+" \xe9s "+a.params.i+" elemek azonosak)";break;default:e='must pass "'+a.keyword+'" keyword validation'}a.message=e}}},40652:(e,t,r)=>{"use strict";let{HEX:a}=r(18744),s=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(e){if(3>l(e,"."))return{host:e,isIPV4:!1};let[t]=e.match(s)||[];return t?{host:function(e,t){let r="",a=!0,s=e.length;for(let i=0;i<s;i++){let n=e[i];"0"===n&&a?(i+1<=s&&"."===e[i+1]||i+1===s)&&(r+=n,a=!1):(a=n===t,r+=n)}return r}(t,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function n(e,t=!1){let r="",s=!0;for(let t of e){if(void 0===a[t])return;"0"!==t&&!0===s&&(s=!1),s||(r+=t)}return t&&0===r.length&&(r="0"),r}function o(e){if(2>l(e,":"))return{host:e,isIPV6:!1};let t=function(e){let t=0,r={error:!1,address:"",zone:""},a=[],s=[],i=!1,o=!1,l=!1;function c(){if(s.length){if(!1===i){let e=n(s);if(void 0===e)return r.error=!0,!1;a.push(e)}s.length=0}return!0}for(let n=0;n<e.length;n++){let u=e[n];if("["!==u&&"]"!==u)if(":"===u){if(!0===o&&(l=!0),!c())break;if(t++,a.push(":"),t>7){r.error=!0;break}n-1>=0&&":"===e[n-1]&&(o=!0);continue}else if("%"===u){if(!c())break;i=!0}else{s.push(u);continue}}return s.length&&(i?r.zone=s.join(""):l?a.push(s.join("")):a.push(n(s))),r.address=a.join(""),r}(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,r=t.address;return t.zone&&(e+="%"+t.zone,r+="%25"+t.zone),{host:e,escapedHost:r,isIPV6:!0}}}function l(e,t){let r=0;for(let a=0;a<e.length;a++)e[a]===t&&r++;return r}let c=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,d=/^\/\.\.(?:\/|$)/u,p=/^\/?(?:.|\n)*?(?=\/|$)/u;e.exports={recomposeAuthority:function(e){let t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let r=unescape(e.host),a=i(r);if(a.isIPV4)r=a.host;else{let t=o(a.host);r=!0===t.isIPV6?`[${t.escapedHost}]`:e.host}t.push(r)}return("number"==typeof e.port||"string"==typeof e.port)&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0},normalizeComponentEncoding:function(e,t){let r=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=r(e.scheme)),void 0!==e.userinfo&&(e.userinfo=r(e.userinfo)),void 0!==e.host&&(e.host=r(e.host)),void 0!==e.path&&(e.path=r(e.path)),void 0!==e.query&&(e.query=r(e.query)),void 0!==e.fragment&&(e.fragment=r(e.fragment)),e},removeDotSegments:function(e){let t=[];for(;e.length;)if(e.match(c))e=e.replace(c,"");else if(e.match(u))e=e.replace(u,"/");else if(e.match(d))e=e.replace(d,"/"),t.pop();else if("."===e||".."===e)e="";else{let r=e.match(p);if(r){let a=r[0];e=e.slice(a.length),t.push(a)}else throw Error("Unexpected dot segment condition")}return t.join("")},normalizeIPv4:i,normalizeIPv6:o,stringArrayToHexStripped:n}},41343:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36793);a.code='require("ajv/dist/runtime/uri").default',t.default=a},41355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createValidateOnClient=function({validate:e}){return async function(t,r,a){let s={...t};return t.body&&r.body&&(s.body=await e(t.body,r.body,{...a,type:"body"})??t.body),t.query&&r.query&&(s.query=await e(t.query,r.query,{...a,type:"query"})??t.query),t.params&&r.params&&(s.params=await e(t.params,r.params,{...a,type:"params"})??t.params),s}}},41935:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;let r=new WeakMap;async function a(e){if(r.has(e))return r.get(e);let t=await e.formData();e.formData=()=>Promise.resolve(t);let a={};for(let[e,r]of t.entries())r instanceof File?a[e]?Array.isArray(a[e])?a[e].push(r):a[e]=[a[e],r]:a[e]=r:a[e]=r.toString();return r.set(e,a),a}},41984:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;let a=r(36132),s=r(62878),i=r(95316),n=r(88909);function o(e){let{gen:t,data:r,it:s}=e;t.if(s.parentData,()=>t.assign(r,(0,a._)`${s.parentData}[${s.parentDataProperty}]`))}function l(e,t,r){if(void 0===r)throw Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,a.stringify)(r)})}t.macroKeywordCode=function(e,t){let{gen:r,keyword:s,schema:i,parentSchema:n,it:o}=e,c=t.macro.call(o.self,i,n,o),u=l(r,s,c);!1!==o.opts.validateSchema&&o.self.validateSchema(c,!0);let d=r.name("valid");e.subschema({schema:c,schemaPath:a.nil,errSchemaPath:`${o.errSchemaPath}/${s}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,()=>e.error(!0))},t.funcKeywordCode=function(e,t){var r;let{gen:c,keyword:u,schema:d,parentSchema:p,$data:m,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw Error("async keyword in sync schema")}(f,t);let h=l(c,u,!m&&t.compile?t.compile.call(f.self,d,p,f):t.validate),y=c.let("valid");function v(r=t.async?(0,a._)`await `:a.nil){let n=f.opts.passContext?s.default.this:s.default.self,o=!("compile"in t&&!m||!1===t.schema);c.assign(y,(0,a._)`${r}${(0,i.callValidateCode)(e,h,n,o)}`,t.modifying)}function b(e){var r;c.if((0,a.not)(null!=(r=t.valid)?r:y),e)}e.block$data(y,function(){if(!1===t.errors)v(),t.modifying&&o(e),b(()=>e.error());else{let r=t.async?function(){let e=c.let("ruleErrs",null);return c.try(()=>v((0,a._)`await `),t=>c.assign(y,!1).if((0,a._)`${t} instanceof ${f.ValidationError}`,()=>c.assign(e,(0,a._)`${t}.errors`),()=>c.throw(t))),e}():function(){let e=(0,a._)`${h}.errors`;return c.assign(e,null),v(a.nil),e}();t.modifying&&o(e),b(()=>(function(e,t){let{gen:r}=e;r.if((0,a._)`Array.isArray(${t})`,()=>{r.assign(s.default.vErrors,(0,a._)`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`).assign(s.default.errors,(0,a._)`${s.default.vErrors}.length`),(0,n.extendErrors)(e)},()=>e.error())})(e,r))}}),e.ok(null!=(r=t.valid)?r:y)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e)},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:a},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw Error("ajv implementation error");let n=s.dependencies;if(null==n?void 0:n.some(t=>!Object.prototype.hasOwnProperty.call(e,t)))throw Error(`parent schema must have dependencies of ${i}: ${n.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){let e=`keyword "${i}" value is invalid at path "${a}": `+r.errorsText(s.validateSchema.errors);if("log"===t.validateSchema)r.logger.error(e);else throw Error(e)}}},42051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(26129),s=r(62500),i=r(34604),n=r(32849),o=r(6929),l=r(5048),c=r(74268),u=r(6458),d=r(33768),p=r(89644);t.default=[a.default,s.default,i.default,n.default,o.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,p.default]},42275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCodeExamples=function({handlerName:e,handlerSchema:t,controllerSchema:r,package:i}){let n=t?.validation?.query,o=t?.validation?.body,l=t?.validation?.params,c=t?.validation?.output,u=t?.validation?.iteration,d=(e,t)=>(0,a.getJSONSchemaExample)(e,{stripQuotes:!0,indent:t??4}),p=(e,t)=>(0,a.getJSONSchemaExample)(e,{stripQuotes:!1,indent:t??4,comment:"#"}),m=(e,t)=>(0,a.getJSONSchemaExample)(e,{stripQuotes:!1,indent:t??4}),f=!!n||!!o||!!l,h=r.rpcModuleName,y=s(e),v=s(h),b=i?.name||"vovk-client",g=s(b),$=f?`{
${[o?`    body: ${d(o)},`:null,n?`    query: ${d(n)},`:null,l?`    params: ${d(l)},`:null].filter(Boolean).join("\n")}
}`:"",_=`import { ${h} } from '${b}';

${u?"using":"const"} response = await ${h}.${e}(${$});
${c?`
console.log(response); 
/* 
${d(c,0)}
*/`:""}${u?`
for await (const item of response) {
    console.log(item); 
    /*
    ${d(u)}
    */
}`:""}`,k=`from ${i?.py_name??g} import ${h}

response = ${h}.${y}(${f?"\n"+[o?`    body=${p(o)},`:null,n?`    query=${p(n)},`:null,l?`    params=${p(l)},`:null].filter(Boolean).join("\n")+"\n":""})

${c?`print(response)
${p(c,0)}`:""}${u?`for i, item in enumerate(response):
    print(f"iteration #{i}:\\n {item}")
    # iteration #0:
    ${p(u)}`:""}`,E=e=>`from_value(json!(${e})).unwrap()`,O=`use ${i?.rs_name??g}::${v};
use serde_json::{ from_value, json };

pub fn main() {
  let response = ${v}::${y}(
    ${o?E(m(o)):"()"}, /* body */ 
    ${n?E(m(n)):"()"}, /* query */ 
    ${l?E(m(l)):"()"}, /* params */ 
    None, /* headers (HashMap) */ 
    None, /* api_root */ 
    false, /* disable_client_validation */
  );${c?`

match response {
    Ok(output) => println!("{:?}", output),
    /* 
    output ${d(c)} 
    */
    Err(e) => println!("error: {:?}", e),
  }`:""}${u?`match response {
    Ok(stream) => {
      for (i, item) in stream.enumerate() {
        println!("#{}: {:?}", i, item);
        /*
        #0: iteration ${d(u,8)}
        */
      }
    },
    Err(e) => println!("Error initiating stream: {:?}", e),
  }`:""}
}`;return{ts:_.trim(),py:k.trim(),rs:O.trim()}};let a=r(2488),s=e=>e.replace(/-/g,"_").replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1_$2").toLowerCase().replace(/^_/,"")},42299:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":e="";var t=a.params.limit;e+="kan ikke ha mer enn "+t+" element",1!=t&&(e+="er");break;case"additionalProperties":e="kan ikke ha flere egenskaper";break;case"anyOf":e='m\xe5 samsvare med et schema i "anyOf"';break;case"const":e="m\xe5 v\xe6re lik konstanten";break;case"contains":e="m\xe5 inneholde et gyldig element";break;case"dependencies":case"dependentRequired":e="";var t=a.params.depsCount;e+="m\xe5 ha egenskapen",1!=t&&(e+="e"),e+=" "+a.params.deps+" n\xe5r egenskapen "+a.params.property+" er angitt";break;case"discriminator":switch(a.params.error){case"tag":e='tag "'+a.params.tag+'" must be string';break;case"mapping":e='value of tag "'+a.params.tag+'" must be in oneOf';break;default:e="m\xe5 samsvare med valideringen for "+a.keyword}break;case"enum":e="m\xe5 v\xe6re lik en av de forh\xe5ndsdefinerte verdiene";break;case"false schema":e="boolsk schema er usannt";break;case"format":e='m\xe5 stemme overens med formatet "'+a.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="m\xe5 v\xe6re "+(a.params.comparison+" ")+a.params.limit;break;case"if":e='must match "'+a.params.failingKeyword+'" schema';break;case"maxItems":e="";var t=a.params.limit;e+="kan ikke ha fler enn "+t+" element",1!=t&&(e+="er");break;case"maxLength":e="";var t=a.params.limit;e+="kan ikke v\xe6re lengre enn "+t+" tegn";break;case"maxProperties":e="";var t=a.params.limit;e+="kan ikke ha mer enn "+t+" egenskap",1!=t&&(e+="er");break;case"minItems":e="";var t=a.params.limit;e+="kan ikke ha f\xe6rre enn "+t+" element",1!=t&&(e+="er");break;case"minLength":e="";var t=a.params.limit;e+="kan ikke v\xe6re kortere enn "+t+" tegn";break;case"minProperties":e="";var t=a.params.limit;e+="kan ikke ha mindre enn "+t+" egenskap",1!=t&&(e+="er");break;case"multipleOf":e="m\xe5 v\xe6re et multiplum av "+a.params.multipleOf;break;case"not":e='kan ikke samsvare med schema i "not"';break;case"oneOf":e='m\xe5 samsvare med n\xf8yaktig ett schema i "oneOf"';break;case"pattern":e='m\xe5 samsvare med m\xf8nsteret "'+a.params.pattern+'"';break;case"patternRequired":e='m\xe5 ha en egenskap som samsvarer med m\xf8nsteret "'+a.params.missingPattern;break;case"propertyNames":e="egenskapen med navnet '",a.params.propertyNameout+="' er ugyldig";break;case"required":e="m\xe5 ha den p\xe5krevde egenskapen "+a.params.missingProperty;break;case"type":e="";var r=a.params.type;e+="m\xe5 v\xe6re ","number"==r?e+="et tall":"integer"==r?e+="et heltall":"string"==r?e+="en streng":"boolean"==r?e+="ja eller nei":e+=r;break;case"unevaluatedItems":e="";var t=a.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="kan ikke ha duplikate elemeneter (elementene ## "+a.params.j+" og "+a.params.i+" er identiske)";break;default:e="m\xe5 samsvare med valideringen for "+a.keyword}a.message=e}}},43158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.progressive=function(e,...t){let[r]=t,a={};return e(r).then(async e=>{for await(let t of e)for(let[e,r]of Object.entries(t))if(e in a)a[e].isSettled||(a[e].isSettled=!0,a[e].resolve(r));else{let{promise:t,resolve:s,reject:i}=Promise.withResolvers();a[e]={resolve:s,reject:i,promise:t,isSettled:!0},a[e].resolve(r)}return Object.keys(a).forEach(e=>{a[e].isSettled||(a[e].isSettled=!0,a[e].reject(Error(`The connection was closed without sending a value for "${e}"`)))}),e}).catch(e=>(Object.keys(a).forEach(t=>{a[t].isSettled||(a[t].isSettled=!0,a[t].reject(e))}),e)),new Proxy({},{get(e,t){if(t in a)return a[t].promise;let{promise:r,resolve:s,reject:i}=Promise.withResolvers();return a[t]={resolve:s,reject:i,promise:r,isSettled:!1},r}})}},43348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateStaticAPI=function(e,t="vovk"){return[{[t]:["_schema_"]},...Object.values(e).map(e=>{let r=e._handlers,a=e._prefix?.split("/")??[];return Object.entries(r??{}).map(([r,s])=>{let i=e._handlersMetadata?.[r]?.staticParams;return i?.length?i.map(e=>{let r=s.path;for(let[t,a]of Object.entries(e??{}))r=r.replace(`{${t}}`,a);return{[t]:[...a,...r.split("/")].filter(Boolean)}}):[{[t]:[...a,...s.path.split("/")].filter(Boolean)}]}).flat()}).flat()]}},43577:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(46584);t.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,a.checkStrictMode)(r,`"${e}" without "if" is ignored`)}}},43598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(62798),s=r(29358),i=r(46584),n=r(46584);t.default={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:o,parentSchema:l,it:c}=e,{opts:u}=c,d=(0,a.allSchemaProperties)(r),p=d.filter(e=>(0,i.alwaysValidSchema)(c,r[e]));if(0===d.length||p.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;let m=u.strictSchema&&!u.allowMatchingProperties&&l.properties,f=t.name("valid");!0===c.props||c.props instanceof s.Name||(c.props=(0,n.evaluatedPropsToName)(t,c.props));let{props:h}=c;for(let e of d)m&&function(e){for(let t in m)new RegExp(e).test(t)&&(0,i.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}(e),c.allErrors?y(e):(t.var(f,!0),y(e),t.if(f));function y(r){t.forIn("key",o,i=>{t.if((0,s._)`${(0,a.usePattern)(e,r)}.test(${i})`,()=>{let a=p.includes(r);a||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:n.Type.Str},f),c.opts.unevaluated&&!0!==h?t.assign((0,s._)`${h}[${i}]`,!0):a||c.allErrors||t.if((0,s.not)(f),()=>t.break())})})}}}},43803:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":e="";var t=a.params.limit;e+="不可以超過"+t+"個元素";break;case"additionalProperties":e="不可以有額外的屬性";break;case"anyOf":e="不符合 anyOf 指定的模式";break;case"const":e="應該等於常數";break;case"contains":e="應該包含一個有效元素";break;case"dependencies":case"dependentRequired":e="";var t=a.params.depsCount;e+="應該要有屬性"+a.params.property+"的依賴屬性"+a.params.deps;break;case"discriminator":switch(a.params.error){case"tag":e='標籤 "'+a.params.tag+'" 的類型必須是字串';break;case"mapping":e='標籤 "'+a.params.tag+'" 必須在 oneOf 其中之一';break;default:e='應該通過 "'+a.keyword+' 關鍵詞檢驗"'}break;case"enum":e="應該要在預設的值之中";break;case"false schema":e="布林模式不正確";break;case"format":e="應該要符合"+a.params.format+"格式";break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="應該是 "+r;break;case"if":e='應該符合 "'+a.params.failingKeyword+'" schema';break;case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="應該要 "+r;break;case"maxItems":e="";var t=a.params.limit;e+="不應該多於 "+t+" 個";break;case"maxLength":e="";var t=a.params.limit;e+="不應該多於 "+t+" 個字元";break;case"maxProperties":e="";var t=a.params.limit;e+="不應該多於 "+t+" 個屬性";break;case"minItems":e="";var t=a.params.limit;e+="不應該少於 "+t+" 個";break;case"minLength":e="";var t=a.params.limit;e+="不應該少於 "+t+" 個字元";break;case"minProperties":e="";var t=a.params.limit;e+="不應該少於 "+t+" 個屬性";break;case"multipleOf":e="應該是 "+a.params.multipleOf+" 的整數倍";break;case"not":e='不應該符合 "not" schema';break;case"oneOf":e='只能符合一個 "oneOf" 中的 schema';break;case"pattern":e='應該符合模式 "'+a.params.pattern+'"';break;case"patternRequired":e="應該有屬性對應模式 "+a.params.missingPattern;break;case"propertyNames":e="属性名 無效";break;case"required":e="應該有必須屬性 "+a.params.missingProperty;break;case"type":e="應該是 "+a.params.type+" 類型";break;case"unevaluatedItems":e="";var t=a.params.len;e+=" 的元素不可以超過 "+t+" 個";break;case"unevaluatedProperties":e="不應該有未驗證的屬性";break;case"uniqueItems":e="不應該有重複項目 (第 "+a.params.j+" 項和第 "+a.params.i+" 項是重複的)";break;default:e='應該通過 "'+a.keyword+' 關鍵詞檢驗"'}a.message=e}}},44047:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+="ต้องมีสมาชิกไม่เกิน "+t+" ตัว";break;case"additionalProperties":e="ต้องไม่มี property อื่นๆ นอกเหนีอจากที่กำหนดไว้";break;case"anyOf":e='ต้องตรงกับหนึ่งใน schema ที่กำหนดไว้ใน "anyOf"';break;case"const":e="ต้องเท่ากับค่าคงที่";break;case"contains":e="ต้องมีสมาชิกที่ผ่านเงื่อนไขอยู่";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="เมื่อมี property "+r.params.property+" แล้วจะต้องมี property "+r.params.deps+" ด้วย";break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" ต้องเป็น string';break;case"mapping":e='ต้องมีค่าของ tag "'+r.params.tag+'" ใน oneOf';break;default:e='ต้องผ่านคีย์เวิร์ด "'+r.keyword+'"'}break;case"enum":e="ต้องตรงกับหนึ่งในค่าที่กำหนดไว้";break;case"false schema":e="schema เป็น false";break;case"format":e='ต้องเป็นรูปแบบ "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="ต้อง "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='ต้องตรงกับ schema "'+r.params.failingKeyword+'"';break;case"maxItems":e="";var t=r.params.limit;e+="ต้องมีสมาชิกไม่เกิน "+t;break;case"maxLength":e="";var t=r.params.limit;e+="ต้องยาวไม่เกิน "+t+" ตัวอักษร";break;case"maxProperties":e="";var t=r.params.limit;e+="ต้องมี property ไม่เกิน "+t+" ตัว";break;case"minItems":e="";var t=r.params.limit;e+="ควรมีสมาชิกไม่น้อยกว่า "+t;break;case"minLength":e="";var t=r.params.limit;e+="ต้องมีอย่างน้อย "+t+" ตัวอักษร";break;case"minProperties":e="";var t=r.params.limit;e+="ต้องมี property อย่างน้อย "+t+" ตัว";break;case"multipleOf":e="ต้องเป็นเลขที่หาร "+r.params.multipleOf+" ลงตัว";break;case"not":e='ต้องไม่ผ่าน schema ที่กำหนดไว้ใน "not"';break;case"oneOf":e='ต้องตรงกับ schema ตัวเดียวใน "oneOf" เท่านั้น';break;case"pattern":e='ต้องตรงตาม pattern "'+r.params.pattern+'"';break;case"patternRequired":e='ต้องมี property ที่มีชื่อตรงตาม pattern "'+r.params.missingPattern+'"';break;case"propertyNames":e="ชื่อ property ไม่ถูกต้อง";break;case"required":e="ต้องมี property "+r.params.missingProperty+" ด้วย";break;case"type":e="ต้องเป็น "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="ต้องมีไม่เกิน "+t+" ตัว";break;case"unevaluatedProperties":e="ต้องไม่มี property ที่ยังไม่ได้ผ่านการตรวจสอบเงื่อนไขใดๆ";break;case"uniqueItems":e="ต้องมีสมาชิกไม่ซ้ำักัน (ลำดับที่ "+r.params.j+" กับ "+r.params.i+" ซ้ำกัน)";break;default:e='ต้องผ่านคีย์เวิร์ด "'+r.keyword+'"'}r.message=e}}},44506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),"symbol"!=typeof Symbol.dispose&&Object.defineProperty(Symbol,"dispose",{configurable:!1,enumerable:!1,writable:!1,value:Symbol.for("dispose")}),"symbol"!=typeof Symbol.asyncDispose&&Object.defineProperty(Symbol,"asyncDispose",{configurable:!1,enumerable:!1,writable:!1,value:Symbol.for("asyncDispose")})},44747:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(62798),s=r(29358),i=r(1008),n=r(46584);t.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,s._)`{additionalProperty: ${e.additionalProperty}}`},code(e){let{gen:t,schema:r,parentSchema:o,data:l,errsCount:c,it:u}=e;if(!c)throw Error("ajv implementation error");let{allErrors:d,opts:p}=u;if(u.props=!0,"all"!==p.removeAdditional&&(0,n.alwaysValidSchema)(u,r))return;let m=(0,a.allSchemaProperties)(o.properties),f=(0,a.allSchemaProperties)(o.patternProperties);function h(e){t.code((0,s._)`delete ${l}[${e}]`)}function y(a){if("all"===p.removeAdditional||p.removeAdditional&&!1===r)return void h(a);if(!1===r){e.setParams({additionalProperty:a}),e.error(),d||t.break();return}if("object"==typeof r&&!(0,n.alwaysValidSchema)(u,r)){let r=t.name("valid");"failing"===p.removeAdditional?(v(a,r,!1),t.if((0,s.not)(r),()=>{e.reset(),h(a)})):(v(a,r),d||t.if((0,s.not)(r),()=>t.break()))}}function v(t,r,a){let s={keyword:"additionalProperties",dataProp:t,dataPropType:n.Type.Str};!1===a&&Object.assign(s,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(s,r)}t.forIn("key",l,r=>{m.length||f.length?t.if(function(r){let i;if(m.length>8){let e=(0,n.schemaRefOrVal)(u,o.properties,"properties");i=(0,a.isOwnProperty)(t,e,r)}else i=m.length?(0,s.or)(...m.map(e=>(0,s._)`${r} === ${e}`)):s.nil;return f.length&&(i=(0,s.or)(i,...f.map(t=>(0,s._)`${(0,a.usePattern)(e,t)}.test(${r})`))),(0,s.not)(i)}(r),()=>y(r)):y(r)}),e.ok((0,s._)`${c} === ${i.default.errors}`)}}},44872:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;let a=r(29358),s=r(71117),i=r(1008),n=r(92636),o=r(46584),l=r(16037);class c{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!=(t=e.baseId)?t:(0,n.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function u(e){let t,r,o=p.call(this,e);if(o)return o;let c=(0,n.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:u,lines:d}=this.opts.code,{ownProperties:m}=this.opts,f=new a.CodeGen(this.scope,{es5:u,lines:d,ownProperties:m});e.$async&&(t=f.scopeValue("Error",{ref:s.default,code:(0,a._)`require("ajv/dist/runtime/validation_error").default`}));let h=f.scopeName("validate");e.validateName=h;let y={gen:f,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[a.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,a.stringify)(e.schema)}:{ref:e.schema}),validateName:h,ValidationError:t,schema:e.schema,schemaEnv:e,rootId:c,baseId:e.baseId||c,schemaPath:a.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,a._)`""`,opts:this.opts,self:this};try{this._compilations.add(e),(0,l.validateFunctionCode)(y),f.optimize(this.opts.code.optimize);let t=f.toString();r=`${f.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(r=this.opts.code.process(r,e));let s=Function(`${i.default.self}`,`${i.default.scope}`,r)(this,this.scope.get());if(this.scope.value(h,{ref:s}),s.errors=null,s.schema=e.schema,s.schemaEnv=e,e.$async&&(s.$async=!0),!0===this.opts.code.source&&(s.source={validateName:h,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){let{props:e,items:t}=y;s.evaluated={props:e instanceof a.Name?void 0:e,items:t instanceof a.Name?void 0:t,dynamicProps:e instanceof a.Name,dynamicItems:t instanceof a.Name},s.source&&(s.source.evaluated=(0,a.stringify)(s.evaluated))}return e.validate=s,e}catch(t){throw delete e.validate,delete e.validateName,r&&this.logger.error("Error compiling schema, function code:",r),t}finally{this._compilations.delete(e)}}function d(e){return(0,n.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function p(e){for(let a of this._compilations){var t,r;if(t=a,r=e,t.schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return a}}function m(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||f.call(this,e,t)}function f(e,t){let r=this.opts.uriResolver.parse(t),a=(0,n._getFullPath)(this.opts.uriResolver,r),s=(0,n.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&a===s)return y.call(this,r,e);let i=(0,n.normalizeId)(a),o=this.refs[i]||this.schemas[i];if("string"==typeof o){let t=f.call(this,e,o);if("object"!=typeof(null==t?void 0:t.schema))return;return y.call(this,r,t)}if("object"==typeof(null==o?void 0:o.schema)){if(o.validate||u.call(this,o),i===(0,n.normalizeId)(t)){let{schema:t}=o,{schemaId:r}=this.opts,a=t[r];return a&&(s=(0,n.resolveUrl)(this.opts.uriResolver,s,a)),new c({schema:t,schemaId:r,root:e,baseId:s})}return y.call(this,r,o)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,r){var a;r=(0,n.resolveUrl)(this.opts.uriResolver,t,r);let s=e.refs[r];if(s)return s;let i=m.call(this,e,r);if(void 0===i){let s=null==(a=e.localRefs)?void 0:a[r],{schemaId:n}=this.opts;s&&(i=new c({schema:s,schemaId:n,root:e,baseId:t}))}if(void 0!==i)return e.refs[r]=d.call(this,i)},t.getCompilingSchema=p,t.resolveSchema=f;let h=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(e,{baseId:t,schema:r,root:a}){var s;let i;if((null==(s=e.fragment)?void 0:s[0])!=="/")return;for(let a of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;let e=r[(0,o.unescapeFragment)(a)];if(void 0===e)return;let s="object"==typeof(r=e)&&r[this.opts.schemaId];!h.has(a)&&s&&(t=(0,n.resolveUrl)(this.opts.uriResolver,t,s))}if("boolean"!=typeof r&&r.$ref&&!(0,o.schemaHasRulesButRef)(r,this.RULES)){let e=(0,n.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=f.call(this,a,e)}let{schemaId:l}=this.opts;if((i=i||new c({schema:r,schemaId:l,root:a,baseId:t})).schema!==i.root.schema)return i}},45014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},45181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584),i=r(62798),n=r(73182);t.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){let{schema:t,parentSchema:r,it:a}=e,{prefixItems:o}=r;a.items=!0,(0,s.alwaysValidSchema)(a,t)||(o?(0,n.validateAdditionalItems)(e,o):e.ok((0,i.validateArray)(e)))}}},45292:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?r.set(e,{...r.get(e),...t}):null===t&&r.delete(e),r.get(e)??{}};let r=new WeakMap},45570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStreamHandler=t.DEFAULT_ERROR_MESSAGE=void 0;let a=r(12784),s=r(56156);r(80592),t.DEFAULT_ERROR_MESSAGE="Unknown error at defaultStreamHandler";let i=async({response:e,controller:r})=>{if(!e.ok){let r;try{r=await e.json()}catch{}throw new s.HttpException(e.status,r.message??t.DEFAULT_ERROR_MESSAGE)}if(!e.body)throw new s.HttpException(a.HttpStatus.NULL,"Stream body is falsy. Check your controller code.");let i=e.body.getReader(),n=!1,o=new Set;async function*l(){let e="",t=0;for(;;){let r;try{let e;if({value:r,done:e}=await i.read(),e)break}catch(t){await i.cancel();let e=Error("Stream error. "+String(t));throw e.cause=t,e}for(let a of(e+="number"==typeof r?String.fromCharCode(r):new TextDecoder().decode(r)).split("\n").filter(Boolean)){let r;try{r=JSON.parse(a),e=""}catch{break}if(r){if(o.forEach(e=>{n||e(r,t)}),t++,"isError"in r&&"reason"in r){let e=r.reason;if(await i.cancel(),"string"==typeof e)throw Error(e);throw e}n||(yield r)}}}}return{status:e.status,[Symbol.asyncIterator]:l,[Symbol.dispose]:()=>r.abort(),[Symbol.asyncDispose]:()=>r.abort(),onIterate:e=>n?()=>{}:(o.add(e),()=>{o.delete(e)}),abort:()=>(n=!0,r.abort())}};t.defaultStreamHandler=i},46584:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;let s=r(29358),i=r(89931);function n(e,t=e.schema){let{opts:r,self:a}=e;if(!r.strictSchema||"boolean"==typeof t)return;let s=a.RULES.keywords;for(let r in t)s[r]||f(e,`unknown keyword: "${r}"`)}function o(e,t){if("boolean"==typeof e)return!e;for(let r in e)if(t[r])return!0;return!1}function l(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:a}){return(i,n,o,l)=>{let c=void 0===o?n:o instanceof s.Name?(n instanceof s.Name?e(i,n,o):t(i,n,o),o):n instanceof s.Name?(t(i,o,n),n):r(n,o);return l!==s.Name||c instanceof s.Name?c:a(i,c)}}function d(e,t){if(!0===t)return e.var("props",!0);let r=e.var("props",(0,s._)`{}`);return void 0!==t&&p(e,r,t),r}function p(e,t,r){Object.keys(r).forEach(r=>e.assign((0,s._)`${t}${(0,s.getProperty)(r)}`,!0))}t.toHash=function(e){let t={};for(let r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(n(e,t),!o(t,e.self.RULES.all))},t.checkUnknownRules=n,t.schemaHasRules=o,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(let r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,a,i){if(!i){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return(0,s._)`${r}`}return(0,s._)`${e}${t}${(0,s.getProperty)(a)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(l(e))},t.escapeJsonPointer=l,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,r)=>e.if((0,s._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,s._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,s._)`${r} || {}`).code((0,s._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,s._)`${r} !== true`,()=>{!0===t?e.assign(r,!0):(e.assign(r,(0,s._)`${r} || {}`),p(e,r,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:d}),items:u({mergeNames:(e,t,r)=>e.if((0,s._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,s._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,s._)`${r} !== true`,()=>e.assign(r,!0===t||(0,s._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=d,t.setEvaluated=p;let m={};function f(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:m[t.code]||(m[t.code]=new i._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(a||(t.Type=a={})),t.getErrorPath=function(e,t,r){if(e instanceof s.Name){let i=t===a.Num;return r?i?(0,s._)`"[" + ${e} + "]"`:(0,s._)`"['" + ${e} + "']"`:i?(0,s._)`"/" + ${e}`:(0,s._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,s.getProperty)(e).toString():"/"+l(e)},t.checkStrictMode=f},46813:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(35154);t.default={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw Error("ajv implementation error");let i=t.name("valid");r.forEach((t,r)=>{if((0,a.alwaysValidSchema)(s,t))return;let n=e.subschema({keyword:"allOf",schemaProp:r},i);e.ok(i),e.mergeEvaluated(n)})}}},47257:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class a extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=a;class s extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return""===e||'""'===e}get str(){var e;return null!=(e=this._str)?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!=(e=this._names)?e:this._names=this._items.reduce((e,t)=>(t instanceof a&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function i(e,...t){let r=[e[0]],a=0;for(;a<t.length;)l(r,t[a]),r.push(e[++a]);return new s(r)}t._Code=s,t.nil=new s(""),t._=i;let n=new s("+");function o(e,...t){let r=[c(e[0])],i=0;for(;i<t.length;)r.push(n),l(r,t[i]),r.push(n,c(e[++i]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===n){var r,s;let i=(r=e[t-1],'""'===(s=e[t+1])?r:'""'===r?s:"string"==typeof r?s instanceof a||'"'!==r[r.length-1]?void 0:"string"!=typeof s?`${r.slice(0,-1)}${s}"`:'"'===s[0]?r.slice(0,-1)+s.slice(1):void 0:"string"!=typeof s||'"'!==s[0]||r instanceof a?void 0:`"${r}${s.slice(1)}`);if(void 0!==i){e.splice(t-1,3,i);continue}e[t++]="+"}t++}}(r),new s(r)}function l(e,t){var r;t instanceof s?e.push(...t._items):t instanceof a?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:c(Array.isArray(r)?r.join(","):r))}function c(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=o,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:o`${e}${t}`},t.stringify=function(e){return new s(c(e))},t.safeStringify=c,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new s(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new s(`${e}`);throw Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new s(e.toString())}},47311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openAPIToVovkSchema=function({apiRoot:e,source:{object:t},getModuleName:r="api",getMethodName:c="auto",errorMessageKey:u,package:d,mixinName:p}){let m=e??t.servers?.[0]?.url??("host"in t?`https://${t.host}${"basePath"in t?t.basePath:""}`:null);if(!m)throw Error("API root URL is required in OpenAPI configuration");let f={$schema:a.VovkSchemaIdEnum.SCHEMA,segments:{[p]:{$schema:a.VovkSchemaIdEnum.SEGMENT,emitSchema:!0,segmentName:p,segmentType:"mixin",controllers:{},meta:{components:t.components,package:Object.assign({},d,t.info?{description:d?.description??`**${t.info.title}**
${t.info.description??""}`}:{})}}}},h=f.segments[p];return r=(e=>{if("nestjs-operation-id"===e)e=({operationObject:e})=>l(e)[0];else if("string"==typeof e){let t=e;e=()=>t}else if("function"!=typeof e)throw Error("getModuleName must be a function or one of the predefined strings");return e})(r),c=(e=>{if("nestjs-operation-id"===e)e=({operationObject:e})=>l(e)[1];else if("camel-case-operation-id"===e)e=({operationObject:e})=>{let t=e.operationId;if(!t)throw Error("Operation ID is required for camel-case method name generation");return(0,i.camelCase)(t)};else if("auto"===e)e=({operationObject:e,method:t,path:r})=>{let a=e.operationId,n=a&&/^[a-z][a-zA-Z0-9]*$/.test(a),o=a&&/^[a-z][a-z0-9_]+$/.test(a);return n?a:o?(0,i.camelCase)(a):(0,s.generateFnName)(t,r)};else if("function"!=typeof e)throw Error("getMethodName must be a function or one of the predefined strings");return e})(c),Object.entries(t.paths??{}).reduce((e,[a,s])=>(Object.entries(s??{}).filter(([,e])=>e&&"object"==typeof e).forEach(([e,s])=>{let i=r({method:e.toUpperCase(),path:a,openAPIObject:t,operationObject:s}),l=c({method:e.toUpperCase(),path:a,openAPIObject:t,operationObject:s});h.controllers[i]??={forceApiRoot:m,rpcModuleName:i,handlers:{}};let d=(0,o.inlineRefs)(s.parameters??[],t),f=d.filter(e=>"query"===e.in)??null,y=d.filter(e=>"path"===e.in)??null,v=f?.length?{type:"object",properties:Object.fromEntries(f.map(e=>[e.name,e.schema])),required:f.filter(e=>e.required).map(e=>e.name)}:null,b=y?.length?{type:"object",properties:Object.fromEntries(y.map(e=>[e.name,e.schema])),required:y.filter(e=>e.required).map(e=>e.name)}:null,g=(0,o.inlineRefs)(s.requestBody,t)?.content??{},$=g["application/json"]?.schema??null,_=g["multipart/form-data"]?.schema??null,k=g["application/x-www-form-urlencoded"]?.schema??null;_&&k&&JSON.stringify(_)===JSON.stringify(k)&&(k=null),_&&Object.assign(_,{"x-formData":!0,"x-tsType":"FormData"}),k&&Object.assign(k,{"x-formData":!0,"x-tsType":"FormData"});let E=[$,_,k].filter(Boolean),O=E.length?1===E.length?E[0]:{anyOf:E}:null,w=s.responses?.["200"]?.content?.["application/json"]?.schema??s.responses?.["201"]?.content?.["application/json"]?.schema??null,P=s.responses?.["200"]?.content?.["application/jsonl"]?.schema??s.responses?.["201"]?.content?.["application/jsonl"]?.schema??s.responses?.["200"]?.content?.["application/jsonlines"]?.schema??s.responses?.["201"]?.content?.["application/jsonlines"]?.schema??null;u&&(s["x-errorMessageKey"]=u);let S=t.components?.schemas??("definitions"in t?t.definitions:{});h.controllers[i].handlers[l]={httpMethod:e.toUpperCase(),path:a,openapi:s,validation:{...v&&{query:(0,n.applyComponentsSchemas)(v,S,p)},...b&&{params:(0,n.applyComponentsSchemas)(b,S,p)},...O&&{body:(0,n.applyComponentsSchemas)(O,S,p)},...w&&{output:(0,n.applyComponentsSchemas)(w,S,p)},...P&&{iteration:(0,n.applyComponentsSchemas)(P,S,p)}}}}),e),f)};let a=r(12784),s=r(2970),i=r(35233),n=r(37581),o=r(96474),l=e=>{let t=e.operationId;if(!t)throw Error("Operation ID is required for NestJS module name generation");let r=t?.match(/^([A-Z][a-zA-Z0-9]*)_([a-zA-Z0-9_]+)/);if(!r)throw Error(`Invalid operationId format for NestJS: ${t}`);let[a,s]=r.slice(1,3);return[a.replace(/Controller$/,"RPC"),s]}},47488:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(94737),s=r(36132),i=r(35154),n=r(21755);t.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,s.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,s._)`{i: ${e}, j: ${t}}`},code(e){let{gen:t,data:r,$data:o,schema:l,parentSchema:c,schemaCode:u,it:d}=e;if(!o&&!l)return;let p=t.let("valid"),m=c.items?(0,a.getSchemaTypes)(c.items):[];e.block$data(p,function(){let o=t.let("i",(0,s._)`${r}.length`),l=t.let("j");e.setParams({i:o,j:l}),t.assign(p,!0),t.if((0,s._)`${o} > 1`,()=>(m.length>0&&!m.some(e=>"object"===e||"array"===e)?function(i,n){let o=t.name("item"),l=(0,a.checkDataTypes)(m,o,d.opts.strictNumbers,a.DataType.Wrong),c=t.const("indices",(0,s._)`{}`);t.for((0,s._)`;${i}--;`,()=>{t.let(o,(0,s._)`${r}[${i}]`),t.if(l,(0,s._)`continue`),m.length>1&&t.if((0,s._)`typeof ${o} == "string"`,(0,s._)`${o} += "_"`),t.if((0,s._)`typeof ${c}[${o}] == "number"`,()=>{t.assign(n,(0,s._)`${c}[${o}]`),e.error(),t.assign(p,!1).break()}).code((0,s._)`${c}[${o}] = ${i}`)})}:function(a,o){let l=(0,i.useFunc)(t,n.default),c=t.name("outer");t.label(c).for((0,s._)`;${a}--;`,()=>t.for((0,s._)`${o} = ${a}; ${o}--;`,()=>t.if((0,s._)`${l}(${r}[${a}], ${r}[${o}])`,()=>{e.error(),t.assign(p,!1).break(c)})))})(o,l))},(0,s._)`${u} === false`),e.ok(p)}}},48149:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.progressive=t.createFetcher=t.fetcher=t.createRPC=void 0;var a=r(30502);Object.defineProperty(t,"createRPC",{enumerable:!0,get:function(){return a.createRPC}});var s=r(58954);Object.defineProperty(t,"fetcher",{enumerable:!0,get:function(){return s.fetcher}}),Object.defineProperty(t,"createFetcher",{enumerable:!0,get:function(){return s.createFetcher}});var i=r(43158);Object.defineProperty(t,"progressive",{enumerable:!0,get:function(){return i.progressive}})},48275:(e,t)=>{"use strict";async function r({handler:e,body:t,query:r,params:a,init:s,meta:i},n){if(e.isRPC)return e({handler:e,body:t,query:r,params:a,init:s,meta:i});if(e.fn)return e.fn({body:t,query:r,params:a,meta:i});throw Error("Handler is not a valid RPC or controller method")}Object.defineProperty(t,"__esModule",{value:!0}),t.createLLMTools=function({modules:e,caller:t=r,meta:a,onExecute:s=e=>e,onError:i=()=>{}}){return{tools:Object.entries(e??{}).map(([e,r])=>{let n,o;return Array.isArray(r)?[o,{init:n}]=r:o=r,Object.entries(o??{}).filter(([,e])=>e?.schema?.openapi&&!e?.schema?.openapi?.["x-tool-exclude"]).map(([r])=>(({moduleName:e,handlerName:t,caller:r,module:a,init:s,meta:i,onExecute:n,onError:o})=>{if(!a)throw Error(`Module "${e}" not found.`);let l=a[t];if(!l)throw Error(`Handler "${t}" not found in module "${e}".`);let{schema:c,models:u}=l;if(!c||!c.openapi)throw Error(`Handler "${t}" in module "${e}" does not have a valid schema.`);let d={...c?.validation?.body?{body:c.validation.body}:{},...c?.validation?.query?{query:c.validation.query}:{},...c?.validation?.params?{params:c.validation.params}:{}};return{type:"function",execute:(a,d)=>{let{body:p,query:m,params:f}=a,h={schema:c,models:u,handler:l,body:p,query:m,params:f,init:s,meta:i,handlerName:t,moduleName:e};return r(h,d).then(e=>n(e,h,d)??e).catch(e=>o?.(e,h,d)??e)},name:`${e}_${t}`,description:c.openapi?.["x-tool-description"]??([c.openapi?.summary??"",c.openapi?.description??""].filter(Boolean).join("\n")||t),parameters:{type:"object",properties:d,required:Object.keys(d),additionalProperties:!1},models:u}})({moduleName:e,handlerName:r,caller:t,module:o,init:n,meta:a,onExecute:s,onError:i}))}).flat()}}},48492:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;let a=r(75539),s=r(36132),i=s.operators,n={formatMaximum:{okStr:"<=",ok:i.LTE,fail:i.GT},formatMinimum:{okStr:">=",ok:i.GTE,fail:i.LT},formatExclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},formatExclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}};t.formatLimitDefinition={keyword:Object.keys(n),type:"string",schemaType:"string",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,s.str)`should be ${n[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,s._)`{comparison: ${n[e].okStr}, limit: ${t}}`},code(e){let{gen:t,data:r,schemaCode:i,keyword:o,it:l}=e,{opts:c,self:u}=l;if(!c.validateFormats)return;let d=new a.KeywordCxt(l,u.RULES.all.format.definition,"format");function p(e){return(0,s._)`${e}.compare(${r}, ${i}) ${n[o].fail} 0`}d.$data?function(){let r=t.scopeValue("formats",{ref:u.formats,code:c.code.formats}),a=t.const("fmt",(0,s._)`${r}[${d.schemaCode}]`);e.fail$data((0,s.or)((0,s._)`typeof ${a} != "object"`,(0,s._)`${a} instanceof RegExp`,(0,s._)`typeof ${a}.compare != "function"`,p(a)))}():function(){let r=d.schema,a=u.formats[r];if(!a||!0===a)return;if("object"!=typeof a||a instanceof RegExp||"function"!=typeof a.compare)throw Error(`"${o}": format "${r}" does not define "compare" function`);let i=t.scopeValue("formats",{key:r,ref:a,code:c.code.formats?(0,s._)`${c.code.formats}${(0,s.getProperty)(r)}`:void 0});e.fail$data(p(i))}()},dependencies:["format"]},t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},49988:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createRPC=void 0;let s=r(29916),i=r(5442),n=r(45570),o=a(r(9515)),l=(e,t,r)=>{let a=e,s=r?(0,o.default)(r):null;for(let[e,r]of Object.entries(t??{}))a=a.replace(`{${e}}`,r);return`${a}${s?"?":""}${s}`};t.createRPC=(e,t,r,a,o)=>{a??=s.fetcher;let c=o?.segmentNameOverride??t,u=e.segments[t];if(!u)throw Error(`Unable to create RPC module. Segment schema is missing for segment "${t}".`);let d=e.segments[t]?.controllers[r],p={};if(!d)throw Error(`Unable to create RPC module. Controller schema is missing for module "${r}" from segment "${t}".`);let m=(d.prefix??"").trim().replace(/^\/|\/$/g,"");for(let[t,r]of Object.entries(d.handlers??{})){let{path:s,httpMethod:f,validation:h}=r,y=({apiRoot:e,params:t,query:r})=>{let a=d.forceApiRoot??u.forceApiRoot;return[(e=e??a??o?.apiRoot??"/api").startsWith("http://")||e.startsWith("https://")||e.startsWith("/")?"":"/",e,a?"":c,l([m,s].filter(Boolean).join("/"),t,r)].filter(Boolean).join("/").replace(/([^:])\/+/g,"$1/")},v=async(s={})=>{let l={name:t,httpMethod:f,getEndpoint:y,validate:async(t,{endpoint:r})=>{let a=s.validateOnClient??o?.validateOnClient;if(a&&h){if("function"!=typeof a)throw Error("validateOnClient must be a function");return await a({...t},h,{fullSchema:e,endpoint:r})??t}return t},defaultHandler:i.defaultHandler,defaultStreamHandler:n.defaultStreamHandler,schema:r},c={...o,...s,body:s.body??null,query:s.query??{},params:s.params??{}};if(!a)throw Error("Fetcher is not provided");let[u,d]=await a(l,c);return s.transform?s.transform(u,d):u};v.schema=r,v.controllerSchema=d,v.segmentSchema=u,v.fullSchema=e,v.isRPC=!0,v.path=[c,m,s].filter(Boolean).join("/"),v.queryKey=e=>[v.segmentSchema.segmentName,v.controllerSchema.prefix??"",v.controllerSchema.rpcModuleName,v.schema.path,v.schema.httpMethod,...e??[]],p[t]=v}return p}},50642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(35154);t.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,a._)`{passingSchemas: ${e.passing}}`},code(e){let{gen:t,schema:r,parentSchema:i,it:n}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;let o=t.let("valid",!1),l=t.let("passing",null),c=t.name("_valid");e.setParams({passing:l}),t.block(function(){r.forEach((r,i)=>{let u;(0,s.alwaysValidSchema)(n,r)?t.var(c,!0):u=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},c),i>0&&t.if((0,a._)`${c} && ${o}`).assign(o,!1).assign(l,(0,a._)`[${l}, ${i}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(l,i),u&&e.mergeEvaluated(u,a.Name)})})}),e.result(o,()=>e.reset(),()=>e.error(!0))}}},50769:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createValidateOnClient=function({validate:e}){return async function(t,r,a){let s={...t};return t.body&&r.body&&(s.body=await e(t.body,r.body,{...a,type:"body"})??t.body),t.query&&r.query&&(s.query=await e(t.query,r.query,{...a,type:"query"})??t.query),t.params&&r.params&&(s.params=await e(t.params,r.params,{...a,type:"params"})??t.params),s}}},50927:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e.nextUrl.search)};let s=a(r(58842))},51002:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":e="";var t=a.params.limit;e+="は"+t+"以上あってはいけない";break;case"additionalProperties":e="追加してはいけない";break;case"anyOf":e='"anyOf"のスキーマとマッチしなくてはいけない';break;case"const":e="must be equal to constant";break;case"contains":e="must contain a valid item";break;case"dependencies":case"dependentRequired":e=""+a.params.property+"がある場合、";var t=a.params.depsCount;e+="は"+a.params.deps+"をつけなければいけない";break;case"discriminator":switch(a.params.error){case"tag":e='tag "'+a.params.tag+'" must be string';break;case"mapping":e='value of tag "'+a.params.tag+'" must be in oneOf';break;default:e='must pass "'+a.keyword+'" keyword validation'}break;case"enum":e="事前に定義された値のいずれかに等しくなければいけない";break;case"false schema":e="boolean schema is false";break;case"format":e='"'+a.params.format+'"形式に揃えなければいけない';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="must be "+r;break;case"if":e='must match "'+a.params.failingKeyword+'" schema';break;case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+=r+"でなければいけない";break;case"maxItems":e="";var t=a.params.limit;e+="は"+t+"個以上であってはいけない";break;case"maxLength":e="";var t=a.params.limit;e+="は"+t+"文字以上であってはいけない";break;case"maxProperties":e="";var t=a.params.limit;e+="は"+t+"個以上のプロパティを有してはいけない";break;case"minItems":e="";var t=a.params.limit;e+="は"+t+"個以下であってはいけない";break;case"minLength":e="";var t=a.params.limit;e+="は"+t+"文字以下であってはいけない";break;case"minProperties":e="";var t=a.params.limit;e+="は"+t+"個以下のプロパティを有してはいけない";break;case"multipleOf":e=""+a.params.multipleOf+"の倍数でなければいけない";break;case"not":e='"not"のスキーマに従って有効としてはいけない';break;case"oneOf":e='"oneOf"のスキーマと完全に一致しなくてはいけない';break;case"pattern":e='"'+a.params.pattern+'"のパターンと一致しなければいけない';break;case"patternRequired":e='must have property matching pattern "'+a.params.missingPattern+'"';break;case"propertyNames":e="property name is invalid";break;case"required":e="必要なプロパティ"+a.params.missingProperty+"がなければいけない";break;case"type":e=""+a.params.type+"でなければいけない";break;case"unevaluatedItems":e="";var t=a.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="重複するアイテムがあってはいけない（"+a.params.j+"と"+a.params.i+"は同じである）";break;default:e='must pass "'+a.keyword+'" keyword validation'}a.message=e}}},51039:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":case"maxItems":e="";var t=r.params.limit;e+="nie powinien mieć więcej niż "+t+" element",1==t?e+="u":e+="\xf3w";break;case"additionalProperties":e="nie powinien zawierać dodatkowych p\xf3l";break;case"anyOf":e='powinien pasować do wzoru z sekcji "anyOf"';break;case"const":e="powinien być r\xf3wny stałej";break;case"contains":e="must contain a valid item";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="powinien zawierać pol",1==t?e+="e":e+="a",e+=" "+r.params.deps+" kiedy pole "+r.params.property+" jest obecne";break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='powinien przejść walidację "'+r.keyword+'"'}break;case"enum":e="powinien być r\xf3wny jednej z predefiniowanych wartości";break;case"false schema":e="boolean schema is false";break;case"format":e='powinien zgadzać się z formatem "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="powinien być "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='must match "'+r.params.failingKeyword+'" schema';break;case"maxLength":e="";var t=r.params.limit;e+="nie powinien być dłuższy niż "+t+" znak",1!=t&&(e+="\xf3w");break;case"maxProperties":e="";var t=r.params.limit;e+="nie powinien zawierać więcej niż "+t+" ",1==t?e+="pole":e+="p\xf3l";break;case"minItems":e="";var t=r.params.limit;e+="nie powinien mieć mniej niż "+t+" element",1==t?e+="u":e+="\xf3w";break;case"minLength":e="";var t=r.params.limit;e+="nie powinien być kr\xf3tszy niż "+t+" znak",1!=t&&(e+="\xf3w");break;case"minProperties":e="";var t=r.params.limit;e+="nie powinien zawierać mniej niż "+t+" ",1==t?e+="pole":e+="p\xf3l";break;case"multipleOf":e="powinien być wielokrotnością "+r.params.multipleOf;break;case"not":e='nie powinien pasować do wzoru z sekcji "not"';break;case"oneOf":e='powinien pasować do jednego wzoru z sekcji "oneOf"';break;case"pattern":e='powinien zgadzać się ze wzorem "'+r.params.pattern+'"';break;case"patternRequired":e='powinien mieć pole pasujące do wzorca "'+r.params.missingPattern+'"';break;case"propertyNames":e="property name is invalid";break;case"required":e="powinien zawierać wymagane pole "+r.params.missingProperty;break;case"type":e="powinien być "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="nie powinien zawierać element\xf3w kt\xf3re się powtarzają (elementy "+r.params.j+" i "+r.params.i+" są identyczne)";break;default:e='powinien przejść walidację "'+r.keyword+'"'}r.message=e}}},51214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=function(e,t){return function(...r){return function(a,s){let i=a[s];if("function"!=typeof i)throw Error(`Unable to decorate: ${s} is not a function`);let n=i._sourceMethod??i,o=function(t,s){let n=async()=>await i.call(a,t,s);return e?e.call(a,t,n,...r):n()};a[s]=o,o._controller=a,o._sourceMethod=n,o.fn=i.fn,o.models=i.models,n.wrapper=o,i._controller=a;let l=a._handlers?.[s]??null,c=t?.call(a,...r),u="function"==typeof c?c(l,{handlerName:s}):c,d={...l,...u?.validation?{validation:u.validation}:{},...u?.openapi?{openapi:u.openapi}:{},...u?.misc?{misc:u.misc}:{}};o.schema=d,a._handlers={...a._handlers,[s]:d}}}}},51616:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(s=a;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=a;0!=s--;){var a,s,i,n=i[s];if(!e(t[n],r[n]))return!1}return!0}return t!=t&&r!=r}},52322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateStaticAPI=function(e,t="vovk"){return[{[t]:["_schema_"]},...Object.values(e).map(e=>{let r=e._handlers,a=e._prefix?.split("/")??[];return Object.entries(r??{}).map(([r,s])=>{let i=e._handlersMetadata?.[r]?.staticParams;return i?.length?i.map(e=>{let r=s.path;for(let[t,a]of Object.entries(e??{}))r=r.replace(`{${t}}`,a);return{[t]:[...a,...r.split("/")].filter(Boolean)}}):[{[t]:[...a,...s.path.split("/")].filter(Boolean)}]}).flat()}).flat()]}},52595:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+="ne doit pas contenir plus de "+t+" \xe9l\xe9m\xe9nt",1!=t&&(e+="s");break;case"additionalProperties":e="ne doit pas contenir de propri\xe9t\xe9s additionnelles";break;case"anyOf":e='doit correspondre \xe0 un sch\xe9ma de "anyOf"';break;case"const":e="doit \xeatre \xe9gal \xe0 la constante";break;case"contains":e="doit contenir un \xe9l\xe9ment valide";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="doit avoir la propri\xe9t\xe9 "+r.params.deps+" quand la propri\xe9t\xe9 "+r.params.property+" est pr\xe9sente";break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='doit \xeatre valide selon le crit\xe8re "'+r.keyword+'"'}break;case"enum":e="doit \xeatre \xe9gal \xe0 une des valeurs pr\xe9d\xe9finies";break;case"false schema":e='le schema est "false"';break;case"format":e='doit correspondre au format "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="doit \xeatre "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='doit correspondre au sch\xe9ma "'+r.params.failingKeyword+'"';break;case"maxItems":e="";var t=r.params.limit;e+="ne doit pas contenir plus de "+t+" \xe9l\xe9ment",1!=t&&(e+="s");break;case"maxLength":e="";var t=r.params.limit;e+="ne doit pas d\xe9passer "+t+" caract\xe8re",1!=t&&(e+="s");break;case"maxProperties":e="";var t=r.params.limit;e+="ne doit pas contenir plus de "+t+" propri\xe9t\xe9",1!=t&&(e+="s");break;case"minItems":e="";var t=r.params.limit;e+="ne doit pas contenir moins de "+t+" \xe9l\xe9ment",1!=t&&(e+="s");break;case"minLength":e="";var t=r.params.limit;e+="ne doit pas faire moins de "+t+" caract\xe8re",1!=t&&(e+="s");break;case"minProperties":e="";var t=r.params.limit;e+="ne doit pas contenir moins de "+t+" propri\xe9t\xe9",1!=t&&(e+="s");break;case"multipleOf":e="doit \xeatre un multiple de "+r.params.multipleOf;break;case"not":e='est invalide selon le sch\xe9ma "not"';break;case"oneOf":e='doit correspondre \xe0 exactement un sch\xe9ma de "oneOf"';break;case"pattern":e='doit correspondre au format "'+r.params.pattern+'"';break;case"patternRequired":e='la propri\xe9t\xe9 doit correspondre au format "'+r.params.missingPattern+'"';break;case"propertyNames":e="le nom de propri\xe9t\xe9 est invalide";break;case"required":e="requiert la propri\xe9t\xe9 "+r.params.missingProperty;break;case"type":e="doit \xeatre de type "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="ne doit pas contenir de doublons (les \xe9l\xe9ments ## "+r.params.j+" et "+r.params.i+" sont identiques)";break;default:e='doit \xeatre valide selon le crit\xe8re "'+r.keyword+'"'}r.message=e}}},54053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCodeExamples=function({handlerName:e,handlerSchema:t,controllerSchema:r,package:i}){let n=t?.validation?.query,o=t?.validation?.body,l=t?.validation?.params,c=t?.validation?.output,u=t?.validation?.iteration,d=(e,t)=>(0,a.getJSONSchemaExample)(e,{stripQuotes:!0,indent:t??4}),p=(e,t)=>(0,a.getJSONSchemaExample)(e,{stripQuotes:!1,indent:t??4,comment:"#"}),m=(e,t)=>(0,a.getJSONSchemaExample)(e,{stripQuotes:!1,indent:t??4}),f=!!n||!!o||!!l,h=r.rpcModuleName,y=s(e),v=s(h),b=i?.name||"vovk-client",g=s(b),$=f?`{
${[o?`    body: ${d(o)},`:null,n?`    query: ${d(n)},`:null,l?`    params: ${d(l)},`:null].filter(Boolean).join("\n")}
}`:"",_=`import { ${h} } from '${b}';

${u?"using":"const"} response = await ${h}.${e}(${$});
${c?`
console.log(response); 
/* 
${d(c,0)}
*/`:""}${u?`
for await (const item of response) {
    console.log(item); 
    /*
    ${d(u)}
    */
}`:""}`,k=`from ${i?.py_name??g} import ${h}

response = ${h}.${y}(${f?"\n"+[o?`    body=${p(o)},`:null,n?`    query=${p(n)},`:null,l?`    params=${p(l)},`:null].filter(Boolean).join("\n")+"\n":""})

${c?`print(response)
${p(c,0)}`:""}${u?`for i, item in enumerate(response):
    print(f"iteration #{i}:\\n {item}")
    # iteration #0:
    ${p(u)}`:""}`,E=e=>`from_value(json!(${e})).unwrap()`,O=`use ${i?.rs_name??g}::${v};
use serde_json::{ from_value, json };

pub fn main() {
  let response = ${v}::${y}(
    ${o?E(m(o)):"()"}, /* body */ 
    ${n?E(m(n)):"()"}, /* query */ 
    ${l?E(m(l)):"()"}, /* params */ 
    None, /* headers (HashMap) */ 
    None, /* api_root */ 
    false, /* disable_client_validation */
  );${c?`

match response {
    Ok(output) => println!("{:?}", output),
    /* 
    output ${d(c)} 
    */
    Err(e) => println!("error: {:?}", e),
  }`:""}${u?`match response {
    Ok(stream) => {
      for (i, item) in stream.enumerate() {
        println!("#{}: {:?}", i, item);
        /*
        #0: iteration ${d(u,8)}
        */
      }
    },
    Err(e) => println!("Error initiating stream: {:?}", e),
  }`:""}
}`;return{ts:_.trim(),py:k.trim(),rs:O.trim()}};let a=r(40474),s=e=>e.replace(/-/g,"_").replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1_$2").toLowerCase().replace(/^_/,"")},55636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;let a=r(27247),s=r(29358),i=r(1008),n={message:"boolean schema is false"};function o(e,t){let{gen:r,data:s}=e;(0,a.reportError)({gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},n,void 0,t)}t.topBoolOrEmptySchema=function(e){let{gen:t,schema:r,validateName:a}=e;!1===r?o(e,!1):"object"==typeof r&&!0===r.$async?t.return(i.default.data):(t.assign((0,s._)`${a}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){let{gen:r,schema:a}=e;!1===a?(r.var(t,!1),o(e)):r.var(t,!0)}},55974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;let a=r(29358),s=r(1008),i=r(62798),n=r(27247);function o(e){let{gen:t,data:r,it:s}=e;t.if(s.parentData,()=>t.assign(r,(0,a._)`${s.parentData}[${s.parentDataProperty}]`))}function l(e,t,r){if(void 0===r)throw Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,a.stringify)(r)})}t.macroKeywordCode=function(e,t){let{gen:r,keyword:s,schema:i,parentSchema:n,it:o}=e,c=t.macro.call(o.self,i,n,o),u=l(r,s,c);!1!==o.opts.validateSchema&&o.self.validateSchema(c,!0);let d=r.name("valid");e.subschema({schema:c,schemaPath:a.nil,errSchemaPath:`${o.errSchemaPath}/${s}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,()=>e.error(!0))},t.funcKeywordCode=function(e,t){var r;let{gen:c,keyword:u,schema:d,parentSchema:p,$data:m,it:f}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw Error("async keyword in sync schema")}(f,t);let h=l(c,u,!m&&t.compile?t.compile.call(f.self,d,p,f):t.validate),y=c.let("valid");function v(r=t.async?(0,a._)`await `:a.nil){let n=f.opts.passContext?s.default.this:s.default.self,o=!("compile"in t&&!m||!1===t.schema);c.assign(y,(0,a._)`${r}${(0,i.callValidateCode)(e,h,n,o)}`,t.modifying)}function b(e){var r;c.if((0,a.not)(null!=(r=t.valid)?r:y),e)}e.block$data(y,function(){if(!1===t.errors)v(),t.modifying&&o(e),b(()=>e.error());else{let r=t.async?function(){let e=c.let("ruleErrs",null);return c.try(()=>v((0,a._)`await `),t=>c.assign(y,!1).if((0,a._)`${t} instanceof ${f.ValidationError}`,()=>c.assign(e,(0,a._)`${t}.errors`),()=>c.throw(t))),e}():function(){let e=(0,a._)`${h}.errors`;return c.assign(e,null),v(a.nil),e}();t.modifying&&o(e),b(()=>(function(e,t){let{gen:r}=e;r.if((0,a._)`Array.isArray(${t})`,()=>{r.assign(s.default.vErrors,(0,a._)`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`).assign(s.default.errors,(0,a._)`${s.default.vErrors}.length`),(0,n.extendErrors)(e)},()=>e.error())})(e,r))}}),e.ok(null!=(r=t.valid)?r:y)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e)},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:a},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw Error("ajv implementation error");let n=s.dependencies;if(null==n?void 0:n.some(t=>!Object.prototype.hasOwnProperty.call(e,t)))throw Error(`parent schema must have dependencies of ${i}: ${n.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){let e=`keyword "${i}" value is invalid at path "${a}": `+r.errorsText(s.validateSchema.errors);if("log"===t.validateSchema)r.logger.error(e);else throw Error(e)}}},56060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(46584);t.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:s}=e;if((0,a.alwaysValidSchema)(s,r))return void e.fail();let i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}}},56156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpException=void 0;class r extends Error{statusCode;message;cause;constructor(e,t,r){super(t),this.statusCode=e,this.message=t,this.cause=r}}t.HttpException=r},56378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;let a=r(3769),s=r(31710),i=r(30546),n=r(12171),o="https://json-schema.org/draft/2020-12/schema";class l extends a.default{constructor(e={}){super({...e,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),s.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();let{$data:e,meta:t}=this.opts;t&&(n.default.call(this,e),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv2020=l,e.exports=t=l,e.exports.Ajv2020=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=r(16037);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=r(29358);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=r(71117);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var p=r(61476);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},57653:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(r||(t.DiscrError=r={}))},57663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132);t.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${t} properties`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:s}=e,i="maxProperties"===t?a.operators.GT:a.operators.LT;e.fail$data((0,a._)`Object.keys(${r}).length ${i} ${s}`)}}},57728:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(63915);t.default={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,a.dynamicRef)(e,e.schema)}},58224:(e,t)=>{"use strict";function r(e,t){if(!e.startsWith("#/"))return void console.warn(`External references are not supported: ${e}`);let r=e.substring(1).split("/").filter(e=>""!==e),a=t;for(let t of r){let r=t.replace(/~1/g,"/").replace(/~0/g,"~");if(!a||"object"!=typeof a||!(r in a))return void console.warn(`Could not resolve reference: ${e}`);a=a[r]}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.inlineRefs=function(e,t){if(null==e)return e;if(Array.isArray(e))return e.map(e=>{if(e&&"object"==typeof e&&"$ref"in e&&"string"==typeof e.$ref){if(e.$ref.startsWith("#/components/schemas/"))return e;let a=r(e.$ref,t);if(void 0!==a){let{$ref:t,...r}=e;return Object.keys(r).length>0?{...a,...r}:a}}return e});if("object"!=typeof e)return e;if("$ref"in e&&"string"==typeof e.$ref){if(e.$ref.startsWith("#/components/schemas/"))return e;let a=r(e.$ref,t);if(void 0!==a){let{$ref:t,...r}=e;return Object.keys(r).length>0?{...a,...r}:a}}return e}},58518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vovkSchemaToOpenAPI=function({rootEntry:e,schema:t,openAPIObject:r={},package:o={name:"my-rpc-client"}}){let l={},c={};for(let[r,s]of Object.entries(t.segments??{}))for(let t of Object.values(s.controllers))for(let[s,u]of Object.entries(t.handlers??{}))if(u.openapi){let[d,p]=n(u?.validation?.query),[m,f]=n(u?.validation?.body),[h,y]=n(u?.validation?.params),[v,b]=n(u?.validation?.output),[g,$]=n(u?.validation?.iteration);Object.assign(c,p,f,y,b,$);let{ts:_,rs:k,py:E}=(0,a.createCodeExamples)({package:o,handlerName:s,handlerSchema:u,controllerSchema:t}),O=d&&"type"in d&&"properties"in d?Object.entries(d.properties??{}).map(([e,t])=>({name:e,in:"query",required:!!d.required&&d.required.includes(e),schema:t})):null,w=h&&"type"in h&&"properties"in h?Object.entries(h.properties??{}).map(([e,t])=>({name:e,in:"path",required:!!h.required&&h.required.includes(e),schema:t})):null,P="/"+[e.replace(/^\/+|\/+$/g,""),r,t.prefix,u.path].filter(Boolean).join("/");l[P]=l[P]??{};let S=u.httpMethod.toLowerCase();l[P][S]??={},l[P][S]={...u.openapi,...l[P][S],"x-codeSamples":[...l[P][S]["x-codeSamples"]??[],...u.openapi["x-codeSamples"]??[],{label:"TypeScript RPC",lang:"typescript",source:_},{label:"Python RPC",lang:"python",source:E},{label:"Rust RPC",lang:"rust",source:k}],...O||w?{parameters:u.openapi.parameters??[...O||[],...w||[]]}:{},...l[P][S].parameters?{parameters:l[P][S].parameters}:{},...v&&"type"in v?{responses:{200:{description:"description"in v?v.description:"Success",content:{"application/json":{schema:v}}},...u.openapi?.responses}}:{},...g&&"type"in g?{responses:{200:{description:"description"in g?g.description:"JSON Lines response",content:{"application/jsonl":{schema:{...g,examples:g.examples??[[JSON.stringify((0,i.getJSONSchemaSample)(g)),JSON.stringify((0,i.getJSONSchemaSample)(g)),JSON.stringify((0,i.getJSONSchemaSample)(g))].join("\n")]}}}},...u.openapi?.responses}}:{},...l[P][S].responses?{responses:l[P][S].responses}:{},...m&&"type"in m?{requestBody:u.openapi?.requestBody??{description:"description"in m?m.description:"Request body",required:!0,content:{"application/json":{schema:m}}}}:{},...l[P][S].requestBody?{requestBody:l[P][S].requestBody}:{},tags:l[P][S].tags??u.openapi?.tags}}return{...r,openapi:"3.1.0",info:{title:o?.description??"API",version:o?.version??"0.0.1",...r?.info},components:{schemas:{...r?.components?.schemas??c,HttpStatus:{type:"integer",description:"HTTP status code",enum:Object.keys(s.HttpStatus).map(e=>s.HttpStatus[e]).filter(Boolean).filter(e=>"number"==typeof e)},VovkErrorResponse:{type:"object",description:"Vovk error response",properties:{cause:{description:"Error cause of any shape"},statusCode:{$ref:"#/components/schemas/HttpStatus"},message:{type:"string",description:"Error message"},isError:{type:"boolean",const:!0,description:"Indicates that this object represents an error"}},required:["statusCode","message","isError"],additionalProperties:!1},...r?.components?.schemas}},paths:l}};let a=r(54053),s=r(72934),i=r(6638);function n(e){if(!e)return[void 0,{}];let t={},r=(e,a=[])=>{if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(e=>r(e,a));let s={};for(let[i,n]of(Object.entries({...e.definitions,...e.$defs}).forEach(([e,s])=>{t[e]=r(s,[...a,e])}),Object.entries(e??{})))if("$defs"!==i&&"definitions"!==i)if("$ref"===i&&"string"==typeof n){let e=n.split("/"),t=e[e.length-1];s[i]=`#/components/schemas/${t}`}else s[i]=r(n,[...a,i]);return s};return[r(e),t]}},58842:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t={};if(!e)return t;for(let r of e.replace(/^\?/,"").split("&")){let[e,a=""]=r.split("="),s=decodeURIComponent(e),i=decodeURIComponent(a);!function(e,t,r){let a=e;for(let e=0;e<t.length;e++){let s=t[e];if(e===t.length-1)if(""===s)Array.isArray(a)||(a=[]),a.push(r);else if(isNaN(Number(s)))a[s]=r;else{let e=Number(s);Array.isArray(a)||(a=[]),a[e]=r}else{let r=t[e+1];if(""===s)Array.isArray(a)||(a=[]),0===a.length?a.push("string"!=typeof r||isNaN(Number(r))?{}:[]):"string"!=typeof r||isNaN(Number(r))?"object"!=typeof a[a.length-1]&&(a[a.length-1]={}):Array.isArray(a[a.length-1])||(a[a.length-1]=[]),a=a[a.length-1];else if(isNaN(Number(s)))void 0===a[s]&&(a[s]="string"!=typeof r||isNaN(Number(r))?{}:[]),a=a[s];else{let e=Number(s);Array.isArray(a)||(a=[]),void 0===a[e]&&(a[e]="string"!=typeof r||isNaN(Number(r))?{}:[]),a=a[e]}}}}(t,function(e){let t,r=[],a=e.match(/^([^[\]]+)/);a?r.push(a[1]):r.push("");let s=/\[([^[\]]*)\]/g;for(;null!==(t=s.exec(e));)r.push(t[1]);return r}(s),i)}return t}},58954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcher=t.DEFAULT_ERROR_MESSAGE=void 0,t.createFetcher=i;let a=r(72934),s=r(77346);function i({prepareRequestInit:e,transformResponse:r,onSuccess:n,onError:o}={}){return async({httpMethod:i,getEndpoint:l,validate:c,defaultHandler:u,defaultStreamHandler:d,schema:p},m)=>{let f=null,h=null,y=null;try{let{meta:o,apiRoot:v,disableClientValidation:b,init:g,interpretAs:$}=m,{body:_,query:k,params:E}=m,O=l({apiRoot:v,params:E,query:k}),w=Array.from(new URL(O.startsWith("/")?`http://localhost${O}`:O).pathname.matchAll(/\{([^}]+)\}/g)).map(e=>e[1]);if(w.length)throw new s.HttpException(a.HttpStatus.NULL,`Unused params: ${w.join(", ")} in ${O}`,{body:_,query:k,params:E,endpoint:O});if(!b)try{({body:_,query:k,params:E}=await c(m,{endpoint:O})??{body:_,query:k,params:E})}catch(e){if(e instanceof s.HttpException)throw e;throw new s.HttpException(a.HttpStatus.NULL,e.message??t.DEFAULT_ERROR_MESSAGE,{body:_,query:k,params:E,endpoint:O})}y={method:i,...g,headers:{accept:"application/jsonl, application/json",..._ instanceof FormData?{}:{"content-type":"application/json"},...o?{"x-meta":JSON.stringify(o)}:{},...g?.headers}},_ instanceof FormData?y.body=_:_&&(y.body=JSON.stringify(_)),y=e?await e(y,m):y;let P=new AbortController;y.signal=P.signal;try{f=await fetch(O,y)}catch(e){throw new s.HttpException(a.HttpStatus.NULL,(e?.message??t.DEFAULT_ERROR_MESSAGE)+" "+O,{body:_,query:k,params:E,endpoint:O})}let S=$??f.headers.get("content-type");return h=S?.startsWith("application/jsonl")?d({response:f,controller:P,schema:p}):S?.startsWith("application/json")?u({response:f,schema:p}):f,h=await h,h=r?await r(h,m,f,y):h,await n?.(h,m,f,y),[h,f]}catch(e){throw await o?.(e,m,f,y,h),e}}}t.DEFAULT_ERROR_MESSAGE="Unknown error at default fetcher",t.fetcher=i()},59024:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},59774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584);t.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){let{gen:t,schema:r,data:i,it:n}=e,o=n.items||0;if(!0===o)return;let l=t.const("len",(0,a._)`${i}.length`);if(!1===r)e.setParams({len:o}),e.fail((0,a._)`${l} > ${o}`);else if("object"==typeof r&&!(0,s.alwaysValidSchema)(n,r)){let r=t.var("valid",(0,a._)`${l} <= ${o}`);t.if((0,a.not)(r),()=>{var i,c;return i=r,c=o,void t.forRange("i",c,l,r=>{e.subschema({keyword:"unevaluatedItems",dataProp:r,dataPropType:s.Type.Num},i),n.allErrors||t.if((0,a.not)(i),()=>t.break())})}),e.ok(r)}n.items=!0}}},59832:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},61064:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132);t.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,a.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,a._)`{format: ${e}}`},code(e,t){let{gen:r,data:s,$data:i,schema:n,schemaCode:o,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:p}=l;c.validateFormats&&(i?function(){let i=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),n=r.const("fDef",(0,a._)`${i}[${o}]`),l=r.let("fType"),u=r.let("format");r.if((0,a._)`typeof ${n} == "object" && !(${n} instanceof RegExp)`,()=>r.assign(l,(0,a._)`${n}.type || "string"`).assign(u,(0,a._)`${n}.validate`),()=>r.assign(l,(0,a._)`"string"`).assign(u,n)),e.fail$data((0,a.or)(!1===c.strictSchema?a.nil:(0,a._)`${o} && !${u}`,function(){let e=d.$async?(0,a._)`(${n}.async ? await ${u}(${s}) : ${u}(${s}))`:(0,a._)`${u}(${s})`,r=(0,a._)`(typeof ${u} == "function" ? ${e} : ${u}.test(${s}))`;return(0,a._)`${u} && ${u} !== true && ${l} === ${t} && !${r}`}()))}():function(){let i=p.formats[n];if(!i){if(!1===c.strictSchema)return p.logger.warn(o());throw Error(o());function o(){return`unknown format "${n}" ignored in schema at path "${u}"`}}if(!0===i)return;let[l,m,f]=function(e){let t=e instanceof RegExp?(0,a.regexpCode)(e):c.code.formats?(0,a._)`${c.code.formats}${(0,a.getProperty)(n)}`:void 0,s=r.scopeValue("formats",{key:n,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,s]:[e.type||"string",e.validate,(0,a._)`${s}.validate`]}(i);l===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!d.$async)throw Error("async format in sync schema");return(0,a._)`await ${f}(${s})`}return"function"==typeof m?(0,a._)`${f}(${s})`:(0,a._)`${f}.test(${s})`}())}())}}},61476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(92636);class s extends Error{constructor(e,t,r,s){super(s||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,a.resolveUrl)(e,t,r),this.missingSchema=(0,a.normalizeId)((0,a.getFullPath)(e,this.missingRef))}}t.default=s},61536:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},62375:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.upperFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},62386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getControllerSchema=s,t.default=i;let a=r(72934);async function s(e,t,r){let a=r?e._handlers:Object.fromEntries(Object.entries(e._handlers??{}).map(([e,{validation:t,...r}])=>[e,r]));return{rpcModuleName:t,originalControllerName:e.name,prefix:e._prefix??"",handlers:a}}async function i(e){let t=e?.exposeValidation??!0,r=e.emitSchema??!0,i={$schema:a.VovkSchemaIdEnum.SEGMENT,emitSchema:r,segmentName:e.segmentName??"",segmentType:"segment",controllers:{}};if(e.forceApiRoot&&(i.forceApiRoot=e.forceApiRoot),!r)return i;for(let[r,a]of Object.entries(e.controllers??{}))i.controllers[r]=await s(a,r,t);return i}},62500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358);t.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,a.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,a._)`{multipleOf: ${e}}`},code(e){let{gen:t,data:r,schemaCode:s,it:i}=e,n=i.opts.multipleOfPrecision,o=t.let("res"),l=n?(0,a._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${n}`:(0,a._)`${o} !== parseInt(${o})`;e.fail$data((0,a._)`(${s} === 0 || (${o} = ${r}/${s}, ${l}))`)}}},62798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;let a=r(29358),s=r(46584),i=r(1008),n=r(46584);function o(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,a._)`Object.prototype.hasOwnProperty`})}function l(e,t,r){return(0,a._)`${o(e)}.call(${t}, ${r})`}function c(e,t,r,s){let i=(0,a._)`${t}${(0,a.getProperty)(r)} === undefined`;return s?(0,a.or)(i,(0,a.not)(l(e,t,r))):i}function u(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}t.checkReportMissingProp=function(e,t){let{gen:r,data:s,it:i}=e;r.if(c(r,s,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,a._)`${t}`},!0),e.error()})},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},s,i){return(0,a.or)(...s.map(s=>(0,a.and)(c(e,t,s,r.ownProperties),(0,a._)`${i} = ${s}`)))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=o,t.isOwnProperty=l,t.propertyInData=function(e,t,r,s){let i=(0,a._)`${t}${(0,a.getProperty)(r)} !== undefined`;return s?(0,a._)`${i} && ${l(e,t,r)}`:i},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter(r=>!(0,s.alwaysValidSchema)(e,t[r]))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:o},it:l},c,u,d){let p=d?(0,a._)`${e}, ${t}, ${s}${n}`:t,m=[[i.default.instancePath,(0,a.strConcat)(i.default.instancePath,o)],[i.default.parentData,l.parentData],[i.default.parentDataProperty,l.parentDataProperty],[i.default.rootData,i.default.rootData]];l.opts.dynamicRef&&m.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);let f=(0,a._)`${p}, ${r.object(...m)}`;return u!==a.nil?(0,a._)`${c}.call(${u}, ${f})`:(0,a._)`${c}(${f})`};let d=(0,a._)`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},r){let s=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,s);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,a._)`${"new RegExp"===i.code?d:(0,n.useFunc)(e,i)}(${r}, ${s})`})},t.validateArray=function(e){let{gen:t,data:r,keyword:i,it:n}=e,o=t.name("valid");if(n.allErrors){let e=t.let("valid",!0);return l(()=>t.assign(e,!1)),e}return t.var(o,!0),l(()=>t.break()),o;function l(n){let l=t.const("len",(0,a._)`${r}.length`);t.forRange("i",0,l,r=>{e.subschema({keyword:i,dataProp:r,dataPropType:s.Type.Num},o),t.if((0,a.not)(o),n)})}},t.validateUnion=function(e){let{gen:t,schema:r,keyword:i,it:n}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(r.some(e=>(0,s.alwaysValidSchema)(n,e))&&!n.opts.unevaluated)return;let o=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((r,s)=>{let n=e.subschema({keyword:i,schemaProp:s,compositeRule:!0},l);t.assign(o,(0,a._)`${o} || ${l}`),e.mergeValidEvaluated(n,l)||t.if((0,a.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}},62878:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132);t.default={data:new a.Name("data"),valCxt:new a.Name("valCxt"),instancePath:new a.Name("instancePath"),parentData:new a.Name("parentData"),parentDataProperty:new a.Name("parentDataProperty"),rootData:new a.Name("rootData"),dynamicAnchors:new a.Name("dynamicAnchors"),vErrors:new a.Name("vErrors"),errors:new a.Name("errors"),this:new a.Name("this"),self:new a.Name("self"),scope:new a.Name("scope"),json:new a.Name("json"),jsonPos:new a.Name("jsonPos"),jsonLen:new a.Name("jsonLen"),jsonPart:new a.Name("jsonPart")}},63195:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(r||(t.DiscrError=r={}))},63405:e=>{"use strict";var t=e.exports=function(e,r,a){"function"==typeof r&&(a=r,r={});var s="function"==typeof(a=r.cb||a)?a:a.pre||function(){};!function e(r,a,s,i,n,o,l,c,u,d){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var p in a(i,n,o,l,c,u,d),i){var m=i[p];if(Array.isArray(m)){if(p in t.arrayKeywords)for(var f=0;f<m.length;f++)e(r,a,s,m[f],n+"/"+p+"/"+f,o,n,p,i,f)}else if(p in t.propsKeywords){if(m&&"object"==typeof m)for(var h in m)e(r,a,s,m[h],n+"/"+p+"/"+h.replace(/~/g,"~0").replace(/\//g,"~1"),o,n,p,i,h)}else(p in t.keywords||r.allKeys&&!(p in t.skipKeywords))&&e(r,a,s,m,n+"/"+p,o,n,p,i)}s(i,n,o,l,c,u,d)}}(r,s,a.post||function(){},e,"",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},63915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicRef=void 0;let a=r(29358),s=r(1008),i=r(74134);function n(e,t){let{gen:r,keyword:n,it:o}=e;if("#"!==t[0])throw Error(`"${n}" only supports hash fragment reference`);let l=t.slice(1);if(o.allErrors)c();else{let t=r.let("valid",!1);c(t),e.ok(t)}function c(e){if(o.schemaEnv.root.dynamicAnchors[l]){let t=r.let("_v",(0,a._)`${s.default.dynamicAnchors}${(0,a.getProperty)(l)}`);r.if(t,u(t,e),u(o.validateName,e))}else u(o.validateName,e)()}function u(t,a){return a?()=>r.block(()=>{(0,i.callRef)(e,t),r.let(a,!0)}):()=>(0,i.callRef)(e,t)}}t.dynamicRef=n,t.default={keyword:"$dynamicRef",schemaType:"string",code:e=>n(e,e.schema)}},65032:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createVovkApp=function(){let e=new s.VovkApp;function t(t){let r=function(r="",a){let s=n(r);return function(r,i){o({controller:r,propertyKey:i,path:s,options:a,httpMethod:t,vovkApp:e})}};return r.auto=r=>function(a,s){let i=e.routes[t].get(a)??{};e.routes[t].set(a,i),a._handlers={...a._handlers,[s]:{...(a._handlers??{})[s],httpMethod:t}};let n=Object.keys(a._handlers[s]?.validation?.params?.properties??{}),l=s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase().replace(/^-/,"");o({controller:a,propertyKey:s,path:n.length?`${l}/${n.map(e=>`:${e}`).join("/")}`:l,options:r,httpMethod:t,vovkApp:e})},r}return{get:t(i.HttpMethod.GET),post:t(i.HttpMethod.POST),put:t(i.HttpMethod.PUT),patch:t(i.HttpMethod.PATCH),del:t(i.HttpMethod.DELETE),head:t(i.HttpMethod.HEAD),options:t(i.HttpMethod.OPTIONS),prefix:(e="")=>{let t=n(e);return e=>(e._prefix=t,e)},initSegment:t=>{for(let[e,r]of(t.segmentName=n(t.segmentName??""),Object.entries(t.controllers??{})))r._rpcModuleName=e,r._onError=t?.onError;return{GET:e.GET,POST:e.POST,PUT:e.PUT,PATCH:e.PATCH,DELETE:e.DELETE,HEAD:e.HEAD,OPTIONS:e.OPTIONS}}}};let s=r(18264),i=r(72934);a(r(62386));let n=e=>e.trim().replace(/^\/|\/$/g,""),o=({controller:e,propertyKey:t,path:r,options:a,httpMethod:s,vovkApp:i})=>{if("undefined"!=typeof window)throw Error("HTTP decorators can be used on server-side only. You have probably imported a controller on the client-side.");if(!("function"==typeof e&&/class/.test(e.toString()))){let e=s.toLowerCase();throw"delete"===e&&(e="del"),Error(`Decorator must be used on a static class method. Check the controller method named "${t}" used with @${e}().`)}let n=i.routes[s].get(e)??{};if(i.routes[s].set(e,n),a?.cors){let t=i.routes.OPTIONS.get(e)??{};t[r]=()=>{},t[r]._options=a,i.routes.OPTIONS.set(e,t)}let o=e[t];o._controller=e,o._sourceMethod=o._sourceMethod??o;let l=o._sourceMethod._getSchema?.(e);o.schema=l,o.fn=o._sourceMethod?.fn,o.models=o._sourceMethod?.models,o._sourceMethod.wrapper=o,e._handlers={...e._handlers,[t]:{...l,...(e._handlers??{})[t],path:r,httpMethod:s}},n[r]=o,n[r]._options=a,e._handlersMetadata={...e._handlersMetadata,[t]:{...(e._handlersMetadata??{})[t],staticParams:a?.staticParams}}}},65060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openAPIToVovkSchema=t.vovkSchemaToOpenAPI=t.openapi=t.openapiDecorator=void 0;let a=r(58518);Object.defineProperty(t,"vovkSchemaToOpenAPI",{enumerable:!0,get:function(){return a.vovkSchemaToOpenAPI}});let s=r(97833);Object.defineProperty(t,"openAPIToVovkSchema",{enumerable:!0,get:function(){return s.openAPIToVovkSchema}});let i=r(65718);t.openapiDecorator=(0,r(20804).createDecorator)(null,(e={})=>t=>({...t,openapi:{...t?.openapi,...e}})),t.openapi=Object.assign(t.openapiDecorator,{error:i.error})},65590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132);t.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,a.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,a._)`{multipleOf: ${e}}`},code(e){let{gen:t,data:r,schemaCode:s,it:i}=e,n=i.opts.multipleOfPrecision,o=t.let("res"),l=n?(0,a._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${n}`:(0,a._)`${o} !== parseInt(${o})`;e.fail$data((0,a._)`(${s} === 0 || (${o} = ${r}/${s}, ${l}))`)}}},65718:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.error=void 0;let a=r(72934),s=r(20804),i={[a.HttpStatus.NULL]:"Error",[a.HttpStatus.CONTINUE]:"Continue",[a.HttpStatus.SWITCHING_PROTOCOLS]:"Switching Protocols",[a.HttpStatus.PROCESSING]:"Processing",[a.HttpStatus.EARLYHINTS]:"Early Hints",[a.HttpStatus.OK]:"OK",[a.HttpStatus.CREATED]:"Created",[a.HttpStatus.ACCEPTED]:"Accepted",[a.HttpStatus.NON_AUTHORITATIVE_INFORMATION]:"Non Authoritative Information",[a.HttpStatus.NO_CONTENT]:"No Content",[a.HttpStatus.RESET_CONTENT]:"Reset Content",[a.HttpStatus.PARTIAL_CONTENT]:"Partial Content",[a.HttpStatus.AMBIGUOUS]:"Ambiguous",[a.HttpStatus.MOVED_PERMANENTLY]:"Moved Permanently",[a.HttpStatus.FOUND]:"Found",[a.HttpStatus.SEE_OTHER]:"See Other",[a.HttpStatus.NOT_MODIFIED]:"Not Modified",[a.HttpStatus.TEMPORARY_REDIRECT]:"Temporary Redirect",[a.HttpStatus.PERMANENT_REDIRECT]:"Permanent Redirect",[a.HttpStatus.BAD_REQUEST]:"Bad Request",[a.HttpStatus.UNAUTHORIZED]:"Unauthorized",[a.HttpStatus.PAYMENT_REQUIRED]:"Payment Required",[a.HttpStatus.FORBIDDEN]:"Forbidden",[a.HttpStatus.NOT_FOUND]:"Not Found",[a.HttpStatus.METHOD_NOT_ALLOWED]:"Method Not Allowed",[a.HttpStatus.NOT_ACCEPTABLE]:"Not Acceptable",[a.HttpStatus.PROXY_AUTHENTICATION_REQUIRED]:"Proxy Authentication Required",[a.HttpStatus.REQUEST_TIMEOUT]:"Request Timeout",[a.HttpStatus.CONFLICT]:"Conflict",[a.HttpStatus.GONE]:"Gone",[a.HttpStatus.LENGTH_REQUIRED]:"Length Required",[a.HttpStatus.PRECONDITION_FAILED]:"Precondition Failed",[a.HttpStatus.PAYLOAD_TOO_LARGE]:"Payload Too Large",[a.HttpStatus.URI_TOO_LONG]:"URI Too Long",[a.HttpStatus.UNSUPPORTED_MEDIA_TYPE]:"Unsupported Media Type",[a.HttpStatus.REQUESTED_RANGE_NOT_SATISFIABLE]:"Requested Range Not Satisfiable",[a.HttpStatus.EXPECTATION_FAILED]:"Expectation Failed",[a.HttpStatus.I_AM_A_TEAPOT]:"I am a teapot",[a.HttpStatus.MISDIRECTED]:"Misdirected",[a.HttpStatus.UNPROCESSABLE_ENTITY]:"Unprocessable Entity",[a.HttpStatus.FAILED_DEPENDENCY]:"Failed Dependency",[a.HttpStatus.PRECONDITION_REQUIRED]:"Precondition Required",[a.HttpStatus.TOO_MANY_REQUESTS]:"Too Many Requests",[a.HttpStatus.INTERNAL_SERVER_ERROR]:"Internal Server Error",[a.HttpStatus.NOT_IMPLEMENTED]:"Not Implemented",[a.HttpStatus.BAD_GATEWAY]:"Bad Gateway",[a.HttpStatus.SERVICE_UNAVAILABLE]:"Service Unavailable",[a.HttpStatus.GATEWAY_TIMEOUT]:"Gateway Timeout",[a.HttpStatus.HTTP_VERSION_NOT_SUPPORTED]:"HTTP Version Not Supported"};t.error=(0,s.createDecorator)(null,(e,t)=>r=>({...r,openapi:{...r?.openapi,responses:{...r?.openapi?.responses,[e]:{description:`${e} ${i[e]}`,content:{"application/json":{schema:{allOf:[{$ref:"#/components/schemas/VovkErrorResponse"},{type:"object",properties:{message:{type:"string",enum:[t,...r?.openapi?.responses?.[e]?.content?.["application/json"]?.schema?.allOf?.[1]?.properties?.message?.enum??[]]},statusCode:{type:"integer",enum:[e]}}}]}}}}}}}))},66605:(e,t)=>{"use strict";async function r({handler:e,body:t,query:r,params:a,init:s,meta:i},n){if(e.isRPC)return e({handler:e,body:t,query:r,params:a,init:s,meta:i});if(e.fn)return e.fn({body:t,query:r,params:a,meta:i});throw Error("Handler is not a valid RPC or controller method")}Object.defineProperty(t,"__esModule",{value:!0}),t.createLLMTools=function({modules:e,caller:t=r,meta:a,onExecute:s=e=>e,onError:i=()=>{}}){return{tools:Object.entries(e??{}).map(([e,r])=>{let n,o;return Array.isArray(r)?[o,{init:n}]=r:o=r,Object.entries(o??{}).filter(([,e])=>e?.schema?.openapi&&!e?.schema?.openapi?.["x-tool-exclude"]).map(([r])=>(({moduleName:e,handlerName:t,caller:r,module:a,init:s,meta:i,onExecute:n,onError:o})=>{if(!a)throw Error(`Module "${e}" not found.`);let l=a[t];if(!l)throw Error(`Handler "${t}" not found in module "${e}".`);let{schema:c,models:u}=l;if(!c||!c.openapi)throw Error(`Handler "${t}" in module "${e}" does not have a valid schema.`);let d={...c?.validation?.body?{body:c.validation.body}:{},...c?.validation?.query?{query:c.validation.query}:{},...c?.validation?.params?{params:c.validation.params}:{}};return{type:"function",execute:(a,d)=>{let{body:p,query:m,params:f}=a,h={schema:c,models:u,handler:l,body:p,query:m,params:f,init:s,meta:i,handlerName:t,moduleName:e};return r(h,d).then(e=>n(e,h,d)??e).catch(e=>o?.(e,h,d)??e)},name:`${e}_${t}`,description:c.openapi?.["x-tool-description"]??([c.openapi?.summary??"",c.openapi?.description??""].filter(Boolean).join("\n")||t),parameters:{type:"object",properties:d,required:Object.keys(d),additionalProperties:!1},models:u}})({moduleName:e,handlerName:r,caller:t,module:o,init:n,meta:a,onExecute:s,onError:i}))}).flat()}}},66726:(e,t)=>{"use strict";function r(e){let t,r=e.length,a=0,s=0;for(;s<r;)a++,(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<r&&(64512&(t=e.charCodeAt(s)))==56320&&s++;return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},66895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(94412),s=r(74134);t.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",a.default,s.default]},67594:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358);t.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,a.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,a._)`{format: ${e}}`},code(e,t){let{gen:r,data:s,$data:i,schema:n,schemaCode:o,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:p}=l;c.validateFormats&&(i?function(){let i=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),n=r.const("fDef",(0,a._)`${i}[${o}]`),l=r.let("fType"),u=r.let("format");r.if((0,a._)`typeof ${n} == "object" && !(${n} instanceof RegExp)`,()=>r.assign(l,(0,a._)`${n}.type || "string"`).assign(u,(0,a._)`${n}.validate`),()=>r.assign(l,(0,a._)`"string"`).assign(u,n)),e.fail$data((0,a.or)(!1===c.strictSchema?a.nil:(0,a._)`${o} && !${u}`,function(){let e=d.$async?(0,a._)`(${n}.async ? await ${u}(${s}) : ${u}(${s}))`:(0,a._)`${u}(${s})`,r=(0,a._)`(typeof ${u} == "function" ? ${e} : ${u}.test(${s}))`;return(0,a._)`${u} && ${u} !== true && ${l} === ${t} && !${r}`}()))}():function(){let i=p.formats[n];if(!i){if(!1===c.strictSchema)return p.logger.warn(o());throw Error(o());function o(){return`unknown format "${n}" ignored in schema at path "${u}"`}}if(!0===i)return;let[l,m,f]=function(e){let t=e instanceof RegExp?(0,a.regexpCode)(e):c.code.formats?(0,a._)`${c.code.formats}${(0,a.getProperty)(n)}`:void 0,s=r.scopeValue("formats",{key:n,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,s]:[e.type||"string",e.validate,(0,a._)`${s}.validate`]}(i);l===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!d.$async)throw Error("async format in sync schema");return(0,a._)`await ${f}(${s})`}return"function"==typeof m?(0,a._)`${f}(${s})`:(0,a._)`${f}.test(${s})`}())}())}}},69032:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multitenant=function(e){let{requestUrl:t,requestHost:a,targetHost:s,overrides:i}=e,n=new URL(t),o=n.pathname.slice(1);if(o.endsWith("_schema_"))return{action:null,destination:null,message:"Schema endpoint, bypassing overrides",subdomains:null};let l=o.split("/").filter(Boolean),c=Object.keys(i).filter(e=>!e.includes("[")&&!e.includes("]"));for(let e=0;e<l.length;e++){let t=l[e];if(c.includes(t)){let r=`${t}.${s}`,a=[...l.slice(0,e),...l.slice(e+1)].join("/"),i=new URL(`${n.protocol}//${r}`);return a&&(i.pathname=`/${a}`),i.search=n.search,{action:"redirect",destination:i.toString(),message:`Redirecting to ${t} subdomain`,subdomains:null}}}for(let e in i){let{regex:t,paramNames:l}=r(`${e}.${s}`),c=a.match(t);if(c){let t=i[e],r={};if(c.length>1)for(let e=0;e<l.length;e++)r[l[e]]=c[e+1];for(let e of t)if(o===e.from||o.startsWith(`${e.from}/`)){let t=o.replace(e.from,e.to);Object.keys(r).length>0&&Object.entries(r).forEach(([e,r])=>{t=t.replace(`[${e}]`,r)});let a=l.length>0?r:null;return{action:"rewrite",destination:`${n.protocol}//${n.host}/${t}${n.search}`,message:`Rewriting to ${t}`,subdomains:a}}}}if(l.length>0&&c.includes(l[0])){let e=l[0],t=l.slice(1).join("/"),r=`${e}.${s}`,a=new URL(`${n.protocol}//${r}`);return t&&(a.pathname=`/${t}`),a.search=n.search,{action:"redirect",destination:a.toString(),message:`Redirecting to ${e} subdomain`,subdomains:null}}return{action:null,destination:null,message:"No action",subdomains:null}};let r=e=>{let t=[],r=e.replace(/\[([^\]]+)\]/g,(e,r)=>(t.push(r),"([^.]+)")).replace(/\./g,"\\.");return{regex:RegExp(`^${r}$`),paramNames:t}}},69083:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[r(67594).default]},69118:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;let a=r(36132),s=r(35154);t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:o,topSchemaRef:l}){if(void 0!==t&&void 0!==i)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){let i=e.schema[t];return void 0===r?{schema:i,schemaPath:(0,a._)`${e.schemaPath}${(0,a.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,a._)`${e.schemaPath}${(0,a.getProperty)(t)}${(0,a.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,s.escapeFragment)(r)}`}}if(void 0!==i){if(void 0===n||void 0===o||void 0===l)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:l,errSchemaPath:o}}throw Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:i,data:n,dataTypes:o,propertyName:l}){if(void 0!==n&&void 0!==r)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=t;if(void 0!==r){let{errorPath:n,dataPathArr:o,opts:l}=t;u(c.let("data",(0,a._)`${t.data}${(0,a.getProperty)(r)}`,!0)),e.errorPath=(0,a.str)`${n}${(0,s.getErrorPath)(r,i,l.jsPropertySyntax)}`,e.parentDataProperty=(0,a._)`${r}`,e.dataPathArr=[...o,e.parentDataProperty]}function u(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==n&&(u(n instanceof a.Name?n:c.let("data",n,!0)),void 0!==l&&(e.propertyName=l)),o&&(e.dataTypes=o)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:a,createErrors:s,allErrors:i}){void 0!==a&&(e.compositeRule=a),void 0!==s&&(e.createErrors=s),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}},69904:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t={};if(!e)return t;for(let r of e.replace(/^\?/,"").split("&")){let[e,a=""]=r.split("="),s=decodeURIComponent(e),i=decodeURIComponent(a);!function(e,t,r){let a=e;for(let e=0;e<t.length;e++){let s=t[e];if(e===t.length-1)if(""===s)Array.isArray(a)||(a=[]),a.push(r);else if(isNaN(Number(s)))a[s]=r;else{let e=Number(s);Array.isArray(a)||(a=[]),a[e]=r}else{let r=t[e+1];if(""===s)Array.isArray(a)||(a=[]),0===a.length?a.push("string"!=typeof r||isNaN(Number(r))?{}:[]):"string"!=typeof r||isNaN(Number(r))?"object"!=typeof a[a.length-1]&&(a[a.length-1]={}):Array.isArray(a[a.length-1])||(a[a.length-1]=[]),a=a[a.length-1];else if(isNaN(Number(s)))void 0===a[s]&&(a[s]="string"!=typeof r||isNaN(Number(r))?{}:[]),a=a[s];else{let e=Number(s);Array.isArray(a)||(a=[]),void 0===a[e]&&(a[e]="string"!=typeof r||isNaN(Number(r))?{}:[]),a=a[e]}}}}(t,function(e){let t,r=[],a=e.match(/^([^[\]]+)/);a?r.push(a[1]):r.push("");let s=/\[([^[\]]*)\]/g;for(;null!==(t=s.exec(e));)r.push(t[1]);return r}(s),i)}return t}},70364:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHandler=t.DEFAULT_ERROR_MESSAGE=void 0;let a=r(77346);t.DEFAULT_ERROR_MESSAGE="Unknown error at defaultHandler";let s=async({response:e,schema:r})=>{let s;try{s=await e.json()}catch(r){throw new a.HttpException(e.status,r?.message??t.DEFAULT_ERROR_MESSAGE)}if(!e.ok){let i=r.openapi&&"x-errorMessageKey"in r.openapi?r.openapi["x-errorMessageKey"]:"message",n=s;throw new a.HttpException(e.status,i.split(".").reduce((e,t)=>e&&"object"==typeof e?e[t]:void 0,n)??t.DEFAULT_ERROR_MESSAGE,n?.cause??JSON.stringify(s))}return s};t.defaultHandler=s},71117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},71300:()=>{},71377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(73182),s=r(78601),i=r(33021),n=r(45181),o=r(758),l=r(34398),c=r(27846),u=r(44747),d=r(37474),p=r(43598),m=r(56060),f=r(2494),h=r(40068),y=r(23239),v=r(94176),b=r(43577);t.default=function(e=!1){let t=[m.default,f.default,h.default,y.default,v.default,b.default,c.default,u.default,l.default,d.default,p.default];return e?t.push(s.default,n.default):t.push(a.default,i.default),t.push(o.default),t}},72342:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multitenant=function(e){let{requestUrl:t,requestHost:a,targetHost:s,overrides:i}=e,n=new URL(t),o=n.pathname.slice(1);if(o.endsWith("_schema_"))return{action:null,destination:null,message:"Schema endpoint, bypassing overrides",subdomains:null};let l=o.split("/").filter(Boolean),c=Object.keys(i).filter(e=>!e.includes("[")&&!e.includes("]"));for(let e=0;e<l.length;e++){let t=l[e];if(c.includes(t)){let r=`${t}.${s}`,a=[...l.slice(0,e),...l.slice(e+1)].join("/"),i=new URL(`${n.protocol}//${r}`);return a&&(i.pathname=`/${a}`),i.search=n.search,{action:"redirect",destination:i.toString(),message:`Redirecting to ${t} subdomain`,subdomains:null}}}for(let e in i){let{regex:t,paramNames:l}=r(`${e}.${s}`),c=a.match(t);if(c){let t=i[e],r={};if(c.length>1)for(let e=0;e<l.length;e++)r[l[e]]=c[e+1];for(let e of t)if(o===e.from||o.startsWith(`${e.from}/`)){let t=o.replace(e.from,e.to);Object.keys(r).length>0&&Object.entries(r).forEach(([e,r])=>{t=t.replace(`[${e}]`,r)});let a=l.length>0?r:null;return{action:"rewrite",destination:`${n.protocol}//${n.host}/${t}${n.search}`,message:`Rewriting to ${t}`,subdomains:a}}}}if(l.length>0&&c.includes(l[0])){let e=l[0],t=l.slice(1).join("/"),r=`${e}.${s}`,a=new URL(`${n.protocol}//${r}`);return t&&(a.pathname=`/${t}`),a.search=n.search,{action:"redirect",destination:a.toString(),message:`Redirecting to ${e} subdomain`,subdomains:null}}return{action:null,destination:null,message:"No action",subdomains:null}};let r=e=>{let t=[],r=e.replace(/\[([^\]]+)\]/g,(e,r)=>(t.push(r),"([^.]+)")).replace(/\./g,"\\.");return{regex:RegExp(`^${r}$`),paramNames:t}}},72412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(95316),s=r(36132),i=r(35154),n=r(35154);t.default={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:o,parentSchema:l,it:c}=e,{opts:u}=c,d=(0,a.allSchemaProperties)(r),p=d.filter(e=>(0,i.alwaysValidSchema)(c,r[e]));if(0===d.length||p.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;let m=u.strictSchema&&!u.allowMatchingProperties&&l.properties,f=t.name("valid");!0===c.props||c.props instanceof s.Name||(c.props=(0,n.evaluatedPropsToName)(t,c.props));let{props:h}=c;for(let e of d)m&&function(e){for(let t in m)new RegExp(e).test(t)&&(0,i.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}(e),c.allErrors?y(e):(t.var(f,!0),y(e),t.if(f));function y(r){t.forIn("key",o,i=>{t.if((0,s._)`${(0,a.usePattern)(e,r)}.test(${i})`,()=>{let a=p.includes(r);a||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:n.Type.Str},f),c.opts.unevaluated&&!0!==h?t.assign((0,s._)`${h}[${i}]`,!0):a||c.allErrors||t.if((0,s.not)(f),()=>t.break())})})}}}},72934:(e,t)=>{"use strict";var r,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.VovkSchemaIdEnum=t.HttpStatus=t.HttpMethod=void 0,function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e.HEAD="HEAD",e.OPTIONS="OPTIONS"}(r||(t.HttpMethod=r={})),function(e){e[e.NULL=0]="NULL",e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.EARLYHINTS=103]="EARLYHINTS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.AMBIGUOUS=300]="AMBIGUOUS",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",e[e.MISDIRECTED=421]="MISDIRECTED",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(a||(t.HttpStatus=a={})),function(e){e.META="https://vovk.dev/api/spec/v3/meta.json",e.CONFIG="https://vovk.dev/api/spec/v3/config.json",e.SEGMENT="https://vovk.dev/api/spec/v3/segment.json",e.SCHEMA="https://vovk.dev/api/spec/v3/schema.json"}(s||(t.VovkSchemaIdEnum=s={}))},72975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;let a=r(36132),s=r(35154);function i(e,t,r){let{gen:i,compositeRule:n,data:o,opts:l}=e;if(void 0===r)return;let c=(0,a._)`${o}${(0,a.getProperty)(t)}`;if(n)return void(0,s.checkStrictMode)(e,`default is ignored for: ${c}`);let u=(0,a._)`${c} === undefined`;"empty"===l.useDefaults&&(u=(0,a._)`${u} || ${c} === null || ${c} === ""`),i.if(u,(0,a._)`${c} = ${(0,a.stringify)(r)}`)}t.assignDefaults=function(e,t){let{properties:r,items:a}=e.schema;if("object"===t&&r)for(let t in r)i(e,t,r[t].default);else"array"===t&&Array.isArray(a)&&a.forEach((t,r)=>i(e,r,t.default))}},73182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;let a=r(29358),s=r(46584);function i(e,t){let{gen:r,schema:i,data:n,keyword:o,it:l}=e;l.items=!0;let c=r.const("len",(0,a._)`${n}.length`);if(!1===i)e.setParams({len:t.length}),e.pass((0,a._)`${c} <= ${t.length}`);else if("object"==typeof i&&!(0,s.alwaysValidSchema)(l,i)){let i=r.var("valid",(0,a._)`${c} <= ${t.length}`);r.if((0,a.not)(i),()=>{var n;return n=i,void r.forRange("i",t.length,c,t=>{e.subschema({keyword:o,dataProp:t,dataPropType:s.Type.Num},n),l.allErrors||r.if((0,a.not)(n),()=>r.break())})}),e.ok(i)}}t.validateAdditionalItems=i,t.default={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){let{parentSchema:t,it:r}=e,{items:a}=t;if(!Array.isArray(a))return void(0,s.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');i(e,a)}}},73852:(e,t)=>{"use strict";async function r(e,t){e._getSchema=r=>{if(!r)throw Error("Error setting client validators. Controller not found. Did you forget to use an HTTP decorator?");if(!Object.getOwnPropertyNames(r).find(t=>r[t]._sourceMethod===e))throw Error("Error setting client validators. Handler not found.");return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.setHandlerSchema=r},74062:(e,t)=>{"use strict";function r(e,t){return t.rules.some(t=>a(e,t))}function a(e,t){var r;return void 0!==e[t.keyword]||(null==(r=t.definition.implements)?void 0:r.some(t=>void 0!==e[t]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},a){let s=t.RULES.types[a];return s&&!0!==s&&r(e,s)},t.shouldUseGroup=r,t.shouldUseRule=a},74134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;let a=r(61476),s=r(62798),i=r(29358),n=r(1008),o=r(44872),l=r(46584);function c(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,i._)`${r.scopeValue("wrapper",{ref:t})}.validate`}function u(e,t,r,a){let{gen:o,it:c}=e,{allErrors:u,schemaEnv:d,opts:p}=c,m=p.passContext?n.default.this:i.nil;function f(e){let t=(0,i._)`${e}.errors`;o.assign(n.default.vErrors,(0,i._)`${n.default.vErrors} === null ? ${t} : ${n.default.vErrors}.concat(${t})`),o.assign(n.default.errors,(0,i._)`${n.default.vErrors}.length`)}function h(e){var t;if(!c.opts.unevaluated)return;let a=null==(t=null==r?void 0:r.validate)?void 0:t.evaluated;if(!0!==c.props)if(a&&!a.dynamicProps)void 0!==a.props&&(c.props=l.mergeEvaluated.props(o,a.props,c.props));else{let t=o.var("props",(0,i._)`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(o,t,c.props,i.Name)}if(!0!==c.items)if(a&&!a.dynamicItems)void 0!==a.items&&(c.items=l.mergeEvaluated.items(o,a.items,c.items));else{let t=o.var("items",(0,i._)`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(o,t,c.items,i.Name)}}a?function(){if(!d.$async)throw Error("async schema referenced by sync schema");let r=o.let("valid");o.try(()=>{o.code((0,i._)`await ${(0,s.callValidateCode)(e,t,m)}`),h(t),u||o.assign(r,!0)},e=>{o.if((0,i._)`!(${e} instanceof ${c.ValidationError})`,()=>o.throw(e)),f(e),u||o.assign(r,!1)}),e.ok(r)}():e.result((0,s.callValidateCode)(e,t,m),()=>h(t),()=>f(t))}t.getValidate=c,t.callRef=u,t.default={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:s}=e,{baseId:n,schemaEnv:l,validateName:d,opts:p,self:m}=s,{root:f}=l;if(("#"===r||"#/"===r)&&n===f.baseId){if(l===f)return u(e,d,l,l.$async);let r=t.scopeValue("root",{ref:f});return u(e,(0,i._)`${r}.validate`,f,f.$async)}let h=o.resolveRef.call(m,f,n,r);if(void 0===h)throw new a.default(s.opts.uriResolver,n,r);return h instanceof o.SchemaEnv?function(t){let r=c(e,t);u(e,r,t,t.$async)}(h):function(a){let s=t.scopeValue("schema",!0===p.code.source?{ref:a,code:(0,i.stringify)(a)}:{ref:a}),n=t.name("valid"),o=e.subschema({schema:a,dataTypes:[],schemaPath:i.nil,topSchemaRef:s,errSchemaPath:r},n);e.mergeEvaluated(o),e.ok(n)}(h)}}},74268:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358);t.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>(0,a.str)`must NOT have ${"maxItems"===e?"more":"fewer"} than ${t} items`,params:({schemaCode:e})=>(0,a._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:s}=e,i="maxItems"===t?a.operators.GT:a.operators.LT;e.fail$data((0,a._)`${r}.length ${i} ${s}`)}}},75539:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;let a=r(86059),s=r(32889),i=r(99204),n=r(5754),o=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends a.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(n,o):n;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=r(90379);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=r(36132);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var p=r(83919);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=r(27134);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})},75709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStandardValidation=function({toJSONSchema:e}){return function({isForm:t,body:r,query:n,params:o,output:l,iteration:c,handle:u,disableServerSideValidation:d,skipSchemaEmission:p,validateEachIteration:m}){return(0,s.withValidationLibrary)({isForm:t,body:r,query:n,params:o,output:l,iteration:c,disableServerSideValidation:d,skipSchemaEmission:p,validateEachIteration:m,handle:u,toJSONSchema:e,validate:async(e,t,{type:r,i:s})=>{let n=await t["~standard"].validate(e);if(n.issues?.length)throw new i.HttpException(a.HttpStatus.BAD_REQUEST,`Validation failed. Invalid ${"iteration"===r?`${r} #${s}`:r} on server: ${n.issues.map(({message:e,path:t})=>`${e}${t?` at ${t.join(".")}`:""}`).join(", ")}`,{[r]:e,result:n});return n.value}})}};let a=r(72934),s=r(10759),i=r(77346)},75764:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":e="n\xe3o s\xe3o permitidos itens adicionais (mais do que "+t+")";break;case"additionalProperties":e="n\xe3o s\xe3o permitidas propriedades adicionais";break;case"anyOf":e='os dados n\xe3o correspondem a nenhum schema de "anyOf"';break;case"const":e="deve ser igual \xe0 constante";break;case"contains":e="deve conter um item v\xe1lido";break;case"dependencies":case"dependentRequired":e="";var t=a.params.depsCount;e+=" deve ter propriedade",1!=t&&(e+="s"),e+=" "+a.params.deps+" quando a propriedade "+a.params.property+" estiver presente";break;case"discriminator":switch(a.params.error){case"tag":e='a tag "'+a.params.tag+'" deve ser uma string';break;case"mapping":e='o valor da tag "'+a.params.tag+'" deve estar no oneOf';break;default:e='deve passar a valida\xe7\xe3o da keyword "'+a.keyword+'"'}break;case"enum":e="deve ser igual a um dos valores permitidos";break;case"false schema":e='o schema booleano \xe9 "false"';break;case"format":e='deve corresponder ao formato "'+a.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="deve ser "+(a.params.comparison+" ")+a.params.limit;break;case"if":e='deve corresponder ao schema "'+a.params.failingKeyword+'"';break;case"maxItems":e="";var t=a.params.limit;e+="n\xe3o deve ter mais que "+t+" elemento",1!=t&&(e+="s");break;case"maxLength":e="";var t=a.params.limit;e+="n\xe3o deve ser maior que "+t+" caracter",1!=t&&(e+="es");break;case"maxProperties":e="";var t=a.params.limit;e+="n\xe3o deve ter mais que "+t+" propriedade",1!=t&&(e+="s");break;case"minItems":e="";var t=a.params.limit;e+="n\xe3o deve ter menos que "+t+" elemento",1!=t&&(e+="s");break;case"minLength":e="";var t=a.params.limit;e+="n\xe3o deve ser mais curta que "+t+" caracter",1!=t&&(e+="es");break;case"minProperties":e="";var t=a.params.limit;e+="n\xe3o deve ter menos que "+t+" propriedade",1!=t&&(e+="s");break;case"multipleOf":e="deve ser m\xfaltiplo de "+a.params.multipleOf;break;case"not":e='n\xe3o deve ser valido segundo o schema em "not"';break;case"oneOf":e='deve corresponder exatamente com um schema em "oneOf"';break;case"pattern":e='deve corresponder ao padr\xe3o "'+a.params.pattern+'"';break;case"patternRequired":e='deve ter a propriedade correspondente ao padr\xe3o "'+a.params.missingPattern+'"';break;case"propertyNames":e="o nome da propriedade \xe9 inv\xe1lido";break;case"required":e="deve ter a propriedade obrigat\xf3ria "+a.params.missingProperty;break;case"type":e="";var r=a.params.type;e+="deve ser ","number"==r?e+="um n\xfamero":"integer"==r?e+="um n\xfamero inteiro":"string"==r?e+="um texto":"boolean"==r?e+="um booleano":e+=r;break;case"unevaluatedItems":e="";var t=a.params.len;e+="n\xe3o pode possuir mais que "+t+" ",1==t?e+="item":e+="itens";break;case"unevaluatedProperties":e="n\xe3o pode possuir propridades n\xe3o avaliadas";break;case"uniqueItems":e="n\xe3o deve ter itens duplicados (os itens ## "+a.params.j+" e "+a.params.i+" s\xe3o id\xeanticos)";break;default:e='deve passar a valida\xe7\xe3o da keyword "'+a.keyword+'"'}a.message=e}}},75836:(e,t)=>{"use strict";function r(e,t){return t.rules.some(t=>a(e,t))}function a(e,t){var r;return void 0!==e[t.keyword]||(null==(r=t.definition.implements)?void 0:r.some(t=>void 0!==e[t]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},a){let s=t.RULES.types[a];return s&&!0!==s&&r(e,s)},t.shouldUseGroup=r,t.shouldUseRule=a},77346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpException=void 0;class r extends Error{statusCode;message;cause;constructor(e,t,r){super(t),this.statusCode=e,this.message=t,this.cause=r}}t.HttpException=r},77614:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createVovkApp=function(){let e=new s.VovkApp;function t(t){let r=function(r="",a){let s=n(r);return function(r,i){o({controller:r,propertyKey:i,path:s,options:a,httpMethod:t,vovkApp:e})}};return r.auto=r=>function(a,s){let i=e.routes[t].get(a)??{};e.routes[t].set(a,i),a._handlers={...a._handlers,[s]:{...(a._handlers??{})[s],httpMethod:t}};let n=Object.keys(a._handlers[s]?.validation?.params?.properties??{}),l=s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase().replace(/^-/,"");o({controller:a,propertyKey:s,path:n.length?`${l}/${n.map(e=>`:${e}`).join("/")}`:l,options:r,httpMethod:t,vovkApp:e})},r}return{get:t(i.HttpMethod.GET),post:t(i.HttpMethod.POST),put:t(i.HttpMethod.PUT),patch:t(i.HttpMethod.PATCH),del:t(i.HttpMethod.DELETE),head:t(i.HttpMethod.HEAD),options:t(i.HttpMethod.OPTIONS),prefix:(e="")=>{let t=n(e);return e=>(e._prefix=t,e)},initSegment:t=>{for(let[e,r]of(t.segmentName=n(t.segmentName??""),Object.entries(t.controllers??{})))r._rpcModuleName=e,r._onError=t?.onError;return{GET:e.GET,POST:e.POST,PUT:e.PUT,PATCH:e.PATCH,DELETE:e.DELETE,HEAD:e.HEAD,OPTIONS:e.OPTIONS}}}};let s=r(98110),i=r(12784);a(r(14932));let n=e=>e.trim().replace(/^\/|\/$/g,""),o=({controller:e,propertyKey:t,path:r,options:a,httpMethod:s,vovkApp:i})=>{if("undefined"!=typeof window)throw Error("HTTP decorators can be used on server-side only. You have probably imported a controller on the client-side.");if(!("function"==typeof e&&/class/.test(e.toString()))){let e=s.toLowerCase();throw"delete"===e&&(e="del"),Error(`Decorator must be used on a static class method. Check the controller method named "${t}" used with @${e}().`)}let n=i.routes[s].get(e)??{};if(i.routes[s].set(e,n),a?.cors){let t=i.routes.OPTIONS.get(e)??{};t[r]=()=>{},t[r]._options=a,i.routes.OPTIONS.set(e,t)}let o=e[t];o._controller=e,o._sourceMethod=o._sourceMethod??o;let l=o._sourceMethod._getSchema?.(e);o.schema=l,o.fn=o._sourceMethod?.fn,o.models=o._sourceMethod?.models,o._sourceMethod.wrapper=o,e._handlers={...e._handlers,[t]:{...l,...(e._handlers??{})[t],path:r,httpMethod:s}},n[r]=o,n[r]._options=a,e._handlersMetadata={...e._handlersMetadata,[t]:{...(e._handlersMetadata??{})[t],staticParams:a?.staticParams}}}},78332:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;let s=r(47257);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(a||(t.UsedValueState=a={})),t.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class n{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof s.Name?e:this.name(e)}name(e){return new s.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if((null==(r=null==(t=this._parent)?void 0:t._prefixes)?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=n;class o extends s.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=(0,s._)`.${new s.Name(t)}[${r}]`}}t.ValueScopeName=o;let l=(0,s._)`\n`;class c extends n{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:s.nil}}get(){return this._scope}name(e){return new o(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw Error("CodeGen: ref must be passed in value");let a=this.toName(e),{prefix:s}=a,i=null!=(r=t.key)?r:t.ref,n=this._values[s];if(n){let e=n.get(i);if(e)return e}else n=this._values[s]=new Map;n.set(i,a);let o=this._scope[s]||(this._scope[s]=[]),l=o.length;return o[l]=t.ref,a.setValue(t,{property:s,itemIndex:l}),a}getValue(e,t){let r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw Error(`CodeGen: name "${t}" has no value`);return(0,s._)`${e}${t.scopePath}`})}scopeCode(e=this._values,t,r){return this._reduceValues(e,e=>{if(void 0===e.value)throw Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,r)}_reduceValues(e,r,n={},o){let l=s.nil;for(let c in e){let u=e[c];if(!u)continue;let d=n[c]=n[c]||new Map;u.forEach(e=>{if(d.has(e))return;d.set(e,a.Started);let n=r(e);if(n){let r=this.opts.es5?t.varKinds.var:t.varKinds.const;l=(0,s._)`${l}${r} ${e} = ${n};${this.opts._n}`}else if(n=null==o?void 0:o(e))l=(0,s._)`${l}${n}${this.opts._n}`;else throw new i(e);d.set(e,a.Completed)})}return l}}t.ValueScope=c},78601:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(33021);t.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,a.validateTuple)(e,"items")}},79144:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+="darf nicht mehr als "+t+" Element",1!=t&&(e+="e"),e+=" enthalten";break;case"additionalProperties":e="darf keine zus\xe4tzlichen Attribute haben";break;case"anyOf":e='muss einem der Schemata in "anyOf" entsprechen';break;case"const":e="muss gleich der Konstanten sein";break;case"contains":e="muss ein valides Element enthalten";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="muss Attribut",1!=t&&(e+="e"),e+=" "+r.params.deps+" aufweisen, wenn Attribut "+r.params.property+" gesetzt ist";break;case"discriminator":switch(r.params.error){case"tag":e='der Tag "'+r.params.tag+'" muss eine Zeichenkette sein';break;case"mapping":e='der Wert vom Tag "'+r.params.tag+'" muss im oneOf enthalten sein';break;default:e='muss die Validierung "'+r.keyword+'" bestehen'}break;case"enum":e="muss einem der vorgegebenen Werte entsprechen";break;case"false schema":e="boolesches Schema ist falsch";break;case"format":e='muss diesem Format entsprechen: "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="muss "+(r.params.comparison+" ")+r.params.limit+" sein";break;case"if":e='muss dem Schema "'+r.params.failingKeyword+'" entsprechen';break;case"maxItems":e="";var t=r.params.limit;e+="darf nicht mehr als "+t+" Element",1!=t&&(e+="e"),e+=" haben";break;case"maxLength":e="";var t=r.params.limit;e+="darf nicht l\xe4nger als "+t+" Zeichen sein";break;case"maxProperties":e="";var t=r.params.limit;e+="darf nicht mehr als "+t+" Attribut",1!=t&&(e+="e"),e+=" haben";break;case"minItems":e="";var t=r.params.limit;e+="darf nicht weniger als "+t+" Element",1!=t&&(e+="e"),e+=" haben";break;case"minLength":e="";var t=r.params.limit;e+="darf nicht k\xfcrzer als "+t+" Zeichen sein";break;case"minProperties":e="";var t=r.params.limit;e+="darf nicht weniger als "+t+" Attribut",1!=t&&(e+="e"),e+=" haben";break;case"multipleOf":e="muss ein Vielfaches von "+r.params.multipleOf+" sein";break;case"not":e='muss dem in "not" angegebenen Schema widersprechen';break;case"oneOf":e='muss genau einem der Schemata in "oneOf" entsprechen';break;case"pattern":e='muss diesem Muster entsprechen: "'+r.params.pattern+'"';break;case"patternRequired":e='muss ein Attribut nach folgendem Muster haben "'+r.params.missingPattern+'"';break;case"propertyNames":e="Attributname ist ung\xfcltig";break;case"required":e="muss das erforderliche Attribut "+r.params.missingProperty+" enthalten";break;case"type":e="muss sein: "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="darf nicht mehr als "+t+" Element",1!=t&&(e+="e"),e+=" haben";break;case"unevaluatedProperties":e="darf keine unausgewerteten Attribute haben";break;case"uniqueItems":e="darf keine Duplikate enthalten (Elemente #"+r.params.j+" und #"+r.params.i+" sind gleich)";break;default:e='muss die Validierung "'+r.keyword+'" bestehen'}r.message=e}}},79473:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e.nextUrl.search)};let s=a(r(69904))},79969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;let a=r(3769),s=r(37879),i=r(30546),n=r(9444),o=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends a.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(n,o):n;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=r(16037);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=r(29358);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var p=r(71117);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=r(61476);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})},80031:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicAnchor=void 0;let a=r(29358),s=r(1008),i=r(44872),n=r(74134);function o(e,t){let{gen:r,it:o}=e;o.schemaEnv.root.dynamicAnchors[t]=!0;let l=(0,a._)`${s.default.dynamicAnchors}${(0,a.getProperty)(t)}`,c="#"===o.errSchemaPath?o.validateName:function(e){let{schemaEnv:t,schema:r,self:a}=e.it,{root:s,baseId:o,localRefs:l,meta:c}=t.root,{schemaId:u}=a.opts,d=new i.SchemaEnv({schema:r,schemaId:u,root:s,baseId:o,localRefs:l,meta:c});return i.compileSchema.call(a,d),(0,n.getValidate)(e,d)}(e);r.if((0,a._)`!${l}`,()=>r.assign(l,c))}t.dynamicAnchor=o,t.default={keyword:"$dynamicAnchor",schemaType:"string",code:e=>o(e,e.schema)}},80062:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},80199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONLinesResponse=void 0,r(80592);class a extends Response{isClosed=!1;controller;encoder;readableStream;iteratorQueue=[];iteratorResolvers=[];constructor(e,t){let r,a=new TextEncoder,s=new ReadableStream({cancel:()=>{this.isClosed=!0},start:e=>{r=e}});super(s,{...t,headers:{"content-type":!e||e?.headers?.get("accept")?.includes("application/jsonl")?"application/jsonl; charset=utf-8":"text/plain; charset=utf-8",...t?.headers}}),this.readableStream=e?s:null,this.encoder=e?a:null,this.controller=e?r:null,e?.signal?.addEventListener("abort",this.close,{once:!0})}send=e=>{let{controller:t,encoder:r}=this;this.isClosed||(t?.enqueue(r?.encode(JSON.stringify(e)+"\n")),this.iteratorResolvers.length>0?this.iteratorResolvers.shift()({value:e,done:!1}):this.iteratorQueue.push(e))};close=()=>{let{controller:e}=this;if(!this.isClosed)for(this.isClosed=!0,e?.close();this.iteratorResolvers.length>0;)this.iteratorResolvers.shift()({done:!0,value:void 0})};throw=e=>(this.send({isError:!0,reason:e instanceof Error?e.message:e}),this.close());[Symbol.dispose]=()=>this.close();[Symbol.asyncDispose]=()=>this.close();[Symbol.asyncIterator]=()=>({next:async()=>this.iteratorQueue.length>0?{value:this.iteratorQueue.shift(),done:!1}:this.isClosed?{done:!0,value:void 0}:new Promise(e=>{this.iteratorResolvers.push(e)})})}t.JSONLinesResponse=a},80592:()=>{"use strict";"symbol"!=typeof Symbol.dispose&&Object.defineProperty(Symbol,"dispose",{configurable:!1,enumerable:!1,writable:!1,value:Symbol.for("dispose")}),"symbol"!=typeof Symbol.asyncDispose&&Object.defineProperty(Symbol,"asyncDispose",{configurable:!1,enumerable:!1,writable:!1,value:Symbol.for("asyncDispose")})},80693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[r(61064).default]},80827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(35154);t.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,a.checkStrictMode)(r,`"${e}" without "if" is ignored`)}}},81197:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.initSegment=t.prefix=t.options=t.head=t.del=t.patch=t.put=t.post=t.get=t.vovkSchemaToOpenAPI=t.openAPIToVovkSchema=t.openapi=t.progressive=t.createValidateOnClient=t.createCodeExamples=t.createLLMTools=t.multitenant=t.createStandardValidation=t.withValidationLibrary=t.generateStaticAPI=t.createFetcher=t.fetcher=t.createRPC=t.createDecorator=t.createVovkApp=t.HttpMethod=t.HttpStatus=t.HttpException=t.JSONLinesResponse=t.VovkSchemaIdEnum=void 0;let s=r(77614);Object.defineProperty(t,"createVovkApp",{enumerable:!0,get:function(){return s.createVovkApp}});let i=r(12784);Object.defineProperty(t,"HttpStatus",{enumerable:!0,get:function(){return i.HttpStatus}}),Object.defineProperty(t,"HttpMethod",{enumerable:!0,get:function(){return i.HttpMethod}}),Object.defineProperty(t,"VovkSchemaIdEnum",{enumerable:!0,get:function(){return i.VovkSchemaIdEnum}});let n=r(3855);Object.defineProperty(t,"createRPC",{enumerable:!0,get:function(){return n.createRPC}}),Object.defineProperty(t,"fetcher",{enumerable:!0,get:function(){return n.fetcher}}),Object.defineProperty(t,"createFetcher",{enumerable:!0,get:function(){return n.createFetcher}}),Object.defineProperty(t,"progressive",{enumerable:!0,get:function(){return n.progressive}});let o=r(98026);Object.defineProperty(t,"openapi",{enumerable:!0,get:function(){return o.openapi}}),Object.defineProperty(t,"openAPIToVovkSchema",{enumerable:!0,get:function(){return o.openAPIToVovkSchema}}),Object.defineProperty(t,"vovkSchemaToOpenAPI",{enumerable:!0,get:function(){return o.vovkSchemaToOpenAPI}});let l=r(56156);Object.defineProperty(t,"HttpException",{enumerable:!0,get:function(){return l.HttpException}});let c=r(51214);Object.defineProperty(t,"createDecorator",{enumerable:!0,get:function(){return c.createDecorator}});let u=r(80199);Object.defineProperty(t,"JSONLinesResponse",{enumerable:!0,get:function(){return u.JSONLinesResponse}});let d=r(43348);Object.defineProperty(t,"generateStaticAPI",{enumerable:!0,get:function(){return d.generateStaticAPI}});let p=r(97057);Object.defineProperty(t,"withValidationLibrary",{enumerable:!0,get:function(){return p.withValidationLibrary}});let m=r(81567);Object.defineProperty(t,"createStandardValidation",{enumerable:!0,get:function(){return m.createStandardValidation}});let f=r(72342);Object.defineProperty(t,"multitenant",{enumerable:!0,get:function(){return f.multitenant}});let h=r(48275);Object.defineProperty(t,"createLLMTools",{enumerable:!0,get:function(){return h.createLLMTools}});let y=r(42275);Object.defineProperty(t,"createCodeExamples",{enumerable:!0,get:function(){return y.createCodeExamples}});let v=r(50769);Object.defineProperty(t,"createValidateOnClient",{enumerable:!0,get:function(){return v.createValidateOnClient}}),t.get=(a=(0,s.createVovkApp)()).get,t.post=a.post,t.put=a.put,t.patch=a.patch,t.del=a.del,t.head=a.head,t.options=a.options,t.prefix=a.prefix,t.initSegment=a.initSegment},81567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStandardValidation=function({toJSONSchema:e}){return function({isForm:t,body:r,query:n,params:o,output:l,iteration:c,handle:u,disableServerSideValidation:d,skipSchemaEmission:p,validateEachIteration:m}){return(0,s.withValidationLibrary)({isForm:t,body:r,query:n,params:o,output:l,iteration:c,disableServerSideValidation:d,skipSchemaEmission:p,validateEachIteration:m,handle:u,toJSONSchema:e,validate:async(e,t,{type:r,i:s})=>{let n=await t["~standard"].validate(e);if(n.issues?.length)throw new i.HttpException(a.HttpStatus.BAD_REQUEST,`Validation failed. Invalid ${"iteration"===r?`${r} #${s}`:r} on server: ${n.issues.map(({message:e,path:t})=>`${e}${t?` at ${t.join(".")}`:""}`).join(", ")}`,{[r]:e,result:n});return n.value}})}};let a=r(12784),s=r(97057),i=r(56156)},82165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.upperFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},82446:(e,t,r)=>{"use strict";r.d(t,{EZ:()=>W,BQ:()=>Y,iD:()=>B,pb:()=>Z});var a=r(39251),s=r(12115),i=r(95155),n=s.createContext(void 0),o=e=>{let t=s.useContext(n);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},c="undefined"==typeof window||"Deno"in globalThis;function u(){}function d(e){return"number"==typeof e&&e>=0&&e!==1/0}function p(e,t){return"function"==typeof e?e(t):e}function m(e,t){return"function"==typeof e?e(t):e}function f(e){return JSON.stringify(e,(e,t)=>v(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function h(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function y(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function v(e){if(!b(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!b(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let a=y(t)&&y(r);if(a||v(t)&&v(r)){let s=a?t:Object.keys(t),i=s.length,n=a?r:Object.keys(r),o=n.length,l=a?[]:{},c=new Set(s),u=0;for(let s=0;s<o;s++){let i=a?s:n[s];(!a&&c.has(i)||a)&&void 0===t[i]&&void 0===r[i]?(l[i]=void 0,u++):(l[i]=e(t[i],r[i]),l[i]===t[i]&&void 0!==t[i]&&u++)}return i===o&&u===i?t:l}return r}(e,t):t}function $(e,t){return"function"==typeof e?e(...t):!!e}Symbol();var _=new class extends l{#a;#s;#i;constructor(){super(),this.#i=e=>{if(!c&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#s||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#s?.(),this.#s=void 0)}setEventListener(e){this.#i=e,this.#s?.(),this.#s=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#a!==e&&(this.#a=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#a?this.#a:globalThis.document?.visibilityState!=="hidden"}},k=e=>setTimeout(e,0),E=function(){let e=[],t=0,r=e=>{e()},a=e=>{e()},s=k,i=a=>{t?e.push(a):s(()=>{r(a)})};return{batch:i=>{let n;t++;try{n=i()}finally{--t||(()=>{let t=e;e=[],t.length&&s(()=>{a(()=>{t.forEach(e=>{r(e)})})})})()}return n},batchCalls:e=>(...t)=>{i(()=>{e(...t)})},schedule:i,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{a=e},setScheduler:e=>{s=e}}}(),O=new class extends l{#n=!0;#s;#i;constructor(){super(),this.#i=e=>{if(!c&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#s||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#s?.(),this.#s=void 0)}setEventListener(e){this.#i=e,this.#s?.(),this.#s=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#n}};function w(){let e,t,r=new Promise((r,a)=>{e=r,t=a});function a(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{a({status:"fulfilled",value:t}),e(t)},r.reject=e=>{a({status:"rejected",reason:e}),t(e)},r}var P=class extends l{constructor(e,t){super(),this.options=t,this.#o=e,this.#l=null,this.#c=w(),this.options.experimental_prefetchInRender||this.#c.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#o;#u=void 0;#d=void 0;#p=void 0;#m;#f;#c;#l;#h;#y;#v;#b;#g;#$;#_=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#u.addObserver(this),S(this.#u,this.options)?this.#k():this.updateResult(),this.#E())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return j(this.#u,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return j(this.#u,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#O(),this.#w(),this.#u.removeObserver(this)}setOptions(e){let t=this.options,r=this.#u;if(this.options=this.#o.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof m(this.options.enabled,this.#u))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#P(),this.#u.setOptions(this.options),t._defaulted&&!h(this.options,t)&&this.#o.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#u,observer:this});let a=this.hasListeners();a&&N(this.#u,r,this.options,t)&&this.#k(),this.updateResult(),a&&(this.#u!==r||m(this.options.enabled,this.#u)!==m(t.enabled,this.#u)||p(this.options.staleTime,this.#u)!==p(t.staleTime,this.#u))&&this.#S();let s=this.#j();a&&(this.#u!==r||m(this.options.enabled,this.#u)!==m(t.enabled,this.#u)||s!==this.#$)&&this.#N(s)}getOptimisticResult(e){var t,r;let a=this.#o.getQueryCache().build(this.#o,e),s=this.createResult(a,e);return t=this,r=s,h(t.getCurrentResult(),r)||(this.#p=s,this.#f=this.options,this.#m=this.#u.state),s}getCurrentResult(){return this.#p}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),Reflect.get(e,r))})}trackProp(e){this.#_.add(e)}getCurrentQuery(){return this.#u}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#o.defaultQueryOptions(e),r=this.#o.getQueryCache().build(this.#o,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#k({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#p))}#k(e){this.#P();let t=this.#u.fetch(this.options,e);return e?.throwOnError||(t=t.catch(u)),t}#S(){this.#O();let e=p(this.options.staleTime,this.#u);if(c||this.#p.isStale||!d(e))return;let t=Math.max(this.#p.dataUpdatedAt+(e||0)-Date.now(),0);this.#b=setTimeout(()=>{this.#p.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#u):this.options.refetchInterval)??!1}#N(e){this.#w(),this.#$=e,!c&&!1!==m(this.options.enabled,this.#u)&&d(this.#$)&&0!==this.#$&&(this.#g=setInterval(()=>{(this.options.refetchIntervalInBackground||_.isFocused())&&this.#k()},this.#$))}#E(){this.#S(),this.#N(this.#j())}#O(){this.#b&&(clearTimeout(this.#b),this.#b=void 0)}#w(){this.#g&&(clearInterval(this.#g),this.#g=void 0)}createResult(e,t){let r,a=this.#u,s=this.options,i=this.#p,n=this.#m,o=this.#f,l=e!==a?e.state:this.#d,{state:c}=e,u={...c},d=!1;if(t._optimisticResults){var p;let r=this.hasListeners(),i=!r&&S(e,t),n=r&&N(e,a,t,s);(i||n)&&(u={...u,...(p=c.data,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(e.options.networkMode??"online")!=="online"||O.isOnline()?"fetching":"paused",...void 0===p&&{error:null,status:"pending"}})}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:f,errorUpdatedAt:h,status:y}=u;r=u.data;let v=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===y){let e;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=i.data,v=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#v?.state.data,this.#v):t.placeholderData,void 0!==e&&(y="success",r=g(i?.data,e,t),d=!0)}if(t.select&&void 0!==r&&!v)if(i&&r===n?.data&&t.select===this.#h)r=this.#y;else try{this.#h=t.select,r=t.select(r),r=g(i?.data,r,t),this.#y=r,this.#l=null}catch(e){this.#l=e}this.#l&&(f=this.#l,r=this.#y,h=Date.now(),y="error");let b="fetching"===u.fetchStatus,$="pending"===y,_="error"===y,k=$&&b,E=void 0!==r,P={status:y,fetchStatus:u.fetchStatus,isPending:$,isSuccess:"success"===y,isError:_,isInitialLoading:k,isLoading:k,data:r,dataUpdatedAt:u.dataUpdatedAt,error:f,errorUpdatedAt:h,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!$,isLoadingError:_&&!E,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:_&&E,isStale:R(e,t),refetch:this.refetch,promise:this.#c,isEnabled:!1!==m(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===P.status?e.reject(P.error):void 0!==P.data&&e.resolve(P.data)},r=()=>{t(this.#c=P.promise=w())},s=this.#c;switch(s.status){case"pending":e.queryHash===a.queryHash&&t(s);break;case"fulfilled":("error"===P.status||P.data!==s.value)&&r();break;case"rejected":("error"!==P.status||P.error!==s.reason)&&r()}}return P}updateResult(){let e=this.#p,t=this.createResult(this.#u,this.options);if(this.#m=this.#u.state,this.#f=this.options,void 0!==this.#m.data&&(this.#v=this.#u),h(t,e))return;this.#p=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#_.size)return!0;let a=new Set(r??this.#_);return this.options.throwOnError&&a.add("error"),Object.keys(this.#p).some(t=>this.#p[t]!==e[t]&&a.has(t))};this.#R({listeners:r()})}#P(){let e=this.#o.getQueryCache().build(this.#o,this.options);if(e===this.#u)return;let t=this.#u;this.#u=e,this.#d=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#E()}#R(e){E.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#p)}),this.#o.getQueryCache().notify({query:this.#u,type:"observerResultsUpdated"})})}};function S(e,t){return!1!==m(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&j(e,t,t.refetchOnMount)}function j(e,t,r){if(!1!==m(t.enabled,e)&&"static"!==p(t.staleTime,e)){let a="function"==typeof r?r(e):r;return"always"===a||!1!==a&&R(e,t)}return!1}function N(e,t,r,a){return(e!==t||!1===m(a.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&R(e,r)}function R(e,t){return!1!==m(t.enabled,e)&&e.isStaleByTime(p(t.staleTime,e))}var T=s.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),x=s.createContext(!1);x.Provider;var I=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()}),M=class extends l{#o;#p=void 0;#T;#x;constructor(e,t){super(),this.#o=e,this.setOptions(t),this.bindMethods(),this.#I()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#o.defaultMutationOptions(e),h(this.options,t)||this.#o.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#T,observer:this}),t?.mutationKey&&this.options.mutationKey&&f(t.mutationKey)!==f(this.options.mutationKey)?this.reset():this.#T?.state.status==="pending"&&this.#T.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#T?.removeObserver(this)}onMutationUpdate(e){this.#I(),this.#R(e)}getCurrentResult(){return this.#p}reset(){this.#T?.removeObserver(this),this.#T=void 0,this.#I(),this.#R()}mutate(e,t){return this.#x=t,this.#T?.removeObserver(this),this.#T=this.#o.getMutationCache().build(this.#o,this.options),this.#T.addObserver(this),this.#T.execute(e)}#I(){let e=this.#T?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#p={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#R(e){E.batch(()=>{if(this.#x&&this.hasListeners()){let t=this.#p.variables,r=this.#p.context;e?.type==="success"?(this.#x.onSuccess?.(e.data,t,r),this.#x.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#x.onError?.(e.error,t,r),this.#x.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#p)})})}};function A(e,t,r,i=a.GO,n){return Object.fromEntries(Object.entries((0,a.KW)(e,t,r,i,n)).map(([e,t])=>[e,Object.assign(t,{useQuery:(e,r,a)=>{a=a??o();let i=[t.segmentSchema.segmentName,t.controllerSchema.prefix,t.controllerSchema.rpcModuleName,t.schema.path,t.schema.httpMethod,e];return function(e,t,r){var a,i,n,l,d;let p=s.useContext(x),m=s.useContext(T),f=o(r),h=f.defaultQueryOptions(e);if(null==(i=f.getDefaultOptions().queries)||null==(a=i._experimental_beforeQuery)||a.call(i,h),h._optimisticResults=p?"isRestoring":"optimistic",h.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=h.staleTime;h.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof h.gcTime&&(h.gcTime=Math.max(h.gcTime,1e3))}(h.suspense||h.throwOnError||h.experimental_prefetchInRender)&&!m.isReset()&&(h.retryOnMount=!1),s.useEffect(()=>{m.clearReset()},[m]);let y=!f.getQueryCache().get(h.queryHash),[v]=s.useState(()=>new t(f,h)),b=v.getOptimisticResult(h),g=!p&&!1!==e.subscribed;if(s.useSyncExternalStore(s.useCallback(e=>{let t=g?v.subscribe(E.batchCalls(e)):u;return v.updateResult(),t},[v,g]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),s.useEffect(()=>{v.setOptions(h)},[h,v]),h?.suspense&&b.isPending)throw I(h,v,m);if((e=>{let{result:t,errorResetBoundary:r,throwOnError:a,query:s,suspense:i}=e;return t.isError&&!r.isReset()&&!t.isFetching&&s&&(i&&void 0===t.data||$(a,[t.error,s]))})({result:b,errorResetBoundary:m,throwOnError:h.throwOnError,query:f.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw b.error;if(null==(l=f.getDefaultOptions().queries)||null==(n=l._experimental_afterQuery)||n.call(l,h,b),h.experimental_prefetchInRender&&!c&&b.isLoading&&b.isFetching&&!p){let e=y?I(h,v,m):null==(d=f.getQueryCache().get(h.queryHash))?void 0:d.promise;null==e||e.catch(u).finally(()=>{v.updateResult()})}return h.notifyOnChangeProps?b:v.trackResult(b)}({queryFn:async()=>{let r=await t(e);return Symbol.asyncIterator in r?((async()=>{for await(let e of r)a.setQueryData(i,t=>[...t,e])})(),[]):r},queryKey:i,...r},P,a)},useMutation:(e,r)=>(function(e,t){let r=o(t),[a]=s.useState(()=>new M(r,e));s.useEffect(()=>{a.setOptions(e)},[a,e]);let i=s.useSyncExternalStore(s.useCallback(e=>a.subscribe(E.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),n=s.useCallback((e,t)=>{a.mutate(e,t).catch(u)},[a]);if(i.error&&$(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:n,mutateAsync:i.mutate}})({mutationFn:t,...e},r)})]))}var C=r(3218),D=r(5912);(0,a.KW)(D.w,"","HelloRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"/api"}),(0,a.KW)(D.w,"","SpecRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"/api"});let U=s.createContext({});function L(e){var t,r,a;let{count:i=1,wrapper:n,className:o,containerClassName:l,containerTestId:c,circle:u=!1,style:d,...p}=e,m=s.useContext(U),f={...p};for(let[e,t]of Object.entries(p))void 0===t&&delete f[e];let h={...m,...f,circle:u},y={...d,...function(e){let{baseColor:t,highlightColor:r,width:a,height:s,borderRadius:i,circle:n,direction:o,duration:l,enableAnimation:c=!0,customHighlightBackground:u}=e,d={};return"rtl"===o&&(d["--animation-direction"]="reverse"),"number"==typeof l&&(d["--animation-duration"]="".concat(l,"s")),c||(d["--pseudo-element-display"]="none"),("string"==typeof a||"number"==typeof a)&&(d.width=a),("string"==typeof s||"number"==typeof s)&&(d.height=s),("string"==typeof i||"number"==typeof i)&&(d.borderRadius=i),n&&(d.borderRadius="50%"),void 0!==t&&(d["--base-color"]=t),void 0!==r&&(d["--highlight-color"]=r),"string"==typeof u&&(d["--custom-highlight-background"]=u),d}(h)},v="react-loading-skeleton";o&&(v+=" ".concat(o));let b=null!=(t=h.inline)&&t,g=[],$=Math.ceil(i);for(let e=0;e<$;e++){let t=y;if($>i&&e===$-1){let e=null!=(r=t.width)?r:"100%",a=i%1,s="number"==typeof e?e*a:"calc(".concat(e," * ").concat(a,")");t={...t,width:s}}let a=s.createElement("span",{className:v,style:t,key:e},"‌");b?g.push(a):g.push(s.createElement(s.Fragment,{key:e},a,s.createElement("br",null)))}return s.createElement("span",{className:l,"data-testid":c,"aria-live":"polite","aria-busy":null==(a=h.enableAnimation)||a},n?g.map((e,t)=>s.createElement(n,{key:t},e)):g)}r(71300);var q=Object.create,H=Object.defineProperty,V=Object.getOwnPropertyDescriptor,z=Object.getOwnPropertyNames,F=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty;let K={$schema:"https://vovk.dev/api/spec/v3/schema.json",segments:{"":{$schema:"https://vovk.dev/api/spec/v3/segment.json",emitSchema:!0,segmentName:"",segmentType:"segment",controllers:{UserZodRPC:{rpcModuleName:"UserZodRPC",originalControllerName:"UserZodController",prefix:"users-zod",handlers:{updateUser:{validation:{body:{$schema:"https://json-schema.org/draft/2020-12/schema",description:"User object",type:"object",properties:{name:{description:"User full name",type:"string"},age:{description:"User age",type:"number",minimum:0,maximum:120},email:{description:"User email",type:"string",format:"email",pattern:"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},required:["name","age","email"],additionalProperties:!1},query:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{notify:{description:"Notification type",type:"string",enum:["email","push","none"]}},required:["notify"],additionalProperties:!1},params:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{id:{description:"User ID",type:"string",format:"uuid",pattern:"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$"}},required:["id"],additionalProperties:!1},output:{$schema:"https://json-schema.org/draft/2020-12/schema",description:"Response object",type:"object",properties:{success:{description:"Success status",type:"boolean"}},required:["success"],additionalProperties:!1}},path:"{id}",httpMethod:"POST",openapi:{summary:"Update user (Zod)",description:"Update user by ID with Zod validation"}}}},UserZodWithServiceRPC:{rpcModuleName:"UserZodWithServiceRPC",originalControllerName:"UserZodWithServiceController",prefix:"users-zod-with-service",handlers:{updateUser:{validation:{body:{$schema:"https://json-schema.org/draft/2020-12/schema",description:"User object",type:"object",properties:{name:{description:"User full name",type:"string"},age:{description:"User age",type:"number",minimum:0,maximum:120},email:{description:"User email",type:"string",format:"email",pattern:"^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"}},required:["name","age","email"],additionalProperties:!1},query:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{notify:{description:"Notification type",type:"string",enum:["email","push","none"]}},required:["notify"],additionalProperties:!1},params:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{id:{description:"User ID",type:"string",format:"uuid",pattern:"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$"}},required:["id"],additionalProperties:!1},output:{$schema:"https://json-schema.org/draft/2020-12/schema",description:"Response object",type:"object",properties:{success:{description:"Success status",type:"boolean"},id:{description:"User ID",type:"string",format:"uuid",pattern:"^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$"}},required:["success","id"],additionalProperties:!1}},path:"{id}",httpMethod:"POST",openapi:{summary:"Update user (Zod with service)",description:"Update user by ID with Zod validation"}}}},UserYupRPC:{rpcModuleName:"UserYupRPC",originalControllerName:"UserYupController",prefix:"users-yup",handlers:{updateUser:{validation:{body:{type:"object",properties:{name:{type:"string",description:"User full name"},age:{type:"number",minimum:0,maximum:120,description:"User age"},email:{type:"string",format:"email",description:"User email"}},required:["name","age","email"],description:"User object"},query:{type:"object",properties:{notify:{type:"string",enum:["email","push","none"],description:"Notification type"}},required:["notify"]},params:{type:"object",properties:{id:{type:"string",description:"User ID"}},required:["id"]},output:{type:"object",properties:{success:{type:"boolean",description:"Success status"}},required:["success"],description:"Response object"}},path:"{id}",httpMethod:"POST",openapi:{summary:"Update user (Yup)",description:"Update user by ID with Yup validation"}}}},UserDtoRPC:{rpcModuleName:"UserDtoRPC",originalControllerName:"UserDtoController",prefix:"users-dto",handlers:{updateUser:{validation:{body:{"x-isDto":!0,definitions:{},properties:{name:{type:"string",description:"User full name"},age:{maximum:120,type:"number",minimum:0,description:"User age"},email:{format:"email",type:"string",description:"User email"}},type:"object",required:["name","age","email"],description:"User object"},query:{"x-isDto":!0,definitions:{},properties:{notify:{type:"string",enum:["email","push","none"],description:"Notification type"}},type:"object",required:["notify"],description:"Query parameters"},params:{"x-isDto":!0,definitions:{},properties:{id:{format:"uuid",type:"string",description:"User ID"}},type:"object",required:["id"],description:"Path parameters"},output:{"x-isDto":!0,definitions:{},properties:{success:{type:"boolean",description:"Success status"}},type:"object",required:["success"],description:"Response object"}},path:"{id}",httpMethod:"POST",openapi:{summary:"Update user (DTO)",description:"Update user by ID with DTO validation"}}}},UserArktypeRPC:{rpcModuleName:"UserArktypeRPC",originalControllerName:"UserArktypeController",prefix:"users-arktype",handlers:{updateUser:{validation:{body:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{age:{type:"number",description:"User age",exclusiveMaximum:120,exclusiveMinimum:0},email:{type:"string",description:"User email",pattern:"^[\\w%+.-]+@[\\d.A-Za-z-]+\\.[A-Za-z]{2,}$",format:"email"},name:{type:"string",description:"User full name"}},required:["age","email","name"]},query:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{notify:{anyOf:[{const:"email",description:"Notification type"},{const:"none",description:"Notification type"},{const:"push",description:"Notification type"}],description:"Notification type"}},required:["notify"]},params:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{id:{anyOf:[{type:"string",description:"User ID",format:"uuid",pattern:"[\\da-f]{8}-[\\da-f]{4}-[1-8][\\da-f]{3}-[89ab][\\da-f]{3}-[\\da-f]{12}"},{const:"00000000-0000-0000-0000-000000000000",description:"User ID",format:"uuid"},{const:"ffffffff-ffff-ffff-ffff-ffffffffffff",description:"User ID",format:"uuid"}],description:"User ID",format:"uuid"}},required:["id"]},output:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{success:{type:"boolean",description:"Success status"}},required:["success"]}},path:"{id}",httpMethod:"POST",openapi:{summary:"Update user (Arktype)",description:"Update user by ID with Arktype validation"}}}},UserValibotRPC:{rpcModuleName:"UserValibotRPC",originalControllerName:"UserValibotController",prefix:"users-valibot",handlers:{updateUser:{validation:{body:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{name:{type:"string",description:"User full name"},age:{type:"number",minimum:0,maximum:120,description:"User age"},email:{type:"string",format:"email",description:"User email"}},required:["name","age","email"],description:"User object"},query:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{notify:{enum:["email","push","none"],description:"Notification type"}},required:["notify"]},params:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{id:{type:"string",format:"uuid",description:"User ID"}},required:["id"]},output:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{success:{type:"boolean",description:"Success status"}},required:["success"],description:"Response object"}},path:"{id}",httpMethod:"POST",openapi:{summary:"Update user (Valibot)",description:"Update user by ID with Valibot validation"}}}},HelloWorldRPC:{rpcModuleName:"HelloWorldRPC",originalControllerName:"HelloWorldController",prefix:"hello-world",handlers:{getHello:{path:"greeting",httpMethod:"GET",openapi:{summary:"Get a greeting",description:"Get a greeting from the server"}},postHello:{path:"greeting",httpMethod:"POST",openapi:{summary:"Post a greeting",description:"Post a greeting to the server"}}}},BasicRPCWithService:{rpcModuleName:"BasicRPCWithService",originalControllerName:"HelloWorldControllerWithService",prefix:"hello-world-with-service",handlers:{getHello:{path:"greeting",httpMethod:"GET",openapi:{summary:"Get a greeting using a service",description:"Get a greeting from the server using a service"}}}},JSONLinesRPC:{rpcModuleName:"JSONLinesRPC",originalControllerName:"JSONLinesController",prefix:"jsonlines",handlers:{streamTokens:{path:"tokens",httpMethod:"GET",openapi:{summary:"Stream tokens",description:"Stream tokens to the client"}}}},JSONLinesResponseRPC:{rpcModuleName:"JSONLinesResponseRPC",originalControllerName:"JSONLinesResponseController",prefix:"jsonlines-response-object",handlers:{streamTokens:{path:"tokens",httpMethod:"GET",openapi:{summary:"Stream tokens using Response object",description:"Stream tokens to the client using Response object"}}}},OpenAiRPC:{rpcModuleName:"OpenAiRPC",originalControllerName:"OpenAiController",prefix:"openai",handlers:{createChatCompletion:{path:"chat",httpMethod:"POST",openapi:{summary:"Create a chat completion",description:"Create a chat completion using OpenAI and yield the response"}}}},AiSdkRPC:{rpcModuleName:"AiSdkRPC",originalControllerName:"AiSdkController",prefix:"ai-sdk",handlers:{chat:{path:"chat",httpMethod:"POST",openapi:{summary:"Vercel AI SDK",description:"Uses [@ai-sdk/openai](https://www.npmjs.com/package/@ai-sdk/openai) and ai packages to chat with an AI model"}},functionCalling:{path:"function-calling",httpMethod:"POST",openapi:{summary:"Vercel AI SDK with Function Calling",description:"Uses [@ai-sdk/openai](https://www.npmjs.com/package/@ai-sdk/openai) and ai packages to call a function"}}}},ProxyRPC:{rpcModuleName:"ProxyRPC",originalControllerName:"ProxyController",prefix:"proxy",handlers:{getHello:{path:"greeting",httpMethod:"GET",openapi:{summary:"Proxy endpoint",description:"Get a greeting from vovk.dev"}}}},PollRPC:{rpcModuleName:"PollRPC",originalControllerName:"PollController",prefix:"poll",handlers:{streamPollResponse:{validation:{query:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{i:{type:"string"}},required:["i"],additionalProperties:!1},iteration:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{i:{type:"number"}},required:["i"],additionalProperties:!1}},path:"",httpMethod:"GET"}}},ProgressiveRPC:{rpcModuleName:"ProgressiveRPC",originalControllerName:"ProgressiveController",prefix:"progressive",handlers:{streamProgressiveResponse:{validation:{iteration:{$schema:"https://json-schema.org/draft/2020-12/schema",anyOf:[{type:"object",properties:{users:{type:"array",items:{type:"object",properties:{id:{type:"number"},name:{type:"string"}},required:["id","name"],additionalProperties:!1}}},required:["users"],additionalProperties:!1},{type:"object",properties:{tasks:{type:"array",items:{type:"object",properties:{id:{type:"number"},title:{type:"string"},completed:{type:"boolean"}},required:["id","title","completed"],additionalProperties:!1}}},required:["tasks"],additionalProperties:!1}]}},path:"",httpMethod:"GET"}}}}},static:{$schema:"https://vovk.dev/api/spec/v3/segment.json",emitSchema:!0,segmentName:"static",segmentType:"segment",controllers:{OpenApiRPC:{rpcModuleName:"OpenApiRPC",originalControllerName:"OpenApiController",prefix:"openapi",handlers:{getSpec:{path:"spec.json",httpMethod:"GET",openapi:{summary:"OpenAPI spec",description:"Get the OpenAPI spec for the examples API"}}}},StaticParamsRPC:{rpcModuleName:"StaticParamsRPC",originalControllerName:"StaticParamsController",prefix:"static-params",handlers:{getStaticParams:{validation:{params:{$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",properties:{section:{type:"string",enum:["a","b"]},page:{type:"string",enum:["1","2","3"]}},required:["section","page"],additionalProperties:!1}},path:"{section}/page{page}.json",httpMethod:"GET",openapi:{summary:"Static Params",description:"Get the static params: section and page"}}}}}}},meta:{$schema:"https://vovk.dev/api/spec/v3/meta.json",apiRoot:"https://vovk-examples.vercel.app/api",config:{$schema:"https://vovk.dev/api/spec/v3/config.json",clientTemplateDefs:{ts:{templatePath:"vovk-cli/client-templates/ts/",requires:{schemaTs:"."},isTsClient:!0},cjs:{templatePath:"vovk-cli/client-templates/cjs/",requires:{schemaCjs:"."},isTsClient:!0},mjs:{templatePath:"vovk-cli/client-templates/mjs/",requires:{schemaCjs:"."},isTsClient:!0},schemaTs:{templatePath:"vovk-cli/client-templates/schemaTs/"},schemaCjs:{templatePath:"vovk-cli/client-templates/schemaCjs/"},schemaJson:{templatePath:"vovk-cli/client-templates/schemaJson/"},standaloneTypesTs:{templatePath:"vovk-cli/client-templates/standaloneTypesTs/",requires:{schemaJson:"."}},readme:{templatePath:"vovk-cli/client-templates/readme/"},packageJson:{templatePath:"vovk-cli/client-templates/packageJson/"},mixins:{templatePath:"vovk-cli/client-templates/mixins/"},rs:{templatePath:"vovk-rust/template/",composedClient:{outDir:"dist_rust"},requires:{schemaJson:"./data/"}},py:{templatePath:"vovk-python/template/",composedClient:{outDir:"dist_python"},requires:{schemaJson:"./src/[package_name]/"}}},imports:{fetcher:["vovk"],validateOnClient:["vovk-ajv"],createRPC:["vovk-react-query"]},emitConfig:["$schema","clientTemplateDefs","imports","emitConfig","composedClient","segmentedClient","bundle","modulesDir","schemaOutDir","origin","rootEntry","rootSegmentModulesDirName","logLevel","prettifyClient","devHttps","moduleTemplates","libs","segmentConfig","openApiMixins"],composedClient:{enabled:!0,fromTemplates:["mjs","cjs"],outDir:"./node_modules/.vovk-client"},segmentedClient:{enabled:!1,fromTemplates:["ts"],outDir:"src/client"},bundle:{outDir:"dist",tsClientOutDir:"tmp_ts_rpc",dontDeleteTsClientOutDirAfter:!1,sourcemap:!1,requires:{readme:".",packageJson:"."},package:{dependencies:{"react-loading-skeleton":"^3.5.0"}},readme:{banner:'<p align="center"> \n  <picture>\n    <source width="300" media="(prefers-color-scheme: dark)" srcset="https://vovk.dev/vovk-logo-white.svg">\n    <source width="300" media="(prefers-color-scheme: light)" srcset="https://vovk.dev/vovk-logo.svg">\n    <img width="300" alt="vovk" src="https://vovk.dev/vovk-logo.svg">\n  </picture><br>\n  <strong>RESTful + RPC = ♥️</strong>\n</p>\n\n<p align="center">\n  Back-end meta-framework for <a href="https://nextjs.org/docs/app">Next.js</a>\n</p>'}},modulesDir:"src/modules",schemaOutDir:"./.vovk-schema",origin:"http://localhost:3000",rootEntry:"api",rootSegmentModulesDirName:"",logLevel:"debug",prettifyClient:!1,devHttps:!1,moduleTemplates:{service:"vovk-cli/module-templates/service.ts.ejs",controller:"vovk-cli/module-templates/controller.ts.ejs"},libs:{},segmentConfig:{"":{reExports:{"default as ProgressiveExample":"./src/app/progressive/ProgressiveExample","default as JSONLinesExample":"./src/app/jsonlines/JSONLinesExample"}}},openApiMixins:{}}}};function B(){let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(null),[o,l]=(0,s.useState)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>{t(null),n(null);let{users:e,tasks:r}=(0,a.Se)(Z.streamProgressiveResponse);l(!1),Promise.all([e.then(t),r.then(n)]).finally(()=>l(!0))},disabled:!1===o,children:"Load"}),null!==o&&(0,i.jsx)("h2",{children:"Users"}),null!==o&&!e&&(0,i.jsx)(J,{}),!!e?.length&&e?.map(e=>(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:e.name})},e.id)),null!==o&&(0,i.jsx)("h2",{children:"Tasks"}),null!==o&&!r&&(0,i.jsx)(J,{}),!!r?.length&&r?.map(e=>(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[e.title," ",e.completed?"✅":""]})},e.id))]})}let J=()=>(0,i.jsx)("ul",{children:[,,,,,].fill(0).map((e,t)=>(0,i.jsx)("li",{children:(0,i.jsx)(L,{width:150})},t))});var Q=((e,t,r)=>(r=null!=e?q(F(e)):{},((e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(var s,i=z(t),n=0,o=i.length;n<o;n++)s=i[n],G.call(e,s)||void 0===s||H(e,s,{get:(e=>t[e]).bind(null,s),enumerable:!(a=V(t,s))||a.enumerable});return e})(e&&e.__esModule?r:H(r,"default",{value:e,enumerable:!0}),e)))(((e,t)=>function(){return t||(0,e[z(e)[0]])((t={exports:{}}).exports,t),t.exports})({"node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,t){t.exports=function(){var e="function"==typeof SuppressedError?SuppressedError:function(e,t){var r=Error();return r.name="SuppressedError",r.error=e,r.suppressed=t,r},t={},r=[];function a(e,t){if(null!=t){if(Object(t)!==t)throw TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(e)var a=t[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(void 0===a&&(a=t[Symbol.dispose||Symbol.for("Symbol.dispose")],e))var s=a;if("function"!=typeof a)throw TypeError("Object is not disposable.");s&&(a=function(){try{s.call(t)}catch(e){return Promise.reject(e)}}),r.push({v:t,d:a,a:e})}else e&&r.push({d:t,a:e});return t}return{e:t,u:a.bind(null,!1),a:a.bind(null,!0),d:function(){var a,s=this.e,i=0;function n(){for(;a=r.pop();)try{if(!a.a&&1===i)return i=0,r.push(a),Promise.resolve().then(n);if(a.d){var e=a.d.call(a.v);if(a.a)return i|=2,Promise.resolve(e).then(n,o)}else i|=1}catch(e){return o(e)}if(1===i)return s!==t?Promise.reject(s):Promise.resolve();if(s!==t)throw s}function o(r){return s=s!==t?new e(r,s):r,n()}return n()}}},t.exports.__esModule=!0,t.exports.default=t.exports}})());function W(){let[e,t]=(0,s.useState)([]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:async()=>{try{var e=(0,Q.default)();for await(let r of(t([]),e.u(await Y.streamTokens())))t(e=>[...e,r])}catch(t){e.e=t}finally{e.d()}},children:"Get Streamed Greeting from Server"}),(0,i.jsx)("div",{children:e.map(({message:e},t)=>(0,i.jsx)("span",{children:e},t))})]})}A(K,"","UserZodRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","UserZodWithServiceRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","UserYupRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","UserDtoRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","UserArktypeRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","UserValibotRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","HelloWorldRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","BasicRPCWithService",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"});let Y=A(K,"","JSONLinesRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"});A(K,"","JSONLinesResponseRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","OpenAiRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","AiSdkRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","ProxyRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"","PollRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"});let Z=A(K,"","ProgressiveRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"});A(K,"static","OpenApiRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"}),A(K,"static","StaticParamsRPC",a.GO,{validateOnClient:C.validateOnClient,apiRoot:"https://vovk-examples.vercel.app/api"})},82731:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584),i=r(1008);t.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:e})=>(0,a._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},code(e){let{gen:t,schema:r,data:n,errsCount:o,it:l}=e;if(!o)throw Error("ajv implementation error");let{allErrors:c,props:u}=l;function d(i){if(!1===r){e.setParams({unevaluatedProperty:i}),e.error(),c||t.break();return}if(!(0,s.alwaysValidSchema)(l,r)){let r=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:i,dataPropType:s.Type.Str},r),c||t.if((0,a.not)(r),()=>t.break())}}u instanceof a.Name?t.if((0,a._)`${u} !== true`,()=>t.forIn("key",n,e=>{var r,s;return t.if((r=u,s=e,(0,a._)`!${r} || !${r}[${s}]`),()=>d(e))})):!0!==u&&t.forIn("key",n,e=>void 0===u?d(e):t.if(function(e,t){let r=[];for(let s in e)!0===e[s]&&r.push((0,a._)`${t} !== ${s}`);return(0,a.and)(...r)}(u,e),()=>d(e))),l.props=!0,e.ok((0,a._)`${o} === ${i.default.errors}`)}}},83560:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.error=void 0;let a=r(12784),s=r(51214),i={[a.HttpStatus.NULL]:"Error",[a.HttpStatus.CONTINUE]:"Continue",[a.HttpStatus.SWITCHING_PROTOCOLS]:"Switching Protocols",[a.HttpStatus.PROCESSING]:"Processing",[a.HttpStatus.EARLYHINTS]:"Early Hints",[a.HttpStatus.OK]:"OK",[a.HttpStatus.CREATED]:"Created",[a.HttpStatus.ACCEPTED]:"Accepted",[a.HttpStatus.NON_AUTHORITATIVE_INFORMATION]:"Non Authoritative Information",[a.HttpStatus.NO_CONTENT]:"No Content",[a.HttpStatus.RESET_CONTENT]:"Reset Content",[a.HttpStatus.PARTIAL_CONTENT]:"Partial Content",[a.HttpStatus.AMBIGUOUS]:"Ambiguous",[a.HttpStatus.MOVED_PERMANENTLY]:"Moved Permanently",[a.HttpStatus.FOUND]:"Found",[a.HttpStatus.SEE_OTHER]:"See Other",[a.HttpStatus.NOT_MODIFIED]:"Not Modified",[a.HttpStatus.TEMPORARY_REDIRECT]:"Temporary Redirect",[a.HttpStatus.PERMANENT_REDIRECT]:"Permanent Redirect",[a.HttpStatus.BAD_REQUEST]:"Bad Request",[a.HttpStatus.UNAUTHORIZED]:"Unauthorized",[a.HttpStatus.PAYMENT_REQUIRED]:"Payment Required",[a.HttpStatus.FORBIDDEN]:"Forbidden",[a.HttpStatus.NOT_FOUND]:"Not Found",[a.HttpStatus.METHOD_NOT_ALLOWED]:"Method Not Allowed",[a.HttpStatus.NOT_ACCEPTABLE]:"Not Acceptable",[a.HttpStatus.PROXY_AUTHENTICATION_REQUIRED]:"Proxy Authentication Required",[a.HttpStatus.REQUEST_TIMEOUT]:"Request Timeout",[a.HttpStatus.CONFLICT]:"Conflict",[a.HttpStatus.GONE]:"Gone",[a.HttpStatus.LENGTH_REQUIRED]:"Length Required",[a.HttpStatus.PRECONDITION_FAILED]:"Precondition Failed",[a.HttpStatus.PAYLOAD_TOO_LARGE]:"Payload Too Large",[a.HttpStatus.URI_TOO_LONG]:"URI Too Long",[a.HttpStatus.UNSUPPORTED_MEDIA_TYPE]:"Unsupported Media Type",[a.HttpStatus.REQUESTED_RANGE_NOT_SATISFIABLE]:"Requested Range Not Satisfiable",[a.HttpStatus.EXPECTATION_FAILED]:"Expectation Failed",[a.HttpStatus.I_AM_A_TEAPOT]:"I am a teapot",[a.HttpStatus.MISDIRECTED]:"Misdirected",[a.HttpStatus.UNPROCESSABLE_ENTITY]:"Unprocessable Entity",[a.HttpStatus.FAILED_DEPENDENCY]:"Failed Dependency",[a.HttpStatus.PRECONDITION_REQUIRED]:"Precondition Required",[a.HttpStatus.TOO_MANY_REQUESTS]:"Too Many Requests",[a.HttpStatus.INTERNAL_SERVER_ERROR]:"Internal Server Error",[a.HttpStatus.NOT_IMPLEMENTED]:"Not Implemented",[a.HttpStatus.BAD_GATEWAY]:"Bad Gateway",[a.HttpStatus.SERVICE_UNAVAILABLE]:"Service Unavailable",[a.HttpStatus.GATEWAY_TIMEOUT]:"Gateway Timeout",[a.HttpStatus.HTTP_VERSION_NOT_SUPPORTED]:"HTTP Version Not Supported"};t.error=(0,s.createDecorator)(null,(e,t)=>r=>({...r,openapi:{...r?.openapi,responses:{...r?.openapi?.responses,[e]:{description:`${e} ${i[e]}`,content:{"application/json":{schema:{allOf:[{$ref:"#/components/schemas/VovkErrorResponse"},{type:"object",properties:{message:{type:"string",enum:[t,...r?.openapi?.responses?.[e]?.content?.["application/json"]?.schema?.allOf?.[1]?.properties?.message?.enum??[]]},statusCode:{type:"integer",enum:[e]}}}]}}}}}}}))},83919:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},84518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(34398);t.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,a.validateSchemaDeps)(e)}},84539:(e,t)=>{"use strict";function r(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:r(i,n),time:r(l(!0),c),"date-time":r(p(!0),m),"iso-time":r(l(),u),"iso-date-time":r(p(),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return h.test(e)&&y.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return v.lastIndex=0,v.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=g&&e>=b}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:$},double:{type:"number",validate:$},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,n),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,c),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);let a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(e){var t;let r=a.exec(e);if(!r)return!1;let i=+r[1],n=+r[2],o=+r[3];return n>=1&&n<=12&&o>=1&&o<=(2===n&&(t=i)%4==0&&(t%100!=0||t%400==0)?29:s[n])}function n(e,t){if(e&&t)return e>t?1:e<t?-1:0}let o=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(e){return function(t){let r=o.exec(t);if(!r)return!1;let a=+r[1],s=+r[2],i=+r[3],n=r[4],l="-"===r[5]?-1:1,c=+(r[6]||0),u=+(r[7]||0);if(c>23||u>59||e&&!n)return!1;if(a<=23&&s<=59&&i<60)return!0;let d=s-u*l,p=a-c*l-(d<0);return(23===p||-1===p)&&(59===d||-1===d)&&i<61}}function c(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),a=new Date("2020-01-01T"+t).valueOf();if(r&&a)return r-a}function u(e,t){if(!(e&&t))return;let r=o.exec(e),a=o.exec(t);if(r&&a)return(e=r[1]+r[2]+r[3])>(t=a[1]+a[2]+a[3])?1:e<t?-1:0}let d=/t|\s/i;function p(e){let t=l(e);return function(e){let r=e.split(d);return 2===r.length&&i(r[0])&&t(r[1])}}function m(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),a=new Date(t).valueOf();if(r&&a)return r-a}function f(e,t){if(!(e&&t))return;let[r,a]=e.split(d),[s,i]=t.split(d),o=n(r,s);if(void 0!==o)return o||c(a,i)}let h=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,b=-0x80000000,g=0x80000000-1;function $(){return!0}let _=/[^\\]\\Z/},84809:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},84846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t?r.set(e,{...r.get(e),...t}):null===t&&r.delete(e),r.get(e)??{}};let r=new WeakMap},86059:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var a=r(90379);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var s=r(36132);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}});let i=r(83919),n=r(27134),o=r(8629),l=r(6098),c=r(36132),u=r(32770),d=r(94737),p=r(35154),m=r(59832),f=r(6729),h=(e,t)=>new RegExp(e,t);h.code="new RegExp";let y=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class ${constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...function(e){var t,r,a,s,i,n,o,l,c,u,d,p,m,y,v,b,g,$,_,k,E,O,w,P,S;let j=e.strict,N=null==(t=e.code)?void 0:t.optimize,R=!0===N||void 0===N?1:N||0,T=null!=(a=null==(r=e.code)?void 0:r.regExp)?a:h,x=null!=(s=e.uriResolver)?s:f.default;return{strictSchema:null==(n=null!=(i=e.strictSchema)?i:j)||n,strictNumbers:null==(l=null!=(o=e.strictNumbers)?o:j)||l,strictTypes:null!=(u=null!=(c=e.strictTypes)?c:j)?u:"log",strictTuples:null!=(p=null!=(d=e.strictTuples)?d:j)?p:"log",strictRequired:null!=(y=null!=(m=e.strictRequired)?m:j)&&y,code:e.code?{...e.code,optimize:R,regExp:T}:{optimize:R,regExp:T},loopRequired:null!=(v=e.loopRequired)?v:200,loopEnum:null!=(b=e.loopEnum)?b:200,meta:null==(g=e.meta)||g,messages:null==($=e.messages)||$,inlineRefs:null==(_=e.inlineRefs)||_,schemaId:null!=(k=e.schemaId)?k:"$id",addUsedSchema:null==(E=e.addUsedSchema)||E,validateSchema:null==(O=e.validateSchema)||O,validateFormats:null==(w=e.validateFormats)||w,unicodeRegExp:null==(P=e.unicodeRegExp)||P,int32range:null==(S=e.int32range)||S,uriResolver:x}}(e)};let{es5:t,lines:r}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:t,lines:r}),this.logger=function(e){if(!1===e)return S;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw Error("logger must implement log, warn and error methods")}(e.logger);let a=e.validateFormats;e.validateFormats=!1,this.RULES=(0,o.getRules)(),_.call(this,b,e,"NOT SUPPORTED"),_.call(this,g,e,"DEPRECATED","warn"),this._metaOpts=P.call(this),e.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&w.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),E.call(this),e.validateFormats=a}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:r}=this.opts,a=m;"id"===r&&((a={...m}).id=a.$id,delete a.$id),t&&e&&this.addMetaSchema(a,a[r],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);let a=r(t);return"$async"in r||(this.errors=r.errors),a}compile(e,t){let r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:r}=this.opts;return a.call(this,e,t);async function a(e,t){await s.call(this,e.$schema);let r=this._addSchema(e,t);return r.validate||i.call(this,r)}async function s(e){e&&!this.getSchema(e)&&await a.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof n.default))throw t;return o.call(this,t),await l.call(this,t.missingSchema),i.call(this,e)}}function o({missingSchema:e,missingRef:t}){if(this.refs[e])throw Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){let r=await c.call(this,e);this.refs[e]||await s.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function c(e){let t=this._loading[e];if(t)return t;try{return await (this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,a=this.opts.validateSchema){let s;if(Array.isArray(e)){for(let t of e)this.addSchema(t,void 0,r,a);return this}if("object"==typeof e){let{schemaId:t}=this.opts;if(void 0!==(s=e[t])&&"string"!=typeof s)throw Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||s),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,a,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){let r;if("boolean"==typeof e)return!0;if(void 0!==(r=e.$schema)&&"string"!=typeof r)throw Error("$schema must be a string");if(!(r=r||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let a=this.validate(r,e);if(!a&&t){let e="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(e);else throw Error(e)}return a}getSchema(e){let t;for(;"string"==typeof(t=k.call(this,e));)e=t;if(void 0===t){let{schemaId:r}=this.opts,a=new l.SchemaEnv({schema:{},schemaId:r});if(!(t=l.resolveSchema.call(this,a,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=k.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{this._cache.delete(e);let t=e[this.opts.schemaId];return t&&(t=(0,u.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else if("object"==typeof e&&void 0===t){if(Array.isArray(r=(t=e).keyword)&&!r.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(N.call(this,r,t),!t)return(0,p.eachItem)(r,e=>R.call(this,e)),this;x.call(this,t);let a={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,p.eachItem)(r,0===a.type.length?e=>R.call(this,e,a):e=>a.type.forEach(t=>R.call(this,e,a,t))),this}getKeyword(e){let t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;for(let r of(delete t.keywords[e],delete t.all[e],t.rules)){let t=r.rules.findIndex(t=>t.keyword===e);t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map(e=>`${r}${e.instancePath} ${e.message}`).reduce((e,r)=>e+t+r):"No errors"}$dataMetaSchema(e,t){let r=this.RULES.all;for(let a of(e=JSON.parse(JSON.stringify(e)),t)){let t=a.split("/").slice(1),s=e;for(let e of t)s=s[e];for(let e in r){let t=r[e];if("object"!=typeof t)continue;let{$data:a}=t.definition,i=s[e];a&&i&&(s[e]=M(i))}}return e}_removeAllSchemas(e,t){for(let r in e){let a=e[r];(!t||t.test(r))&&("string"==typeof a?delete e[r]:a&&!a.meta&&(this._cache.delete(a.schema),delete e[r]))}}_addSchema(e,t,r,a=this.opts.validateSchema,s=this.opts.addUsedSchema){let i,{schemaId:n}=this.opts;if("object"==typeof e)i=e[n];else if(this.opts.jtd)throw Error("schema must be object");else if("boolean"!=typeof e)throw Error("schema must be object or boolean");let o=this._cache.get(e);if(void 0!==o)return o;r=(0,u.normalizeId)(i||r);let c=u.getSchemaRefs.call(this,e,r);return o=new l.SchemaEnv({schema:e,schemaId:n,meta:t,baseId:r,localRefs:c}),this._cache.set(o.schema,o),s&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=o),a&&this.validateSchema(e,!0),o}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function _(e,t,r,a="error"){for(let s in e)s in t&&this.logger[a](`${r}: option ${s}. ${e[s]}`)}function k(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function E(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function O(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function w(e){if(Array.isArray(e))return void this.addVocabulary(e);for(let t in this.logger.warn("keywords option as map is deprecated, pass array"),e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function P(){let e={...this.opts};for(let t of y)delete e[t];return e}$.ValidationError=i.default,$.MissingRefError=n.default,t.default=$;let S={log(){},warn(){},error(){}},j=/^[a-z_$][a-z0-9_$:-]*$/i;function N(e,t){let{RULES:r}=this;if((0,p.eachItem)(e,e=>{if(r.keywords[e])throw Error(`Keyword ${e} is already defined`);if(!j.test(e))throw Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw Error('$data keyword must have "code" or "validate" function')}function R(e,t,r){var a;let s=null==t?void 0:t.post;if(r&&s)throw Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,n=s?i.post:i.rules.find(({type:e})=>e===r);if(n||(n={type:r,rules:[]},i.rules.push(n)),i.keywords[e]=!0,!t)return;let o={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?T.call(this,n,o,t.before):n.rules.push(o),i.all[e]=o,null==(a=t.implements)||a.forEach(e=>this.addKeyword(e))}function T(e,t,r){let a=e.rules.findIndex(e=>e.keyword===r);a>=0?e.rules.splice(a,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function x(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=M(t)),e.validateSchema=this.compile(t,!0))}let I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(e){return{anyOf:[e,I]}}},86189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(51616);a.code='require("ajv/dist/runtime/equal").default',t.default=a},86590:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":case"maxItems":e="";var t=r.params.limit;e+=" tidak boleh memiliki lebih dari "+t+" item";break;case"additionalProperties":e="tidak boleh memiliki properti tambahan";break;case"anyOf":e='harus cocok dengan beberapa skema pada "anyOf"';break;case"const":e="harus sama dengan konstan";break;case"contains":e="harus berisi item yang valid";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+=" harus memiliki properti "+r.params.deps+" ketika properti "+r.params.property+" hadir";break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='harus lulus validasi kata kunci "'+r.keyword+'"'}break;case"enum":e="harus sama dengan salah satu dari nilai yang telah ditentukan";break;case"false schema":e="skema boolean salah";break;case"format":e='harus cocok dengan format "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="harus "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='harus cocok dengan skema "'+r.params.failingKeyword+'"';break;case"maxLength":e="";var t=r.params.limit;e+=" tidak boleh lebih dari "+t+" karakter";break;case"maxProperties":e="";var t=r.params.limit;e+=" tidak boleh memiliki lebih dari "+t+" properti";break;case"minItems":e="";var t=r.params.limit;e+=" tidak boleh kurang dari "+t+" item";break;case"minLength":e="";var t=r.params.limit;e+=" tidak boleh lebih pendek dari "+t+" karakter";break;case"minProperties":e="";var t=r.params.limit;e+=" tidak boleh kurang dari "+t+" properti";break;case"multipleOf":e="harus merupakan kelipatan dari "+r.params.multipleOf;break;case"not":e='tidak boleh valid sesuai dengan skema pada "not"';break;case"oneOf":e='harus sama persis dengan satu skema pada "oneOf"';break;case"pattern":e='harus cocok dengan pola "'+r.params.pattern+'"';break;case"patternRequired":e='harus memiliki pola pencocokan properti "'+r.params.missingPattern+'"';break;case"propertyNames":e="nama properti tidak valid";break;case"required":e="harus memiliki properti "+r.params.missingProperty;break;case"type":e="harus berupa "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="tidak boleh memiliki item duplikat (item ## "+r.params.j+" dan "+r.params.i+" identik)";break;default:e='harus lulus validasi kata kunci "'+r.keyword+'"'}r.message=e}}},86740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(90379),s=r(95316),i=r(35154),n=r(88853);t.default={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:o,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===o.additionalProperties&&n.default.code(new a.KeywordCxt(c,n.default,"additionalProperties"));let u=(0,s.allSchemaProperties)(r);for(let e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=i.mergeEvaluated.props(t,(0,i.toHash)(u),c.props));let d=u.filter(e=>!(0,i.alwaysValidSchema)(c,r[e]));if(0===d.length)return;let p=t.name("valid");for(let a of d){var m;(m=a,c.opts.useDefaults&&!c.compositeRule&&void 0!==r[m].default)?f(a):(t.if((0,s.propertyInData)(t,l,a,c.opts.ownProperties)),f(a),c.allErrors||t.else().var(p,!0),t.endIf()),e.it.definedProperties.add(a),e.ok(p)}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},p)}}}},87672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(95316).validateUnion,error:{message:"must match a schema in anyOf"}}},87822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;let a=r(88909),s=r(36132),i=r(62878),n={message:"boolean schema is false"};function o(e,t){let{gen:r,data:s}=e;(0,a.reportError)({gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},n,void 0,t)}t.topBoolOrEmptySchema=function(e){let{gen:t,schema:r,validateName:a}=e;!1===r?o(e,!1):"object"==typeof r&&!0===r.$async?t.return(i.default.data):(t.assign((0,s._)`${a}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){let{gen:r,schema:a}=e;!1===a?(r.var(t,!1),o(e)):r.var(t,!0)}},88853:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(95316),s=r(36132),i=r(62878),n=r(35154);t.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,s._)`{additionalProperty: ${e.additionalProperty}}`},code(e){let{gen:t,schema:r,parentSchema:o,data:l,errsCount:c,it:u}=e;if(!c)throw Error("ajv implementation error");let{allErrors:d,opts:p}=u;if(u.props=!0,"all"!==p.removeAdditional&&(0,n.alwaysValidSchema)(u,r))return;let m=(0,a.allSchemaProperties)(o.properties),f=(0,a.allSchemaProperties)(o.patternProperties);function h(e){t.code((0,s._)`delete ${l}[${e}]`)}function y(a){if("all"===p.removeAdditional||p.removeAdditional&&!1===r)return void h(a);if(!1===r){e.setParams({additionalProperty:a}),e.error(),d||t.break();return}if("object"==typeof r&&!(0,n.alwaysValidSchema)(u,r)){let r=t.name("valid");"failing"===p.removeAdditional?(v(a,r,!1),t.if((0,s.not)(r),()=>{e.reset(),h(a)})):(v(a,r),d||t.if((0,s.not)(r),()=>t.break()))}}function v(t,r,a){let s={keyword:"additionalProperties",dataProp:t,dataPropType:n.Type.Str};!1===a&&Object.assign(s,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(s,r)}t.forIn("key",l,r=>{m.length||f.length?t.if(function(r){let i;if(m.length>8){let e=(0,n.schemaRefOrVal)(u,o.properties,"properties");i=(0,a.isOwnProperty)(t,e,r)}else i=m.length?(0,s.or)(...m.map(e=>(0,s._)`${r} === ${e}`)):s.nil;return f.length&&(i=(0,s.or)(i,...f.map(t=>(0,s._)`${(0,a.usePattern)(e,t)}.test(${r})`))),(0,s.not)(i)}(r),()=>y(r)):y(r)}),e.ok((0,s._)`${c} === ${i.default.errors}`)}}},88909:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;let a=r(36132),s=r(35154),i=r(62878);function n(e,t){let r=e.const("err",t);e.if((0,a._)`${i.default.vErrors} === null`,()=>e.assign(i.default.vErrors,(0,a._)`[${r}]`),(0,a._)`${i.default.vErrors}.push(${r})`),e.code((0,a._)`${i.default.errors}++`)}function o(e,t){let{gen:r,validateName:s,schemaEnv:i}=e;i.$async?r.throw((0,a._)`new ${e.ValidationError}(${t})`):(r.assign((0,a._)`${s}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>(0,a.str)`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,a.str)`"${e}" keyword must be ${t} ($data)`:(0,a.str)`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,s,i){let{it:l}=e,{gen:u,compositeRule:d,allErrors:p}=l,m=c(e,r,s);(null!=i?i:d||p)?n(u,m):o(l,(0,a._)`[${m}]`)},t.reportExtraError=function(e,r=t.keywordError,a){let{it:s}=e,{gen:l,compositeRule:u,allErrors:d}=s;n(l,c(e,r,a)),u||d||o(s,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if((0,a._)`${i.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,a._)`${i.default.vErrors}.length`,t),()=>e.assign(i.default.vErrors,null)))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:s,errsCount:n,it:o}){if(void 0===n)throw Error("ajv implementation error");let l=e.name("err");e.forRange("i",n,i.default.errors,n=>{e.const(l,(0,a._)`${i.default.vErrors}[${n}]`),e.if((0,a._)`${l}.instancePath === undefined`,()=>e.assign((0,a._)`${l}.instancePath`,(0,a.strConcat)(i.default.instancePath,o.errorPath))),e.assign((0,a._)`${l}.schemaPath`,(0,a.str)`${o.errSchemaPath}/${t}`),o.opts.verbose&&(e.assign((0,a._)`${l}.schema`,r),e.assign((0,a._)`${l}.data`,s))})};let l={keyword:new a.Name("keyword"),schemaPath:new a.Name("schemaPath"),params:new a.Name("params"),propertyName:new a.Name("propertyName"),message:new a.Name("message"),schema:new a.Name("schema"),parentSchema:new a.Name("parentSchema")};function c(e,t,r){let{createErrors:n}=e.it;return!1===n?(0,a._)`{}`:function(e,t,r={}){let{gen:n,it:o}=e,c=[function({errorPath:e},{instancePath:t}){let r=t?(0,a.str)`${e}${(0,s.getErrorPath)(t,s.Type.Str)}`:e;return[i.default.instancePath,(0,a.strConcat)(i.default.instancePath,r)]}(o,r),function({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:i}){let n=i?t:(0,a.str)`${t}/${e}`;return r&&(n=(0,a.str)`${n}${(0,s.getErrorPath)(r,s.Type.Str)}`),[l.schemaPath,n]}(e,r)];return function(e,{params:t,message:r},s){let{keyword:n,data:o,schemaValue:c,it:u}=e,{opts:d,propertyName:p,topSchemaRef:m,schemaPath:f}=u;s.push([l.keyword,n],[l.params,"function"==typeof t?t(e):t||(0,a._)`{}`]),d.messages&&s.push([l.message,"function"==typeof r?r(e):r]),d.verbose&&s.push([l.schema,c],[l.parentSchema,(0,a._)`${m}${f}`],[i.default.data,o]),p&&s.push([l.propertyName,p])}(e,t,c),n.object(...c)}(e,t,r)}},89438:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":case"maxItems":e="";var t=r.params.limit;e+="должно иметь не более, чем "+t+" элемент",t>=2&&t<=4?e+="а":1!=t&&(e+="ов");break;case"additionalProperties":e="не должно иметь дополнительных полей";break;case"anyOf":e='должно соответствовать одной их схем в "anyOf"';break;case"const":e="должно быть равно заданному значению";break;case"contains":e="должно содержать значение соответствующее схеме";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="должно иметь пол",1==t?e+="е":e+="я",e+=" "+r.params.deps+", когда присутствует поле "+r.params.property;break;case"discriminator":switch(r.params.error){case"tag":e='поле "'+r.params.tag+'" должно быть строкой';break;case"mapping":e='значение поля "'+r.params.tag+'" должно быть в одной из oneOf схем ';break;default:e='должно соответствовать правилу "'+r.keyword+'"'}break;case"enum":e="должно быть равно одному из разрешенных значений";break;case"false schema":e="схема равна false";break;case"format":e='должно соответствовать формату "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="должно быть "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='должно соответствовать схемe "'+r.params.failingKeyword+'"';break;case"maxLength":e="";var t=r.params.limit;e+="должно быть не длиннее, чем "+t+" символ",t>=2&&t<=4?e+="а":1!=t&&(e+="ов");break;case"maxProperties":e="";var t=r.params.limit;e+="должно иметь не более, чем "+t+" пол",1==t?e+="е":t>=2&&t<=4?e+="я":e+="ей";break;case"minItems":e="";var t=r.params.limit;e+="должно иметь не менее, чем "+t+" элемент",t>=2&&t<=4?e+="а":1!=t&&(e+="ов");break;case"minLength":e="";var t=r.params.limit;e+="должно быть не короче, чем "+t+" символ",t>=2&&t<=4?e+="а":1!=t&&(e+="ов");break;case"minProperties":e="";var t=r.params.limit;e+="должно иметь не менее, чем "+t+" пол",1==t?e+="е":t>=2&&t<=4?e+="я":e+="ей";break;case"multipleOf":e="должно быть кратным "+r.params.multipleOf;break;case"not":e='должно не соответствовать схеме в "not"';break;case"oneOf":e='должно соответствовать в точности одной схемe в "oneOf"';break;case"pattern":e='должно соответствовать образцу "'+r.params.pattern+'"';break;case"patternRequired":e='должно иметь поле, соответствующее образцу "'+r.params.missingPattern+'"';break;case"propertyNames":e="имя поля не соответствует схеме";break;case"required":e="должно иметь обязательное поле "+r.params.missingProperty;break;case"type":e="должно быть "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="должно иметь не более, чем "+t+" элемент",t>=2&&t<=4?e+="а":1!=t&&(e+="ов");break;case"unevaluatedProperties":e="не должно иметь непроверенных полей";break;case"uniqueItems":e="не должно иметь повторяющихся элементов (элементы "+r.params.j+" и "+r.params.i+" идентичны)";break;default:e='должно соответствовать правилу "'+r.keyword+'"'}r.message=e}}},89644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584),i=r(86189);t.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,a._)`{allowedValues: ${e}}`},code(e){let t,r,{gen:n,data:o,$data:l,schema:c,schemaCode:u,it:d}=e;if(!l&&0===c.length)throw Error("enum must have non-empty array");let p=c.length>=d.opts.loopEnum,m=()=>null!=t?t:t=(0,s.useFunc)(n,i.default);if(p||l)r=n.let("valid"),e.block$data(r,function(){n.assign(r,!1),n.forOf("v",u,e=>n.if((0,a._)`${m()}(${o}, ${e})`,()=>n.assign(r,!0).break()))});else{if(!Array.isArray(c))throw Error("ajv implementation error");let e=n.const("vSchema",u);r=(0,a.or)(...c.map((t,r)=>(function(e,t){let r=c[t];return"object"==typeof r&&null!==r?(0,a._)`${m()}(${o}, ${e}[${t}])`:(0,a._)`${o} === ${r}`})(e,r)))}e.pass(r)}}},89931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class a extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=a;class s extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return""===e||'""'===e}get str(){var e;return null!=(e=this._str)?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!=(e=this._names)?e:this._names=this._items.reduce((e,t)=>(t instanceof a&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function i(e,...t){let r=[e[0]],a=0;for(;a<t.length;)l(r,t[a]),r.push(e[++a]);return new s(r)}t._Code=s,t.nil=new s(""),t._=i;let n=new s("+");function o(e,...t){let r=[c(e[0])],i=0;for(;i<t.length;)r.push(n),l(r,t[i]),r.push(n,c(e[++i]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===n){var r,s;let i=(r=e[t-1],'""'===(s=e[t+1])?r:'""'===r?s:"string"==typeof r?s instanceof a||'"'!==r[r.length-1]?void 0:"string"!=typeof s?`${r.slice(0,-1)}${s}"`:'"'===s[0]?r.slice(0,-1)+s.slice(1):void 0:"string"!=typeof s||'"'!==s[0]||r instanceof a?void 0:`"${r}${s.slice(1)}`);if(void 0!==i){e.splice(t-1,3,i);continue}e[t++]="+"}t++}}(r),new s(r)}function l(e,t){var r;t instanceof s?e.push(...t._items):t instanceof a?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:c(Array.isArray(r)?r.join(","):r))}function c(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=o,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:o`${e}${t}`},t.stringify=function(e){return new s(c(e))},t.safeStringify=c,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new s(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new s(`${e}`);throw Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new s(e.toString())}},90379:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;let a=r(87822),s=r(94737),i=r(74062),n=r(94737),o=r(72975),l=r(41984),c=r(69118),u=r(36132),d=r(62878),p=r(32770),m=r(35154),f=r(88909);function h({gen:e,validateName:t,schema:r,schemaEnv:a,opts:s},i){var n;s.code.es5?e.func(t,(0,u._)`${d.default.data}, ${d.default.valCxt}`,a.$async,()=>{var t,a;e.code((0,u._)`"use strict"; ${y(r,s)}`),t=e,a=s,t.if(d.default.valCxt,()=>{t.var(d.default.instancePath,(0,u._)`${d.default.valCxt}.${d.default.instancePath}`),t.var(d.default.parentData,(0,u._)`${d.default.valCxt}.${d.default.parentData}`),t.var(d.default.parentDataProperty,(0,u._)`${d.default.valCxt}.${d.default.parentDataProperty}`),t.var(d.default.rootData,(0,u._)`${d.default.valCxt}.${d.default.rootData}`),a.dynamicRef&&t.var(d.default.dynamicAnchors,(0,u._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{t.var(d.default.instancePath,(0,u._)`""`),t.var(d.default.parentData,(0,u._)`undefined`),t.var(d.default.parentDataProperty,(0,u._)`undefined`),t.var(d.default.rootData,d.default.data),a.dynamicRef&&t.var(d.default.dynamicAnchors,(0,u._)`{}`)}),e.code(i)}):e.func(t,(0,u._)`${d.default.data}, ${(n=s,(0,u._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${n.dynamicRef?(0,u._)`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`)}`,a.$async,()=>e.code(y(r,s)).code(i))}function y(e,t){let r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,u._)`/*# sourceURL=${r} */`:u.nil}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function g(e){(0,m.checkUnknownRules)(e),function(e){let{schema:t,errSchemaPath:r,opts:a,self:s}=e;t.$ref&&a.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function $(e,t){if(e.opts.jtd)return k(e,[],!1,t);let r=(0,s.getSchemaTypes)(e.schema),a=(0,s.coerceAndCheckDataType)(e,r);k(e,r,!a,t)}function _({gen:e,schemaEnv:t,schema:r,errSchemaPath:a,opts:s}){let i=r.$comment;if(!0===s.$comment)e.code((0,u._)`${d.default.self}.logger.log(${i})`);else if("function"==typeof s.$comment){let r=(0,u.str)`${a}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,u._)`${d.default.self}.opts.$comment(${i}, ${r}, ${s}.schema)`)}}function k(e,t,r,a){var s,o,l,c;let{gen:p,schema:f,data:h,allErrors:y,opts:v,self:b}=e,{RULES:g}=b;if(f.$ref&&(v.ignoreKeywordsWithRef||!(0,m.schemaHasRulesButRef)(f,g)))return void p.block(()=>S(e,"$ref",g.all.$ref.definition));function $(s){(0,i.shouldUseGroup)(f,s)&&(s.type?(p.if((0,n.checkDataType)(s.type,h,v.strictNumbers)),E(e,s),1===t.length&&t[0]===s.type&&r&&(p.else(),(0,n.reportTypeError)(e)),p.endIf()):E(e,s),y||p.if((0,u._)`${d.default.errors} === ${a||0}`))}v.jtd||(s=e,o=t,!s.schemaEnv.meta&&s.opts.strictTypes&&(function(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(t=>{O(e.dataTypes,t)||w(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),function(e,t){let r=[];for(let a of e.dataTypes)O(t,a)?r.push(a):t.includes("integer")&&"number"===a&&r.push("integer");e.dataTypes=r}(e,t)}}(s,o),s.opts.allowUnionTypes||(l=s,(c=o).length>1&&!(2===c.length&&c.includes("null"))&&w(l,"use allowUnionTypes to allow union type keyword")),function(e,t){let r=e.self.RULES.all;for(let a in r){let s=r[a];if("object"==typeof s&&(0,i.shouldUseRule)(e.schema,s)){let{type:r}=s.definition;r.length&&!r.some(e=>{var r,a;return r=t,a=e,r.includes(a)||"number"===a&&r.includes("integer")})&&w(e,`missing type "${r.join(",")}" for keyword "${a}"`)}}}(s,s.dataTypes))),p.block(()=>{for(let e of g.rules)$(e);$(g.post)})}function E(e,t){let{gen:r,schema:a,opts:{useDefaults:s}}=e;s&&(0,o.assignDefaults)(e,t.type),r.block(()=>{for(let r of t.rules)(0,i.shouldUseRule)(a,r)&&S(e,r.keyword,r.definition,t.type)})}function O(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function w(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,m.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){if(b(e)&&(g(e),v(e)))return void function(e){let{schema:t,opts:r,gen:a}=e;h(e,()=>{r.$comment&&t.$comment&&_(e),function(e){let{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,m.checkStrictMode)(e,"default is ignored in the schema root")}(e),a.let(d.default.vErrors,null),a.let(d.default.errors,0),r.unevaluated&&function(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,u._)`${r}.evaluated`),t.if((0,u._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,u._)`${e.evaluated}.props`,(0,u._)`undefined`)),t.if((0,u._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,u._)`${e.evaluated}.items`,(0,u._)`undefined`))}(e),$(e),function(e){let{gen:t,schemaEnv:r,validateName:a,ValidationError:s,opts:i}=e;r.$async?t.if((0,u._)`${d.default.errors} === 0`,()=>t.return(d.default.data),()=>t.throw((0,u._)`new ${s}(${d.default.vErrors})`)):(t.assign((0,u._)`${a}.errors`,d.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:r,items:a}){r instanceof u.Name&&e.assign((0,u._)`${t}.props`,r),a instanceof u.Name&&e.assign((0,u._)`${t}.items`,a)}(e),t.return((0,u._)`${d.default.errors} === 0`))}(e)})}(e);h(e,()=>(0,a.topBoolOrEmptySchema)(e))};class P{constructor(e,t,r){if((0,l.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",R(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,r){this.failResult((0,u.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,u._)`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=u.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=u.nil,t=u.nil){if(!this.$data)return;let{gen:r,schemaCode:a,schemaType:s,def:i}=this;r.if((0,u.or)((0,u._)`${a} === undefined`,t)),e!==u.nil&&r.assign(e,!0),(s.length||i.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&r.assign(e,!1)),r.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:r,def:a,it:s}=this;return(0,u.or)(function(){if(r.length){if(!(t instanceof u.Name))throw Error("ajv implementation error");let e=Array.isArray(r)?r:[r];return(0,u._)`${(0,n.checkDataTypes)(e,t,s.opts.strictNumbers,n.DataType.Wrong)}`}return u.nil}(),function(){if(a.validateSchema){let r=e.scopeValue("validate$data",{ref:a.validateSchema});return(0,u._)`!${r}(${t})`}return u.nil}())}subschema(e,t){let r=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(r,this.it,e),(0,c.extendSubschemaMode)(r,e);let s={...this.it,...r,items:void 0,props:void 0};return!function(e,t){if(b(e)&&(g(e),v(e))){var r=e,s=t;let{schema:a,gen:i,opts:n}=r;n.$comment&&a.$comment&&_(r),function(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,p.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(r),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw Error("async schema in sync schema")}(r);let o=i.const("_errs",d.default.errors);$(r,o),i.var(s,(0,u._)`${o} === ${d.default.errors}`);return}(0,a.boolOrEmptySchema)(e,t)}(s,t),s}mergeEvaluated(e,t){let{it:r,gen:a}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=m.mergeEvaluated.props(a,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=m.mergeEvaluated.items(a,e.items,r.items,t)))}mergeValidEvaluated(e,t){let{it:r,gen:a}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return a.if(t,()=>this.mergeEvaluated(e,u.Name)),!0}}function S(e,t,r,a){let s=new P(e,r,t);"code"in r?r.code(s,a):s.$data&&r.validate?(0,l.funcKeywordCode)(s,r):"macro"in r?(0,l.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,l.funcKeywordCode)(s,r)}t.KeywordCxt=P;let j=/^\/(?:[^~]|~0|~1)*$/,N=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function R(e,{dataLevel:t,dataNames:r,dataPathArr:a}){let s,i;if(""===e)return d.default.rootData;if("/"===e[0]){if(!j.test(e))throw Error(`Invalid JSON-pointer: ${e}`);s=e,i=d.default.rootData}else{let n=N.exec(e);if(!n)throw Error(`Invalid JSON-pointer: ${e}`);let l=+n[1];if("#"===(s=n[2])){if(l>=t)throw Error(o("property/index",l));return a[t-l]}if(l>t)throw Error(o("data",l));if(i=r[t-l],!s)return i}let n=i;for(let e of s.split("/"))e&&(i=(0,u._)`${i}${(0,u.getProperty)((0,m.unescapeJsonPointer)(e))}`,n=(0,u._)`${n} && ${i}`);return n;function o(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=R},90578:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(79969),s=r(29358),i=r(89931),n=r(16037),o=r(27247),l=r(1008),c="errorMessage",u=new a.Name("emUsed"),d={required:"missingProperty",dependencies:"property",dependentRequired:"property"},p=/\$\{[^}]+\}/,m=/\$\{([^}]+)\}/g,f=/^""\s*\+\s*|\s*\+\s*""$/g,h=(e,t={})=>{if(!e.opts.allErrors)throw Error("ajv-errors: Ajv option allErrors must be true");if(e.opts.jsPropertySyntax)throw Error("ajv-errors: ajv option jsPropertySyntax is not supported");return e.addKeyword(function(e){return{keyword:c,schemaType:["string","object"],post:!0,code(t){let{gen:r,data:h,schema:y,schemaValue:v,it:b}=t;if(!1===b.createErrors)return;let g=s.strConcat(l.default.instancePath,b.errorPath);function $(e,t){return s.and(a._`${e}.keyword !== ${c}`,a._`!${e}.${u}`,a._`${e}.instancePath === ${g}`,a._`${e}.keyword in ${t}`,a._`${e}.schemaPath.indexOf(${b.errSchemaPath}) === 0`,a._`/^\\/[^\\/]*$/.test(${e}.schemaPath.slice(${b.errSchemaPath.length}))`)}function _(e,t){let s=[];for(let r in e){var i;let e=t[r];p.test(e)&&s.push([r,(i=e,a._`function(){return ${k(i)}}`)])}return r.object(...s)}function k(e){return p.test(e)?new i._Code(i.safeStringify(e).replace(m,(e,t)=>`" + JSON.stringify(${n.getData(t,b)}) + "`).replace(f,"")):a.stringify(e)}r.if(a._`${l.default.errors} > 0`,()=>{if("object"==typeof y){let[i,n]=function(e){let t,r;for(let a in e){if("properties"===a||"items"===a)continue;let s=e[a];if("object"==typeof s){t||(t={});let e=t[a]={};for(let t in s)e[t]=[]}else r||(r={}),r[a]=[]}return[t,r]}(y);n&&function(s){let i=r.const("emErrors",a.stringify(s)),n=r.const("templates",_(s,y));r.forOf("err",l.default.vErrors,e=>r.if($(e,i),()=>r.code(a._`${i}[${e}.keyword].push(${e})`).assign(a._`${e}.${u}`,!0)));let{singleError:c}=e;if(c){let e=r.let("message",a._`""`),s=r.let("paramsErrors",a._`[]`);d(t=>{r.if(e,()=>r.code(a._`${e} += ${"string"==typeof c?c:";"}`)),r.code(a._`${e} += ${p(t)}`),r.assign(s,a._`${s}.concat(${i}[${t}])`)}),o.reportError(t,{message:e,params:a._`{errors: ${s}}`})}else d(e=>o.reportError(t,{message:p(e),params:a._`{errors: ${i}[${e}]}`}));function d(e){r.forIn("key",i,t=>r.if(a._`${i}[${t}].length`,()=>e(t)))}function p(e){return a._`${e} in ${n} ? ${n}[${e}]() : ${v}[${e}]`}}(n),i&&function(e){let s=r.const("emErrors",a.stringify(e)),i=[];for(let t in e)i.push([t,_(e[t],y[t])]);let n=r.const("templates",r.object(...i)),c=r.scopeValue("obj",{ref:d,code:a.stringify(d)}),p=r.let("emPropParams"),m=r.let("emParamsErrors");r.forOf("err",l.default.vErrors,e=>r.if($(e,s),()=>{r.assign(p,a._`${c}[${e}.keyword]`),r.assign(m,a._`${s}[${e}.keyword][${e}.params[${p}]]`),r.if(m,()=>r.code(a._`${m}.push(${e})`).assign(a._`${e}.${u}`,!0))})),r.forIn("key",s,e=>r.forIn("keyProp",a._`${s}[${e}]`,i=>{r.assign(m,a._`${s}[${e}][${i}]`),r.if(a._`${m}.length`,()=>{let s=r.const("tmpl",a._`${n}[${e}] && ${n}[${e}][${i}]`);o.reportError(t,{message:a._`${s} ? ${s}() : ${v}[${e}][${i}]`,params:a._`{errors: ${m}}`})})}))}(i),function(e){let i,n,{props:d,items:p}=e;if(!d&&!p)return;let m=a._`typeof ${h} == "object"`,f=a._`Array.isArray(${h})`,b=r.let("emErrors"),$=r.let("templates");function k(e,t){r.assign(b,a.stringify(e)),r.assign($,_(e,t))}d&&p?(i=r.let("emChildKwd"),r.if(m),r.if(f,()=>{k(p,y.items),r.assign(i,a.str`items`)},()=>{k(d,y.properties),r.assign(i,a.str`properties`)}),n=a._`[${i}]`):p?(r.if(f),k(p,y.items),n=a._`.items`):d&&(r.if(s.and(m,s.not(f))),k(d,y.properties),n=a._`.properties`),r.forOf("err",l.default.vErrors,e=>{var t,i,n;return t=e,i=b,n=t=>r.code(a._`${b}[${t}].push(${e})`).assign(a._`${e}.${u}`,!0),void r.if(s.and(a._`${t}.keyword !== ${c}`,a._`!${t}.${u}`,a._`${t}.instancePath.indexOf(${g}) === 0`),()=>{let e=r.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:a._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),s=r.const("emMatches",a._`${e}.exec(${t}.instancePath.slice(${g}.length))`),o=r.const("emChild",a._`${s} && ${s}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);r.if(a._`${o} !== undefined && ${o} in ${i}`,()=>n(o))})}),r.forIn("key",b,e=>r.if(a._`${b}[${e}].length`,()=>{o.reportError(t,{message:a._`${e} in ${$} ? ${$}[${e}]() : ${v}${n}[${e}]`,params:a._`{errors: ${b}[${e}]}`}),r.assign(a._`${l.default.vErrors}[${l.default.errors}-1].instancePath`,a._`${g} + "/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),r.endIf()}(function({properties:e,items:t}){let r={};if(e)for(let t in r.props={},e)r.props[t]=[];if(t){r.items={};for(let e=0;e<t.length;e++)r.items[e]=[]}return r}(y))}let i="string"==typeof y?y:y._;i&&function(e){let i=r.const("emErrs",a._`[]`);r.forOf("err",l.default.vErrors,e=>{var t;return r.if((t=e,s.and(a._`${t}.keyword !== ${c}`,a._`!${t}.${u}`,s.or(a._`${t}.instancePath === ${g}`,s.and(a._`${t}.instancePath.indexOf(${g}) === 0`,a._`${t}.instancePath[${g}.length] === "/"`)),a._`${t}.schemaPath.indexOf(${b.errSchemaPath}) === 0`,a._`${t}.schemaPath[${b.errSchemaPath}.length] === "/"`)),()=>r.code(a._`${i}.push(${e})`).assign(a._`${e}.${u}`,!0))}),r.if(a._`${i}.length`,()=>o.reportError(t,{message:k(e),params:a._`{errors: ${i}}`}))}(i),e.keepErrors||function(){let e=r.const("emErrs",a._`[]`);r.forOf("err",l.default.vErrors,t=>r.if(a._`!${t}.${u}`,()=>r.code(a._`${e}.push(${t})`))),r.assign(l.default.vErrors,e).assign(l.default.errors,a._`${e}.length`)}()})},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}(t))};t.default=h,e.exports=h,e.exports.default=h},90787:e=>{"use strict";var t=e.exports=function(e,r,a){"function"==typeof r&&(a=r,r={});var s="function"==typeof(a=r.cb||a)?a:a.pre||function(){};!function e(r,a,s,i,n,o,l,c,u,d){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var p in a(i,n,o,l,c,u,d),i){var m=i[p];if(Array.isArray(m)){if(p in t.arrayKeywords)for(var f=0;f<m.length;f++)e(r,a,s,m[f],n+"/"+p+"/"+f,o,n,p,i,f)}else if(p in t.propsKeywords){if(m&&"object"==typeof m)for(var h in m)e(r,a,s,m[h],n+"/"+p+"/"+h.replace(/~/g,"~0").replace(/\//g,"~1"),o,n,p,i,h)}else(p in t.keywords||r.allKeys&&!(p in t.skipKeywords))&&e(r,a,s,m,n+"/"+p,o,n,p,i)}s(i,n,o,l,c,u,d)}}(r,s,a.post||function(){},e,"",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},91202:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},91370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(19129),s=r(84518),i=r(17617);t.default=[a.default,s.default,i.default]},91527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(84539),s=r(48492),i=r(36132),n=new i.Name("fullFormats"),o=new i.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return c(e,t,a.fullFormats,n),e;let[r,i]="fast"===t.mode?[a.fastFormats,o]:[a.fullFormats,n];return c(e,t.formats||a.formatNames,r,i),t.keywords&&(0,s.default)(e),e};function c(e,t,r,a){var s;for(let n of(null!=(s=e.opts.code).formats||(s.formats=(0,i._)`require("ajv-formats/dist/formats").${a}`),t))e.addFormat(n,r[n])}l.get=(e,t="full")=>{let r=("fast"===t?a.fastFormats:a.fullFormats)[e];if(!r)throw Error(`Unknown format "${e}"`);return r},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},92636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;let a=r(46584),s=r(51616),i=r(63405),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!function e(t){for(let r in t){if(o.has(r))return!0;let a=t[r];if(Array.isArray(a)&&a.some(e)||"object"==typeof a&&e(a))return!0}return!1}(e):!!t&&function e(t){let r=0;for(let s in t)if("$ref"===s||(r++,!n.has(s)&&("object"==typeof t[s]&&(0,a.eachItem)(t[s],t=>r+=e(t)),r===1/0)))return 1/0;return r}(e)<=t)};let o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e,t="",r){!1!==r&&(t=d(t));let a=e.parse(t);return c(e,a)}function c(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=c;let u=/#\/?$/;function d(e){return e?e.replace(u,""):""}t.normalizeId=d,t.resolveUrl=function(e,t,r){return r=d(r),e.resolve(t,r)};let p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};let{schemaId:r,uriResolver:a}=this.opts,n=d(e[r]||t),o={"":n},c=l(a,n,!1),u={},m=new Set;return i(e,{allKeys:!0},(e,t,a,s)=>{if(void 0===s)return;let i=c+t,n=o[s];function l(t){let r=this.opts.uriResolver.resolve;if(t=d(n?r(n,t):t),m.has(t))throw h(t);m.add(t);let a=this.refs[t];return"string"==typeof a&&(a=this.refs[a]),"object"==typeof a?f(e,a.schema,t):t!==d(i)&&("#"===t[0]?(f(e,u[t],t),u[t]=e):this.refs[t]=i),t}function y(e){if("string"==typeof e){if(!p.test(e))throw Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[r]&&(n=l.call(this,e[r])),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),o[t]=n}),u;function f(e,t,r){if(void 0!==t&&!s(e,t))throw h(r)}function h(e){return Error(`reference "${e}" resolves to more than one schema`)}}},93581:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+="nemůže m\xedt v\xedc, než "+t+" prv",t>=2&&t<=4?e+="ky":1!=t?e+="ek":e+="ků";break;case"additionalProperties":e="nemůže m\xedt dalš\xed položky";break;case"anyOf":e='mus\xed vyhovět alespoň jednomu sch\xe9matu v "anyOf"';break;case"const":e="mus\xed b\xfdt roven konstantě";break;case"contains":e="mus\xed obsahovat prvek odpov\xeddaj\xedc\xed sch\xe9matu";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="mus\xed m\xedt polož",t>=2&&t<=4?e+="ky":1!=t?e+="ek":e+="ka",e+=": "+r.params.deps+", pokud obsahuje "+r.params.property;break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='mus\xed vyhovět "'+r.keyword+'" validaci'}break;case"enum":e="mus\xed b\xfdt rovno jedn\xe9 hodnotě z v\xfdčtu";break;case"false schema":e="sch\xe9ma je false";break;case"format":e='mus\xed b\xfdt ve form\xe1tu "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="mus\xed b\xfdt "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='mus\xed vyhovět "'+r.params.failingKeyword+'" sch\xe9matu';break;case"maxItems":e="";var t=r.params.limit;e+="nesm\xed obsahovat v\xedc než "+t+" prv",t>=2&&t<=4?e+="ky":1!=t?e+="ek":e+="ků";break;case"maxLength":e="";var t=r.params.limit;e+="nesm\xed b\xfdt delš\xed než "+t+" zna",t>=2&&t<=4?e+="ky":1!=t?e+="k":e+="ků";break;case"maxProperties":e="";var t=r.params.limit;e+="nesm\xed m\xedt v\xedc než "+t+" polož",t>=2&&t<=4?e+="ky":1!=t?e+="ek":e+="ka";break;case"minItems":e="";var t=r.params.limit;e+="nesm\xed obsahovat m\xe9ně než "+t+" prv",t>=2&&t<=4?e+="ky":1!=t?e+="ek":e+="ků";break;case"minLength":e="";var t=r.params.limit;e+="nesm\xed b\xfdt kratš\xed než "+t+" zna",t>=2&&t<=4?e+="ky":1!=t?e+="k":e+="ků";break;case"minProperties":e="";var t=r.params.limit;e+="nesm\xed m\xedt m\xe9ně než "+t+" polož",t>=2&&t<=4?e+="ky":1!=t?e+="ek":e+="ka";break;case"multipleOf":e="mus\xed b\xfdt n\xe1sobkem "+r.params.multipleOf;break;case"not":e='nesm\xed vyhovět sch\xe9matu v "not"';break;case"oneOf":e='mus\xed vyhovět pr\xe1vě jednomu sch\xe9matu v "oneOf"';break;case"pattern":e='mus\xed vyhovět regul\xe1rn\xedmu v\xfdrazu "'+r.params.pattern+'"';break;case"patternRequired":e='mus\xed obsahovat položku vyhovuj\xedc\xed regul\xe1rn\xedmu v\xfdrazu "'+r.params.missingPattern+'"';break;case"propertyNames":e="n\xe1zev položky nen\xed platn\xfd";break;case"required":e="mus\xed obsahovat požadovanou položku "+r.params.missingProperty;break;case"type":e="mus\xed b\xfdt "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="nesm\xed obsahovat duplicitn\xed prvky (prvky ## "+r.params.j+" a "+r.params.i+" jsou identick\xe9)";break;default:e='mus\xed vyhovět "'+r.keyword+'" validaci'}r.message=e}}},93913:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(45014),s=r(15948);t.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",a.default,s.default]},94075:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+="no debe tener m\xe1s de "+t+" elemento",1!=t&&(e+="s");break;case"additionalProperties":e="no debe tener propiedades adicionales";break;case"anyOf":e='debe coincidir con alg\xfan esquema en "anyOf"';break;case"const":e="debe ser igual a la constante";break;case"contains":e="debe contener un elemento v\xe1lido";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+="debe contener la",1!=t&&(e+="s"),e+=" propiedad",1!=t&&(e+="es"),e+=" "+r.params.deps+" cuando la propiedad "+r.params.property+" se encuentra presente";break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='debe pasar la validaci\xf3n de palabra clave "'+r.keyword+'"'}break;case"enum":e="deber ser igual a uno de los valores predefinidos";break;case"false schema":e="el esquema \xe9s falso";break;case"format":e='debe coincidir con el formato "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="debe ser "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='debe corresponderse con el esquema "'+r.params.failingKeyword+'"';break;case"maxItems":e="";var t=r.params.limit;e+="no debe contener m\xe1s de "+t+" elemento",1!=t&&(e+="s");break;case"maxLength":e="";var t=r.params.limit;e+="no debe contener m\xe1s de "+t+" caracter",1!=t&&(e+="es");break;case"maxProperties":e="";var t=r.params.limit;e+="no debe contener m\xe1s de "+t+" propiedad",1!=t&&(e+="es");break;case"minItems":e="";var t=r.params.limit;e+="no debe contener menos de "+t+" elemento",1!=t&&(e+="s");break;case"minLength":e="";var t=r.params.limit;e+="no debe contener menos de "+t+" caracter",1!=t&&(e+="es");break;case"minProperties":e="";var t=r.params.limit;e+="no debe contener menos de "+t+" propiedad",1!=t&&(e+="es");break;case"multipleOf":e="debe ser m\xfaltiplo de "+r.params.multipleOf;break;case"not":e='no debe ser v\xe1lido seg\xfan el esquema en "not"';break;case"oneOf":e='debe coincidir con un solo esquema en "oneOf"';break;case"pattern":e='debe coincidir con el patron "'+r.params.pattern+'"';break;case"patternRequired":e='la propiedad debe coincidir con el patr\xf3n "'+r.params.missingPattern+'"';break;case"propertyNames":e="la propiedad no \xe9s v\xe1lida";break;case"required":e="debe tener la propiedad requerida "+r.params.missingProperty;break;case"type":e="debe ser "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="no debe contener elementos duplicados, (los elementos ## "+r.params.j+" y "+r.params.i+" son id\xe9nticos)";break;default:e='debe pasar la validaci\xf3n de palabra clave "'+r.keyword+'"'}r.message=e}}},94176:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(29358),s=r(46584);function i(e,t){let r=e.schema[t];return void 0!==r&&!(0,s.alwaysValidSchema)(e,r)}t.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,a.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,a._)`{failingKeyword: ${e.ifClause}}`},code(e){let{gen:t,parentSchema:r,it:n}=e;void 0===r.then&&void 0===r.else&&(0,s.checkStrictMode)(n,'"if" without "then" and "else" is ignored');let o=i(n,"then"),l=i(n,"else");if(!o&&!l)return;let c=t.let("valid",!0),u=t.name("_valid");if(function(){let t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),o&&l){let r=t.let("ifClause");e.setParams({ifClause:r}),t.if(u,d("then",r),d("else",r))}else o?t.if(u,d("then")):t.if((0,a.not)(u),d("else"));function d(r,s){return()=>{let i=e.subschema({keyword:r},u);t.assign(c,u),e.mergeValidEvaluated(i,c),s?t.assign(s,(0,a._)`${r}`):e.setParams({ifClause:r})}}e.pass(c,()=>e.error(!0))}}},94412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},94737:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;let s=r(8629),i=r(74062),n=r(88909),o=r(36132),l=r(35154);function c(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(s.isJSONType))return t;throw Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(a||(t.DataType=a={})),t.getSchemaTypes=function(e){let t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){var r,s;let{gen:n,data:l,opts:c}=e,d=(r=t,(s=c.coerceTypes)?r.filter(e=>u.has(e)||"array"===s&&"array"===e):[]),m=t.length>0&&!(0===d.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(m){let r=p(t,l,c.strictNumbers,a.Wrong);n.if(r,()=>{d.length?function(e,t,r){let{gen:a,data:s,opts:i}=e,n=a.let("dataType",(0,o._)`typeof ${s}`),l=a.let("coerced",(0,o._)`undefined`);for(let e of("array"===i.coerceTypes&&a.if((0,o._)`${n} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>a.assign(s,(0,o._)`${s}[0]`).assign(n,(0,o._)`typeof ${s}`).if(p(t,s,i.strictNumbers),()=>a.assign(l,s))),a.if((0,o._)`${l} !== undefined`),r))(u.has(e)||"array"===e&&"array"===i.coerceTypes)&&function(e){switch(e){case"string":a.elseIf((0,o._)`${n} == "number" || ${n} == "boolean"`).assign(l,(0,o._)`"" + ${s}`).elseIf((0,o._)`${s} === null`).assign(l,(0,o._)`""`);return;case"number":a.elseIf((0,o._)`${n} == "boolean" || ${s} === null
              || (${n} == "string" && ${s} && ${s} == +${s})`).assign(l,(0,o._)`+${s}`);return;case"integer":a.elseIf((0,o._)`${n} === "boolean" || ${s} === null
              || (${n} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,(0,o._)`+${s}`);return;case"boolean":a.elseIf((0,o._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf((0,o._)`${s} === "true" || ${s} === 1`).assign(l,!0);return;case"null":a.elseIf((0,o._)`${s} === "" || ${s} === 0 || ${s} === false`),a.assign(l,null);return;case"array":a.elseIf((0,o._)`${n} === "string" || ${n} === "number"
              || ${n} === "boolean" || ${s} === null`).assign(l,(0,o._)`[${s}]`)}}(e);a.else(),f(e),a.endIf(),a.if((0,o._)`${l} !== undefined`,()=>{a.assign(s,l),function({gen:e,parentData:t,parentDataProperty:r},a){e.if((0,o._)`${t} !== undefined`,()=>e.assign((0,o._)`${t}[${r}]`,a))}(e,l)})}(e,t,d):f(e)})}return m};let u=new Set(["string","number","integer","boolean","null"]);function d(e,t,r,s=a.Correct){let i,n=s===a.Correct?o.operators.EQ:o.operators.NEQ;switch(e){case"null":return(0,o._)`${t} ${n} null`;case"array":i=(0,o._)`Array.isArray(${t})`;break;case"object":i=(0,o._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=l((0,o._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=l();break;default:return(0,o._)`typeof ${t} ${n} ${e}`}return s===a.Correct?i:(0,o.not)(i);function l(e=o.nil){return(0,o.and)((0,o._)`typeof ${t} == "number"`,e,r?(0,o._)`isFinite(${t})`:o.nil)}}function p(e,t,r,a){let s;if(1===e.length)return d(e[0],t,r,a);let i=(0,l.toHash)(e);if(i.array&&i.object){let e=(0,o._)`typeof ${t} != "object"`;s=i.null?e:(0,o._)`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else s=o.nil;for(let e in i.number&&delete i.integer,i)s=(0,o.and)(s,d(e,t,r,a));return s}t.checkDataType=d,t.checkDataTypes=p;let m={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?(0,o._)`{type: ${e}}`:(0,o._)`{type: ${t}}`};function f(e){let t=function(e){let{gen:t,data:r,schema:a}=e,s=(0,l.schemaRefOrVal)(e,a,"type");return{gen:t,keyword:"type",data:r,schema:a.type,schemaCode:s,schemaValue:s,parentSchema:a,params:{},it:e}}(e);(0,n.reportError)(t,m)}t.reportTypeError=f},95022:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let a of e){let e;switch(a.keyword){case"additionalItems":case"items":e="";var t=a.params.limit;e+="borde ha fler \xe4n "+t+" sak",1!=t&&(e+="er");break;case"additionalProperties":e="borde inte ha fler egenskaper";break;case"anyOf":e='borde matcha n\xe5got schema i "anyOf"';break;case"const":e="b\xf6r vara en konstant";break;case"contains":e="b\xf6r inneh\xe5lla ett giltigt objekt";break;case"dependencies":case"dependentRequired":e="";var t=a.params.depsCount;e+="borde ha egenskap",1!=t&&(e+="er"),e+=" "+a.params.deps+" n\xe4r egenskap "+a.params.property+" finns tillg\xe4ngligt";break;case"discriminator":switch(a.params.error){case"tag":e='tag "'+a.params.tag+'" must be string';break;case"mapping":e='value of tag "'+a.params.tag+'" must be in oneOf';break;default:e='b\xf6r passera "'+a.keyword+'" nyckelord validering'}break;case"enum":e="borde vara ekvivalent med en av dess f\xf6rdefinierade v\xe4rden";break;case"false schema":e="boolean schema \xe4r falskt";break;case"format":e='borde matcha formatet "'+a.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="b\xf6r vara "+r;break;case"if":e='must match "'+a.params.failingKeyword+'" schema';break;case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="";var r=a.params.comparison+" "+a.params.limit;e+="borde vara "+r;break;case"maxItems":e="";var t=a.params.limit;e+="borde inte ha fler \xe4n "+t+" sak",1!=t&&(e+="er");break;case"maxLength":e="";var t=a.params.limit;e+="borde inte vara l\xe4ngre \xe4n "+t+" tecken";break;case"maxProperties":e="";var t=a.params.limit;e+="borde inte ha fler \xe4n "+t+" egenskap",1!=t&&(e+="er");break;case"minItems":e="";var t=a.params.limit;e+="borde inte ha f\xe4rre \xe4n "+t+" sak",1!=t&&(e+="er");break;case"minLength":e="";var t=a.params.limit;e+="borde inte vara kortare \xe4n "+t+" tecken";break;case"minProperties":e="";var t=a.params.limit;e+="borde inte ha f\xe4rre \xe4n "+t+" egenskap",1!=t&&(e+="er");break;case"multipleOf":e="borde vara en multipel av "+a.params.multipleOf;break;case"not":e='borde inte vara giltigt enligt schema i "not"';break;case"oneOf":e='borde matcha exakt ett schema i "oneOf"';break;case"pattern":e='borde matcha m\xf6nstret "'+a.params.pattern+'"';break;case"patternRequired":e='b\xf6r ha en egenskap som matchar m\xf6nstret "'+a.params.missingPattern+'"';break;case"propertyNames":e="egenskap med namnet \xe4r inte giltig";break;case"required":e="borde ha den n\xf6dv\xe4ndiga egenskapen "+a.params.missingProperty;break;case"type":e="borde vara "+a.params.type;break;case"unevaluatedItems":e="";var t=a.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="borde inte ha duplicerade saker (sakerna ## "+a.params.j+" och "+a.params.i+" \xe4r identiska)";break;default:e='b\xf6r passera "'+a.keyword+'" nyckelord validering'}a.message=e}}},95316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;let a=r(36132),s=r(35154),i=r(62878),n=r(35154);function o(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,a._)`Object.prototype.hasOwnProperty`})}function l(e,t,r){return(0,a._)`${o(e)}.call(${t}, ${r})`}function c(e,t,r,s){let i=(0,a._)`${t}${(0,a.getProperty)(r)} === undefined`;return s?(0,a.or)(i,(0,a.not)(l(e,t,r))):i}function u(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}t.checkReportMissingProp=function(e,t){let{gen:r,data:s,it:i}=e;r.if(c(r,s,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,a._)`${t}`},!0),e.error()})},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},s,i){return(0,a.or)(...s.map(s=>(0,a.and)(c(e,t,s,r.ownProperties),(0,a._)`${i} = ${s}`)))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=o,t.isOwnProperty=l,t.propertyInData=function(e,t,r,s){let i=(0,a._)`${t}${(0,a.getProperty)(r)} !== undefined`;return s?(0,a._)`${i} && ${l(e,t,r)}`:i},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter(r=>!(0,s.alwaysValidSchema)(e,t[r]))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:o},it:l},c,u,d){let p=d?(0,a._)`${e}, ${t}, ${s}${n}`:t,m=[[i.default.instancePath,(0,a.strConcat)(i.default.instancePath,o)],[i.default.parentData,l.parentData],[i.default.parentDataProperty,l.parentDataProperty],[i.default.rootData,i.default.rootData]];l.opts.dynamicRef&&m.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);let f=(0,a._)`${p}, ${r.object(...m)}`;return u!==a.nil?(0,a._)`${c}.call(${u}, ${f})`:(0,a._)`${c}(${f})`};let d=(0,a._)`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},r){let s=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,s);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,a._)`${"new RegExp"===i.code?d:(0,n.useFunc)(e,i)}(${r}, ${s})`})},t.validateArray=function(e){let{gen:t,data:r,keyword:i,it:n}=e,o=t.name("valid");if(n.allErrors){let e=t.let("valid",!0);return l(()=>t.assign(e,!1)),e}return t.var(o,!0),l(()=>t.break()),o;function l(n){let l=t.const("len",(0,a._)`${r}.length`);t.forRange("i",0,l,r=>{e.subschema({keyword:i,dataProp:r,dataPropType:s.Type.Num},o),t.if((0,a.not)(o),n)})}},t.validateUnion=function(e){let{gen:t,schema:r,keyword:i,it:n}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(r.some(e=>(0,s.alwaysValidSchema)(n,e))&&!n.opts.unevaluated)return;let o=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((r,s)=>{let n=e.subschema({keyword:i,schemaProp:s,compositeRule:!0},l);t.assign(o,(0,a._)`${o} || ${l}`),e.mergeValidEvaluated(n,l)||t.if((0,a.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}},96127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(35154),i=r(95316),n=r(3552);t.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){let{schema:t,parentSchema:r,it:a}=e,{prefixItems:o}=r;a.items=!0,(0,s.alwaysValidSchema)(a,t)||(o?(0,n.validateAdditionalItems)(e,o):e.ok((0,i.validateArray)(e)))}}},96189:e=>{"use strict";let t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function a(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function s(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function i(e){let t="https"===String(e.scheme).toLowerCase();return(e.port===(t?443:80)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}let n={scheme:"http",domainHost:!0,parse:s,serialize:i},o={scheme:"https",domainHost:n.domainHost,parse:s,serialize:i},l={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=a(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){if((e.port===(a(e)?443:80)||""===e.port)&&(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}},c={scheme:"wss",domainHost:l.domainHost,parse:l.parse,serialize:l.serialize},u={http:n,https:o,ws:l,wss:c,urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;let a=e.path.match(r);if(a){let r=t.scheme||e.scheme||"urn";e.nid=a[1].toLowerCase(),e.nss=a[2];let s=u[`${r}:${t.nid||e.nid}`];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){let r=t.scheme||e.scheme||"urn",a=e.nid.toLowerCase(),s=u[`${r}:${t.nid||a}`];s&&(e=s.serialize(e,t));let i=e,n=e.nss;return i.path=`${a||t.nid}:${n}`,t.skipEscape=!0,i},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,r){return e.uuid=e.nss,e.nss=void 0,r.tolerant||e.uuid&&t.test(e.uuid)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e){return e.nss=(e.uuid||"").toLowerCase(),e},skipNormalize:!0}};e.exports=u},96474:(e,t)=>{"use strict";function r(e,t){if(!e.startsWith("#/"))return void console.warn(`External references are not supported: ${e}`);let r=e.substring(1).split("/").filter(e=>""!==e),a=t;for(let t of r){let r=t.replace(/~1/g,"/").replace(/~0/g,"~");if(!a||"object"!=typeof a||!(r in a))return void console.warn(`Could not resolve reference: ${e}`);a=a[r]}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.inlineRefs=function(e,t){if(null==e)return e;if(Array.isArray(e))return e.map(e=>{if(e&&"object"==typeof e&&"$ref"in e&&"string"==typeof e.$ref){if(e.$ref.startsWith("#/components/schemas/"))return e;let a=r(e.$ref,t);if(void 0!==a){let{$ref:t,...r}=e;return Object.keys(r).length>0?{...a,...r}:a}}return e});if("object"!=typeof e)return e;if("$ref"in e&&"string"==typeof e.$ref){if(e.$ref.startsWith("#/components/schemas/"))return e;let a=r(e.$ref,t);if(void 0!==a){let{$ref:t,...r}=e;return Object.keys(r).length>0?{...a,...r}:a}}return e}},96505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;let a=r(29358),s=r(46584);function i(e,t,r){let{gen:i,compositeRule:n,data:o,opts:l}=e;if(void 0===r)return;let c=(0,a._)`${o}${(0,a.getProperty)(t)}`;if(n)return void(0,s.checkStrictMode)(e,`default is ignored for: ${c}`);let u=(0,a._)`${c} === undefined`;"empty"===l.useDefaults&&(u=(0,a._)`${u} || ${c} === null || ${c} === ""`),i.if(u,(0,a._)`${c} = ${(0,a.stringify)(r)}`)}t.assignDefaults=function(e,t){let{properties:r,items:a}=e.schema;if("object"===t&&r)for(let t in r)i(e,t,r[t].default);else"array"===t&&Array.isArray(a)&&a.forEach((t,r)=>i(e,r,t.default))}},97057:function(e,t,r){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withValidationLibrary=function({isForm:e,disableServerSideValidation:t,skipSchemaEmission:r,validateEachIteration:a,body:c,query:u,params:d,output:p,iteration:m,handle:f,toJSONSchema:h,validate:y}){let v=!1===t?[]:!0===t?l:t??[],b=!1===r?[]:!0===r?l:r??[],g=async(e,t)=>{let{__disableClientValidation:r}=e.vovk.meta(),n=await f(e,t);if(r)return n;if(p&&m)throw new s.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,"Output and iteration are mutually exclusive. You can't use them together.");if(p&&!v.includes("output")){if(!n)throw new s.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,"Output is required. You probably forgot to return something from your handler.");n=await y(n,p,{type:"output",req:e})??n}if(m&&!v.includes("iteration")){if(!n||"function"!=typeof n[Symbol.asyncIterator])throw new s.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,"Data is not an async iterable but iteration validation is defined.");return async function*(){let t=0;for await(let r of n)(a||0===t)&&(r=await y(r,m,{type:"iteration",req:e,status:200,i:t})??r),t++,yield r}()}if(a)throw new s.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,"validateEachIteration is set but iteration is not defined.");return n},$=async(t,r)=>{let{__disableClientValidation:a}=t.vovk.meta();if(!a){if(c&&!v.includes("body")){let r=await t.vovk[e?"form":"body"](),a=await y(r,c,{type:e?"form":"body",req:t})??r;t.json=()=>Promise.resolve(r),t.vovk[e?"form":"body"]=()=>Promise.resolve(a)}if(u&&!v.includes("query")){let e=t.vovk.query(),r=await y(e,u,{type:"query",req:t})??e;t.vovk.query=()=>r}if(d&&!v.includes("params")){let e=t.vovk.params(),r=await y(e,d,{type:"params",req:t})??e;t.vovk.params=()=>r}}return g(t,r)},_=Object.assign($,{fn:function(e){let t={vovk:{body:()=>Promise.resolve(e?.body??{}),query:()=>e?.query??{},params:()=>e?.params??{},meta:e=>(0,n.default)(t,e),form:()=>{throw Error("Form data is not supported in this context.")}}};return t.vovk.meta({__disableClientValidation:e?.disableClientValidation,...e?.meta}),($.wrapper??$)(t,e?.params??{})},models:{...void 0!==c?{body:c}:{},...void 0!==u?{query:u}:{},...void 0!==d?{params:d}:{},...void 0!==p?{output:p}:{},...void 0!==m?{iteration:m}:{}}});if(h){let t=(t,r)=>Object.assign(h(t,{type:r}),"body"===r&&e?{"x-formData":e}:{}),r={};c&&!b.includes("body")&&(r.body=t(c,"body")),u&&!b.includes("query")&&(r.query=t(u,"query")),d&&!b.includes("params")&&(r.params=t(d,"params")),p&&!b.includes("output")&&(r.output=t(p,"output")),m&&!b.includes("iteration")&&(r.iteration=t(m,"iteration")),(0,o.setHandlerSchema)(_,{validation:r})}return _};let s=r(56156),i=r(12784),n=a(r(84846)),o=r(28946),l=["body","query","params","output","iteration"]},97345:e=>{"use strict";e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},97833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openAPIToVovkSchema=function({apiRoot:e,source:{object:t},getModuleName:r="api",getMethodName:c="auto",errorMessageKey:u,package:d,mixinName:p}){let m=e??t.servers?.[0]?.url??("host"in t?`https://${t.host}${"basePath"in t?t.basePath:""}`:null);if(!m)throw Error("API root URL is required in OpenAPI configuration");let f={$schema:a.VovkSchemaIdEnum.SCHEMA,segments:{[p]:{$schema:a.VovkSchemaIdEnum.SEGMENT,emitSchema:!0,segmentName:p,segmentType:"mixin",controllers:{},meta:{components:t.components,package:Object.assign({},d,t.info?{description:d?.description??`**${t.info.title}**
${t.info.description??""}`}:{})}}}},h=f.segments[p];return r=(e=>{if("nestjs-operation-id"===e)e=({operationObject:e})=>l(e)[0];else if("string"==typeof e){let t=e;e=()=>t}else if("function"!=typeof e)throw Error("getModuleName must be a function or one of the predefined strings");return e})(r),c=(e=>{if("nestjs-operation-id"===e)e=({operationObject:e})=>l(e)[1];else if("camel-case-operation-id"===e)e=({operationObject:e})=>{let t=e.operationId;if(!t)throw Error("Operation ID is required for camel-case method name generation");return(0,i.camelCase)(t)};else if("auto"===e)e=({operationObject:e,method:t,path:r})=>{let a=e.operationId,n=a&&/^[a-z][a-zA-Z0-9]*$/.test(a),o=a&&/^[a-z][a-z0-9_]+$/.test(a);return n?a:o?(0,i.camelCase)(a):(0,s.generateFnName)(t,r)};else if("function"!=typeof e)throw Error("getMethodName must be a function or one of the predefined strings");return e})(c),Object.entries(t.paths??{}).reduce((e,[a,s])=>(Object.entries(s??{}).filter(([,e])=>e&&"object"==typeof e).forEach(([e,s])=>{let i=r({method:e.toUpperCase(),path:a,openAPIObject:t,operationObject:s}),l=c({method:e.toUpperCase(),path:a,openAPIObject:t,operationObject:s});h.controllers[i]??={forceApiRoot:m,rpcModuleName:i,handlers:{}};let d=(0,o.inlineRefs)(s.parameters??[],t),f=d.filter(e=>"query"===e.in)??null,y=d.filter(e=>"path"===e.in)??null,v=f?.length?{type:"object",properties:Object.fromEntries(f.map(e=>[e.name,e.schema])),required:f.filter(e=>e.required).map(e=>e.name)}:null,b=y?.length?{type:"object",properties:Object.fromEntries(y.map(e=>[e.name,e.schema])),required:y.filter(e=>e.required).map(e=>e.name)}:null,g=(0,o.inlineRefs)(s.requestBody,t)?.content??{},$=g["application/json"]?.schema??null,_=g["multipart/form-data"]?.schema??null,k=g["application/x-www-form-urlencoded"]?.schema??null;_&&k&&JSON.stringify(_)===JSON.stringify(k)&&(k=null),_&&Object.assign(_,{"x-formData":!0,"x-tsType":"FormData"}),k&&Object.assign(k,{"x-formData":!0,"x-tsType":"FormData"});let E=[$,_,k].filter(Boolean),O=E.length?1===E.length?E[0]:{anyOf:E}:null,w=s.responses?.["200"]?.content?.["application/json"]?.schema??s.responses?.["201"]?.content?.["application/json"]?.schema??null,P=s.responses?.["200"]?.content?.["application/jsonl"]?.schema??s.responses?.["201"]?.content?.["application/jsonl"]?.schema??s.responses?.["200"]?.content?.["application/jsonlines"]?.schema??s.responses?.["201"]?.content?.["application/jsonlines"]?.schema??null;u&&(s["x-errorMessageKey"]=u);let S=t.components?.schemas??("definitions"in t?t.definitions:{});h.controllers[i].handlers[l]={httpMethod:e.toUpperCase(),path:a,openapi:s,validation:{...v&&{query:(0,n.applyComponentsSchemas)(v,S,p)},...b&&{params:(0,n.applyComponentsSchemas)(b,S,p)},...O&&{body:(0,n.applyComponentsSchemas)(O,S,p)},...w&&{output:(0,n.applyComponentsSchemas)(w,S,p)},...P&&{iteration:(0,n.applyComponentsSchemas)(P,S,p)}}}}),e),f)};let a=r(72934),s=r(35724),i=r(3599),n=r(91),o=r(58224),l=e=>{let t=e.operationId;if(!t)throw Error("Operation ID is required for NestJS module name generation");let r=t?.match(/^([A-Z][a-zA-Z0-9]*)_([a-zA-Z0-9_]+)/);if(!r)throw Error(`Invalid operationId format for NestJS: ${t}`);let[a,s]=r.slice(1,3);return[a.replace(/Controller$/,"RPC"),s]}},98026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openAPIToVovkSchema=t.vovkSchemaToOpenAPI=t.openapi=t.openapiDecorator=void 0;let a=r(2212);Object.defineProperty(t,"vovkSchemaToOpenAPI",{enumerable:!0,get:function(){return a.vovkSchemaToOpenAPI}});let s=r(47311);Object.defineProperty(t,"openAPIToVovkSchema",{enumerable:!0,get:function(){return s.openAPIToVovkSchema}});let i=r(83560);t.openapiDecorator=(0,r(51214).createDecorator)(null,(e={})=>t=>({...t,openapi:{...t?.openapi,...e}})),t.openapi=Object.assign(t.openapiDecorator,{error:i.error})},98108:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":case"maxItems":e="";var t=r.params.limit;e+=" يجب أن لا يحوي أكثر من "+t+" عنصر";break;case"additionalProperties":e="يجب أن لا يحوي خصائص إضافية";break;case"anyOf":e='يجب أن يوافق أحد المخططات الموجودة في "anyOf"';break;case"const":e="يجب أن يكون ثابتاً";break;case"contains":e="يجب أن يحوي عنصرا صحيح";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+=" يجب أن يحوي الخصائص "+r.params.deps+" عندما تكون الخاصية "+r.params.property+" موجودة";break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='يجب أن تمرر كلمة التحقق المفتاحية "'+r.keyword+'"'}break;case"enum":e="قيمة هذا الحقل يجب أن تكون مساوية لأحد القيم المعرفة مسبقاً";break;case"false schema":e="المخطط المنطقي غير صحيح";break;case"format":e='يجب أن يوافق الصيغة "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e=" يجب أن يكون "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='يجب أن توافق المخطط "'+r.params.failingKeyword+'"';break;case"maxLength":e="";var t=r.params.limit;e+=" يجب أن لا يحوي أكثر من "+t+" محرف";break;case"maxProperties":e="";var t=r.params.limit;e+=" يجب أن لا يحوي أكثر من "+t+" خصائص";break;case"minItems":e="";var t=r.params.limit;e+=" يجب أن لا يحوي أقل من "+t+" عنصر";break;case"minLength":e="";var t=r.params.limit;e+=" يجب أن لا يحوي أقل من "+t+" محرف";break;case"minProperties":e="";var t=r.params.limit;e+=" يجب أن لا يحوي أقل من "+t+" خصائص";break;case"multipleOf":e=" يجب أن يحوي أكثر من "+r.params.multipleOf;break;case"not":e='يجب أن يكون غير صحيح وفقاً للمخطط "not"';break;case"oneOf":e='يجب أن يوافق مخطط واحد فقط موجود في "oneOf"';break;case"pattern":e='يجب أن يوافق النمط "'+r.params.pattern+'"';break;case"patternRequired":e='يجب أن يحوي خاصية توافق النمط "'+r.params.missingPattern+'"';break;case"propertyNames":e="اسم الخاصية غير صالح";break;case"required":e="هذا الحقل إلزامي";break;case"type":e="قيمة هذا الحقل غير صالحة";break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="يجب أن لا يحوي عناصر مكررة (العنصر ## "+r.params.j+" و "+r.params.i+" متطابقة)";break;default:e='يجب أن تمرر كلمة التحقق المفتاحية "'+r.keyword+'"'}r.message=e}}},98110:function(e,t,r){"use strict";var a,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VovkApp=void 0;let i=r(12784),n=r(56156),o=r(80199),l=s(r(79473)),c=s(r(84846)),u=s(r(18621));class d{static getHeadersFromOptions(e){return e?{...e.cors?{"access-control-allow-origin":"*","access-control-allow-methods":"GET, POST, PUT, DELETE, OPTIONS, HEAD","access-control-allow-headers":"content-type, authorization"}:{},...e.headers??{}}:{}}routes={GET:new Map,POST:new Map,PUT:new Map,PATCH:new Map,DELETE:new Map,HEAD:new Map,OPTIONS:new Map};GET=async(e,t)=>this.#e(i.HttpMethod.GET,e,await t.params);POST=async(e,t)=>this.#e(i.HttpMethod.POST,e,await t.params);PUT=async(e,t)=>this.#e(i.HttpMethod.PUT,e,await t.params);PATCH=async(e,t)=>this.#e(i.HttpMethod.PATCH,e,await t.params);DELETE=async(e,t)=>this.#e(i.HttpMethod.DELETE,e,await t.params);HEAD=async(e,t)=>this.#e(i.HttpMethod.HEAD,e,await t.params);OPTIONS=async(e,t)=>this.#e(i.HttpMethod.OPTIONS,e,await t.params);respond=(e,t,r)=>new Response(JSON.stringify(t),{status:e,headers:{"content-type":"application/json",...a.getHeadersFromOptions(r)}});#t=(e,t,r,a)=>this.respond(e,{cause:a,statusCode:e,message:t,isError:!0},r);#r=({handlers:e,path:t,params:r})=>{let a={};if(0===Object.keys(r).length)return{handler:e[""],methodParams:a};let s=Object.keys(e),o=[],l=t.join("/");if((o=s.filter(e=>!e.includes("{")&&e===l)).length||(o=s.filter(e=>{let r=e.split("/");if(r.length!==t.length)return!1;let s={};for(let a=0;a<r.length;a++){let o=r[a],l=t[a];if(o.includes("{")){let t=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\{(\w+)\\}/g,"(?<$1>[^/]+)"),r=l.match(RegExp(`^${t}$`))?.groups??{};for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)){if(t in s)throw new n.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,`Duplicate parameter "${t}" at ${e}`);s[t]=r[t]}}else if(o!==l)return!1}return a=s,!0})),o.length>1)throw new n.HttpException(i.HttpStatus.INTERNAL_SERVER_ERROR,`Conflicting routes found: ${o.join(", ")}`);let[c]=o;return c?{handler:e[c],methodParams:a}:{handler:null,methodParams:a}};#e=async(e,t,r)=>{let s=this.routes[e],n=r[Object.keys(r)[0]],d={};s.forEach((e,t)=>{let r=t._prefix??"";Object.entries(e??{}).forEach(([e,a])=>{d[[r,e].filter(Boolean).join("/")]={staticMethod:a,controller:t}})});let{handler:p,methodParams:m}=this.#r({handlers:d,path:n,params:r});if(!p)return this.#t(i.HttpStatus.NOT_FOUND,`${Object.keys(d)} - Route ${n.join("/")} is not found`);let{staticMethod:f,controller:h}=p;t.vovk={body:()=>t.json(),query:()=>(0,l.default)(t),meta:e=>(0,c.default)(t,e),form:()=>(0,u.default)(t),params:()=>m};try{await f._options?.before?.call(h,t);let e=await f.call(h,t,m);if(e instanceof Response)return e;if("object"==typeof e&&e&&!(e instanceof Array)&&(Reflect.has(e,Symbol.iterator)&&"function"==typeof e[Symbol.iterator]||Reflect.has(e,Symbol.asyncIterator)&&"function"==typeof e[Symbol.asyncIterator])){let r=new o.JSONLinesResponse(t,{headers:{...a.getHeadersFromOptions(f._options)}});return(async()=>{try{for await(let t of e)r.send(t)}catch(e){return r.throw(e)}return r.close()})(),r}return this.respond(200,e??null,f._options)}catch(e){try{await h._onError?.(e,t)}catch(e){console.error(e)}if("NEXT_REDIRECT"!==e.message&&"NEXT_NOT_FOUND"!==e.message){let t=e.statusCode||i.HttpStatus.INTERNAL_SERVER_ERROR;return this.#t(t,e.message,f._options,e.cause)}throw e}}}t.VovkApp=d,a=d},99204:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=r(36132),s=r(57653),i=r(6098),n=r(27134),o=r(35154);t.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===s.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,a._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){let{gen:t,data:r,schema:l,parentSchema:c,it:u}=e,{oneOf:d}=c;if(!u.opts.discriminator)throw Error("discriminator: requires discriminator option");let p=l.propertyName;if("string"!=typeof p)throw Error("discriminator: requires propertyName");if(l.mapping)throw Error("discriminator: mapping is not supported");if(!d)throw Error("discriminator: requires oneOf keyword");let m=t.let("valid",!1),f=t.const("tag",(0,a._)`${r}${(0,a.getProperty)(p)}`);t.if((0,a._)`typeof ${f} == "string"`,()=>(function(){let r=function(){var e;let t={},r=s(c),a=!0;for(let t=0;t<d.length;t++){let c=d[t];if((null==c?void 0:c.$ref)&&!(0,o.schemaHasRulesButRef)(c,u.self.RULES)){let e=c.$ref;if((c=i.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,e))instanceof i.SchemaEnv&&(c=c.schema),void 0===c)throw new n.default(u.opts.uriResolver,u.baseId,e)}let m=null==(e=null==c?void 0:c.properties)?void 0:e[p];if("object"!=typeof m)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);a=a&&(r||s(c)),function(e,t){if(e.const)l(e.const,t);else if(e.enum)for(let r of e.enum)l(r,t);else throw Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}(m,t)}if(!a)throw Error(`discriminator: "${p}" must be required`);return t;function s({required:e}){return Array.isArray(e)&&e.includes(p)}function l(e,r){if("string"!=typeof e||e in t)throw Error(`discriminator: "${p}" values must be unique strings`);t[e]=r}}();for(let s in t.if(!1),r)t.elseIf((0,a._)`${f} === ${s}`),t.assign(m,function(r){let s=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:r},s);return e.mergeEvaluated(i,a.Name),s}(r[s]));t.else(),e.error(!1,{discrError:s.DiscrError.Mapping,tag:f,tagName:p}),t.endIf()})(),()=>e.error(!1,{discrError:s.DiscrError.Tag,tag:f,tagName:p})),e.ok(m)}}},99877:e=>{"use strict";e.exports=function(e){if(e&&e.length)for(let r of e){let e;switch(r.keyword){case"additionalItems":case"items":e="";var t=r.params.limit;e+="nem\xf4že obsahovať viac, než "+t+" prv",1==t?e+="ok":e+="kov";break;case"additionalProperties":e="nem\xf4že obsahovať ďalšie položky";break;case"anyOf":e='mus\xed splňovať aspoň jednu zo sch\xe9m v "anyOf"';break;case"const":e="mus\xed byť konštanta";break;case"contains":e="mus\xed obsahovať prvok zodpovedaj\xfaci sch\xe9me";break;case"dependencies":case"dependentRequired":e="";var t=r.params.depsCount;e+=" mus\xed obsahovať polož",t>=2&&t<=4?e+="ky":1!=t?e+="iek":e+="ka",e+=": "+r.params.deps+", ak obsahuje "+r.params.property;break;case"discriminator":switch(r.params.error){case"tag":e='tag "'+r.params.tag+'" must be string';break;case"mapping":e='value of tag "'+r.params.tag+'" must be in oneOf';break;default:e='mus\xed splniť "'+r.keyword+'" valid\xe1ciu'}break;case"enum":e="mus\xed byť jedna z definovan\xfdch hodn\xf4t";break;case"false schema":e="sch\xe9ma je false";break;case"format":e='mus\xed obsahovať form\xe1t "'+r.params.format+'"';break;case"formatMaximum":case"formatExclusiveMaximum":case"formatMinimum":case"formatExclusiveMinimum":case"maximum":case"exclusiveMaximum":case"minimum":case"exclusiveMinimum":e="mus\xed byť "+(r.params.comparison+" ")+r.params.limit;break;case"if":e='must match "'+r.params.failingKeyword+'" schema';break;case"maxItems":e="";var t=r.params.limit;e+="nesmie obsahovať viac než "+t+" prv",1==t?e+="ok":e+="kov";break;case"maxLength":e="";var t=r.params.limit;e+="nesmie byť dlhš\xed než "+t+" znak",1!=t&&(e+="ov");break;case"maxProperties":e="";var t=r.params.limit;e+="nesmie obsahovať viac než "+t+" polož",t>=2&&t<=4?e+="ky":1!=t?e+="iek":e+="ka";break;case"minItems":e="";var t=r.params.limit;e+="nesmie obsahovať menej než "+t+" prv",1==t?e+="ok":e+="kov";break;case"minLength":e="";var t=r.params.limit;e+="nesmie byť kratš\xed než "+t+" znak",1!=t&&(e+="ov");break;case"minProperties":e="";var t=r.params.limit;e+="nesmie obsahovať menej než "+t+" polož",t>=2&&t<=4?e+="ky":1!=t?e+="iek":e+="ka";break;case"multipleOf":e="mus\xed byť n\xe1sobkom "+r.params.multipleOf;break;case"not":e='nesmie splňovať sch\xe9mu v "not"';break;case"oneOf":e='mus\xed splňovať pr\xe1ve jednu sch\xe9mu v "oneOf"';break;case"pattern":e='mus\xed splňovať regul\xe1rny v\xfdraz "'+r.params.pattern+'"';break;case"patternRequired":e='mus\xed obsahovať položku splňj\xfacu regul\xe1rny v\xfdraz "'+r.params.missingPattern+'"';break;case"propertyNames":e="n\xe1zov položky nezodpoved\xe1 sch\xe9me";break;case"required":e="mus\xed obsahovať požadovan\xfa položku "+r.params.missingProperty;break;case"type":e="mus\xed byť "+r.params.type;break;case"unevaluatedItems":e="";var t=r.params.len;e+="must NOT have more than "+t+" item",1!=t&&(e+="s");break;case"unevaluatedProperties":e="must NOT have unevaluated properties";break;case"uniqueItems":e="nesmie obsahovať duplicitn\xe9 prvky (prvky ## "+r.params.j+" a "+r.params.i+" s\xfa rovnak\xe9)";break;default:e='mus\xed splniť "'+r.keyword+'" valid\xe1ciu'}r.message=e}}}}]);