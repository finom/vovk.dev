<div className="flex text-left gap-14 items-stretch flex-col lg:flex-row justify-center mt-12 relative">
<div className='lg:w-1/2 sm:w-full relative'>
```ts twoslash include main
// @experimentalDecorators: true
// @filename: @/lib/withZod.ts
import { z } from 'zod/v4';
import { createStandardValidation } from 'vovk';

export const withZod = createStandardValidation({
  toJSONSchema: (model: z.core.$ZodType) => z.toJSONSchema(model),
});

// @filename: ./UserService.ts
// paste your actual UserService types here
export default class UserService {
  static updateUser(id: string, body: { email: string }, notify: 'push' | 'sms') {
    return Promise.resolve({ id, ...body });
  }
}

// @filename: index.ts
// ---cut---
import { put, prefix } from 'vovk';
import { z } from 'zod';
import { withZod } from '@/lib/withZod';
import UserService from './UserService';

@prefix('users')
export default class UserController {
  @put('{id}')
  static updateUser = withZod({
    params: z.object({ id: z.uuid() }),
    body: z.object({ email: z.email() }),
    query: z.object({ notify: z.enum(['push', 'sms']) }),
    async handle(req, { id }) {
      const body = await req.json();
      const notify = req.nextUrl.searchParams.get('notify');
         //    ^?



      return UserService.updateUser(id, body, notify);
    },
  });
}
```
<svg xmlns="http://www.w3.org/2000/svg" width="23.828" height="14.769" className="dark:invert absolute rotate-90 right-1/2 -bottom-9 lg:left-none lg:rotate-0 lg:top-1/2 lg:-right-10 scale-150"><path d="m13.616 2.828 2.585 2.586H0v4h16.143l-2.527 2.526 2.828 2.829 7.384-7.384L16.444 0l-2.828 2.828z"/></svg>
</div>

<div className='lg:w-1/2 sm:w-full'>
```ts twoslash
// @experimentalDecorators: true
// @filename: @/lib/withZod.ts
import { z } from 'zod/v4';
import { createStandardValidation } from 'vovk';

export const withZod = createStandardValidation({
  toJSONSchema: (model: z.core.$ZodType) => z.toJSONSchema(model),
});

// @filename: ./UserService.ts
// paste your actual UserService types here
export default class UserService {
  static updateUser(id: string, body: { email: string }, notify: 'push' | 'sms') {
    return Promise.resolve({ id, ...body });
  }
}

// @filename: UserController.ts
import { put, prefix } from 'vovk';
import { z } from 'zod';
import { withZod } from '@/lib/withZod';
import UserService from './UserService';

@prefix('users')
export default class UserController {
  @put('{id}')
  static updateUser = withZod({
    params: z.object({ id: z.uuid() }),
    body: z.object({ email: z.email() }),
    query: z.object({ notify: z.enum(['push', 'sms']) }),
    async handle(req, { id }) {
      const body = await req.json();
      const notify = req.nextUrl.searchParams.get('notify');
      return UserService.updateUser(id, body, notify);
    },
  });
}
// @filename: node_modules/vovk-client/index.d.ts
import type { VovkFetcher } from 'vovk';
import type { createRPC } from 'vovk';
import type UserController from '../../UserController';

export const UserRPC: ReturnType<typeof createRPC<typeof UserController, typeof import('vovk').fetcher extends VovkFetcher<infer U> ? U : never>>;
// ---cut---
import { UserRPC } from 'vovk-client';

/**
 * Runs regular fetch under the hood, e.g.:
 * fetch('/api/users/.../?notify=push', { method: 'PUT', body })
 * UserRPC.updateUser type is directly inferred
 * from UserController.updateUser
 */
const user = await UserRPC.updateUser({
  params: {
    id: 'a3bb189e-8bf9-3888-9912-ace4e6543002',
  },
  query: {
    notify: 'push',
  },
  body: {
    email: 'john.doe@example.com',
  },
  // options defined in a custom fetcher
  successToast: 'User updated successfully',
  errorToast: 'Failed to update user', 
});
```
</div>
</div>