# Schema

TODO config schema

[vovk dev](/cli/dev) emits JSON files that contain information about endpoints, method names, validation, openapi object, etc, defined at the controller to **.vovk-schema/segments/** folder. Each **.json** file represents schema for one [segment](/segment).

Example of a segment schema file:

```json filename=".vovk-schema/segments/foo.json"
{
  // vovkInit function option that defines is the schema going to be emitted for this segment
  "emitSchema": true,
  // Segment name, for the root segment it's an empty string
  "segmentName": "foo",
  // List of controllers as key-value pairs for fast access
  // Key is a name of the variable thst's going to be exported from "vovk-client"
  // Value is controller information
  "controllers": {
    "HelloRPC": {
      // RPC name that's going to be used in the client
      "controllerName": "HelloRPC",
      // Original name of the controller class
      "originalControllerName": "HelloController",
      // An argument of @prefix class decorator
      "prefix": "hello",
      // List of handlers as key-value pairs for fast access
      // Key is a static method name
      // Value is a handler information
      "handlers": {
        "getHello": {
          // Endpoint that's concatenated with the prefix
          "path": "greeting",
          // HTTP method
          "httpMethod": "POST",
          // Validation for "body" and "query"
          // Can contain any custom data, at this case it's JSON schema emitted by "vovk-zod"
          "validation": {
            "body": {
              "type": "object",
              "properties": {
                "foo": {
                  "type": "string"
                }
              },
              "required": ["foo"],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            },
            "query": {
              "type": "object",
              "properties": {
                "bar": {
                  "type": "string"
                }
              },
              "required": ["bar"],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
            // ... "params", "output", "iteration"
          },
          // OpenAPI object that can be used to generate OpenAPI documentation
          "openapi": {
            "summary": "Hello world",
            "description": "Hello world"
          },
          // Custom data that can be defined by a custom decorator
          "custom": {
            "hello": "World"
          }
        }
      }
    }
  }
}
```

The segment schema type is defined as `VovkSegmentSchema` that is exported from `vovk` package.

Vovk also emits processed config file (by default it emits only `"libs"` key, see [config docs](/config)) as **config.json** file. Type of this file is `Partial<VovkStrictConfig>`.

TODO

Check how to emit custom schema and validation at [decorators documentation](/controller/decorator).
