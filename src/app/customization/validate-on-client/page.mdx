# `validateOnClient`

The `validateOnClient` function implements `VovkValidateOnClient` interface and defines how the client-side validation is performed. By default, it uses `zod` library to validate the request params, body and query. It accepts two arguments:

- `input` - the input object that includes `params`, `query` and `body` properties;
- `validation` - the validation object that includes `params`, `query` and `body` properties.

```ts filename="src/lib/validateOnClient.ts"
import type { VovkValidateOnClient } from 'vovk';

export const validateOnClient: VovkValidateOnClient = async (input, validation) => {
  if (validation.body) {
    console.log(validation.body, input.body);
    // validate input.body with validation.body schema
  }

  if (validation.query) {
    console.log(validation.query, input.query);
    // validate input.query with validation.query schema
  }

  if (validation.params) {
    console.log(validation.params, input.params);
    // validate input.params with validation.params schema
  }
};
```

It can be passed to generated RPC function as `validateOnClient` option:

```ts {9}
import { UserRPC } from 'vovk-client';
import { validateOnClient } from '@/lib/validateOnClient';

// ...
await UserRPC.updateUser({
  body,
  query,
  params,
  validateOnClient,
});
```

---

You can redefine the import path of the `validateOnClient` that is used at the generated RPC library.

```ts filename="vovk.config.mjs" {4}
/** @type {import('vovk').VovkConfig} */
const vovkConfig = {
  imports: {
    validateOnClient: './src/lib/validateOnClient.ts',
  },
};

export default vovkConfig;
```

This also can be done by setting `VOVK_IMPORTS_VALIDATE_ON_CLIENT` env variable:

```sh
VOVK_IMPORTS_VALIDATE_ON_CLIENT="./src/lib/validateOnClient" npx vovk dev
```

At this case RPCs imported from **vovk-client** will utilize the custom `validateOnClient` function.

```ts filename="./node_modules/.vovk-client/index.ts (rendered using 'ts' template)" {8}
import type { VovkClientFetcher } from 'vovk';
import { fetcher } from 'vovk';
import { createRPC } from 'vovk';
import { fullSchema } from './fullSchema.cjs';
import type { Controllers as Controllers0 } from '../../app/api/[[...vovk]]/route.ts';
import { validateOnClient } from '../../src/lib/validateOnClient.ts';

type Options = typeof fetcher extends VovkClientFetcher<infer U> ? U : never;
const apiRoot = '/api';

export const UserRPC = createRPC<Controllers0['UserRPC'], Options>(fullSchema, '', 'UserRPC', {
  fetcher,
  validateOnClient,
  defaultOptions: { apiRoot },
});
```

The `validateOnClient` function doesn't have to be passed to the generated RPC function manually anymore.

```ts
import { UserRPC } from 'vovk-client';

// ...
await UserRPC.updateUser({
  body,
  query,
  params,
});
```
