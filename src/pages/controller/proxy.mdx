# Proxy endpoints

## JSON

You can easily create a proxy endpoint by fetching data from another server with `fetch` function that returns `Response` instance that's automatically handled by Next.js. The only thing you need to do is to define a different return type.

```ts
import { get } from 'vovk';

export default class ProxyController {
  @get('greeting', { cors: true })
  static getHello() {
    return fetch('https://vovk.dev/api/hello/greeting.json') as unknown as { greeting: 'Hello world!' };
  }
}
```

See this [example in action](http://vovk-examples.vercel.app/proxy).

On the client-side the return type is going to be reused.

```ts
import { ProxyRPC } from 'vovk-client';

// ...
const { greeting } = await ProxyRPC.getHello();
```

You can also define response type at the client method if you want to keep the return type to be a generic `Response`.

```ts
import { ProxyRPC } from 'vovk-client';

// ...
const { greeting } = await ProxyRPC.getHello<{ greeting: string }>();
```

## Blob

If you don't change the return type, the client will automatically resolve the response as `Response` object. This is useful when you need to fetch a file or a binary data.

```ts
import { get } from 'vovk';
export default class ProxyController {
    @get('proxy')
    static proxy() {
        return fetch('https://example.com/example.pdf');
    }
}
```

```ts
import { ProxyRPC } from 'vovk-client';

// ...
const response = await ProxyRPC.proxy();
const buffer = await response.arrayBuffer();
const blob = new Blob([arrayBuffer], { type: 'application/pdf' });
// ...
```